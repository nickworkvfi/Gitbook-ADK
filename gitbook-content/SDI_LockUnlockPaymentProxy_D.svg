<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="902px" preserveAspectRatio="none" style="width:1154px;height:902px;" version="1.1" viewBox="0 0 1154 902" width="1154px" zoomAndPan="magnify"><defs><filter height="300%" id="f12w4udz5n09xv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="38.2969" y2="164.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="164.8281" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="192.8281" y2="425.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="425.8906" y2="453.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="453.8906" y2="686.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="686.9531" y2="714.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="714.9531" y2="841.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="38.2969" y2="164.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="147" x2="147" y1="164.8281" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="192.8281" y2="425.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="147" x2="147" y1="425.8906" y2="453.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="453.8906" y2="686.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="147" x2="147" y1="686.9531" y2="714.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="714.9531" y2="841.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="624.5" y1="38.2969" y2="164.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="624.5" x2="624.5" y1="164.8281" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="624.5" y1="192.8281" y2="425.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="624.5" x2="624.5" y1="425.8906" y2="453.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="624.5" y1="453.8906" y2="686.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="624.5" x2="624.5" y1="686.9531" y2="714.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="624.5" y1="714.9531" y2="841.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1103.5" x2="1103.5" y1="38.2969" y2="164.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1103.5" x2="1103.5" y1="164.8281" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1103.5" x2="1103.5" y1="192.8281" y2="425.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1103.5" x2="1103.5" y1="425.8906" y2="453.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1103.5" x2="1103.5" y1="453.8906" y2="686.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1103.5" x2="1103.5" y1="686.9531" y2="714.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1103.5" x2="1103.5" y1="714.9531" y2="841.4844"/><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="22.9951">SDI client</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="840.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="860.4795">SDI client</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="100" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="107" y="22.9951">SDI client 2</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="100" y="840.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="107" y="860.4795">SDI client 2</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="583.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="590.5" y="22.9951">SDI proxy</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="583.5" y="840.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="590.5" y="860.4795">SDI proxy</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="1059.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1066.5" y="22.9951">SDI server</text><rect fill="#FEFECE" filter="url(#f12w4udz5n09xv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="1059.5" y="840.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1066.5" y="860.4795">SDI server</text><polygon fill="#FF0000" points="612.5,65.4297,622.5,69.4297,612.5,73.4297,616.5,69.4297" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="49" x2="618.5" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="56" y="64.3638">message ID=X, lock payment 20-06</text><polygon fill="#FF0000" points="1091.5,94.5625,1101.5,98.5625,1091.5,102.5625,1095.5,98.5625" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="631.5" y="93.4966">message ID=A, lock payment 20-06</text><polygon fill="#FF0000" points="635.5,123.6953,625.5,127.6953,635.5,131.6953,631.5,127.6953" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="641.5" y="122.6294">message ID=A, intermediate result 99-01 (OK)</text><polygon fill="#FF0000" points="60,152.8281,50,156.8281,60,160.8281,56,156.8281" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="623.5" y1="156.8281" y2="156.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="66" y="151.7622">message ID=X, intermediate result 99-01 (OK)</text><polygon fill="#A80036" points="612.5,209.9609,622.5,213.9609,612.5,217.9609,616.5,213.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="618.5" y1="213.9609" y2="213.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="453" x="56" y="208.895">message ID=Y, payment command (e.g. EMV CT init framework 39-00)</text><polygon fill="#A80036" points="1091.5,239.0938,1101.5,243.0938,1091.5,247.0938,1095.5,243.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="243.0938" y2="243.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="455" x="631.5" y="238.0278">message ID=B, payment command (e.g. EMV CT init framework 39-00)</text><polygon fill="#FF0000" points="612.5,268.2266,622.5,272.2266,612.5,276.2266,616.5,272.2266" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="147.5" x2="618.5" y1="272.2266" y2="272.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="154.5" y="267.1606">message ID=X, lock payment 20-06</text><polygon fill="#FF0000" points="1091.5,297.3594,1101.5,301.3594,1091.5,305.3594,1095.5,301.3594" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="301.3594" y2="301.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="631.5" y="296.2935">message ID=C, lock payment 20-06</text><polygon fill="#A80036" points="635.5,326.4922,625.5,330.4922,635.5,334.4922,631.5,330.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="330.4922" y2="330.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="453" x="641.5" y="325.4263">message ID=B, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="60,355.625,50,359.625,60,363.625,56,359.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="623.5" y1="359.625" y2="359.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="66" y="354.5591">message ID=Y, payment command response (result: 90-00 "success")</text><polygon fill="#FF0000" points="635.5,384.7578,625.5,388.7578,635.5,392.7578,631.5,388.7578" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="388.7578" y2="388.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="454" x="641.5" y="383.6919">message ID=C, lock payment response (result: 64-FA "already locked")</text><polygon fill="#FF0000" points="158.5,413.8906,148.5,417.8906,158.5,421.8906,154.5,417.8906" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152.5" x2="623.5" y1="417.8906" y2="417.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="453" x="164.5" y="412.8247">message ID=X, lock payment response (result: 64-FA "already locked")</text><polygon fill="#A80036" points="612.5,471.0234,622.5,475.0234,612.5,479.0234,616.5,475.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="618.5" y1="475.0234" y2="475.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="56" y="469.9575">message ID=Z, payment command (e.g. Card detect 23-01)</text><polygon fill="#A80036" points="1091.5,500.1563,1101.5,504.1563,1091.5,508.1563,1095.5,504.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="504.1563" y2="504.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="631.5" y="499.0903">message ID=D, payment command (e.g. Card detect 23-01)</text><polygon fill="#A80036" points="612.5,529.2891,622.5,533.2891,612.5,537.2891,616.5,533.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147.5" x2="618.5" y1="533.2891" y2="533.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="154.5" y="528.2231">message ID=Y, side command</text><polygon fill="#A80036" points="1091.5,558.4219,1101.5,562.4219,1091.5,566.4219,1095.5,562.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="562.4219" y2="562.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="631.5" y="557.356">message ID=E, side command</text><polygon fill="#A80036" points="635.5,587.5547,625.5,591.5547,635.5,595.5547,631.5,591.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="591.5547" y2="591.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="454" x="641.5" y="586.4888">message ID=D, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="60,616.6875,50,620.6875,60,624.6875,56,620.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="623.5" y1="620.6875" y2="620.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="454" x="66" y="615.6216">message ID=Z, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="635.5,645.8203,625.5,649.8203,635.5,653.8203,631.5,649.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="649.8203" y2="649.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="391" x="641.5" y="644.7544">message ID=E, command response (result: 90-00 "success")</text><polygon fill="#A80036" points="158.5,674.9531,148.5,678.9531,158.5,682.9531,154.5,678.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152.5" x2="623.5" y1="678.9531" y2="678.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="164.5" y="673.8872">message ID=Y, command response (result: 90-00 "success")</text><polygon fill="#FF0000" points="612.5,732.0859,622.5,736.0859,612.5,740.0859,616.5,736.0859" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="49" x2="618.5" y1="736.0859" y2="736.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="56" y="731.02">message ID=X, abort 20-02 (unlock payment)</text><polygon fill="#FF0000" points="1091.5,761.2188,1101.5,765.2188,1091.5,769.2188,1095.5,765.2188" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="624.5" x2="1097.5" y1="765.2188" y2="765.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="631.5" y="760.1528">message ID=A, abort 20-02 (unlock payment)</text><polygon fill="#FF0000" points="635.5,790.3516,625.5,794.3516,635.5,798.3516,631.5,794.3516" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="629.5" x2="1102.5" y1="794.3516" y2="794.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="422" x="641.5" y="789.2856">message ID=A, lock payment response (result: 65-00 "cancelled")</text><polygon fill="#FF0000" points="60,819.4844,50,823.4844,60,827.4844,56,823.4844" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="623.5" y1="823.4844" y2="823.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="421" x="66" y="818.4185">message ID=X, lock payment response (result: 65-00 "cancelled")</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="351" x="402.25" y="889.0635">message ID sequence: X=n, Y=n+1, Z=n+2, A=m, B=m+1, C=m+2, ...</text><!--
@startuml

participant "SDI client" order 10
participant "SDI client 2" order 20
participant "SDI proxy" order 30
participant "SDI server" order 40
footer message ID sequence: X=n, Y=n+1, Z=n+2, A=m, B=m+1, C=m+2, ...
"SDI client"-[#f00]>"SDI proxy": message ID=X, lock payment 20-06
"SDI proxy"-[#f00]>"SDI server": message ID=A, lock payment 20-06
"SDI proxy"<-[#f00]-"SDI server": message ID=A, intermediate result 99-01 (OK)
"SDI client"<-[#f00]-"SDI proxy": message ID=X, intermediate result 99-01 (OK)
...
"SDI client"->"SDI proxy": message ID=Y, payment command (e.g. EMV CT init framework 39-00)
"SDI proxy"->"SDI server": message ID=B, payment command (e.g. EMV CT init framework 39-00)
"SDI client 2"-[#f00]>"SDI proxy": message ID=X, lock payment 20-06
"SDI proxy"-[#f00]>"SDI server": message ID=C, lock payment 20-06
"SDI proxy"<- -"SDI server": message ID=B, payment command response (result: 90-00 "success")
"SDI client"<- -"SDI proxy": message ID=Y, payment command response (result: 90-00 "success")
"SDI proxy"<-[#f00]-"SDI server": message ID=C, lock payment response (result: 64-FA "already locked")
"SDI client 2"<-[#f00]-"SDI proxy": message ID=X, lock payment response (result: 64-FA "already locked")
...
"SDI client"->"SDI proxy": message ID=Z, payment command (e.g. Card detect 23-01)
"SDI proxy"->"SDI server": message ID=D, payment command (e.g. Card detect 23-01)
"SDI client 2"->"SDI proxy": message ID=Y, side command
"SDI proxy"->"SDI server": message ID=E, side command
"SDI proxy"<- -"SDI server": message ID=D, payment command response (result: 90-00 "success")
"SDI client"<- -"SDI proxy": message ID=Z, payment command response (result: 90-00 "success")
"SDI proxy"<- -"SDI server": message ID=E, command response (result: 90-00 "success")
"SDI client 2"<- -"SDI proxy": message ID=Y, command response (result: 90-00 "success")
...
"SDI client"-[#f00]>"SDI proxy": message ID=X, abort 20-02 (unlock payment)
"SDI proxy"-[#f00]>"SDI server": message ID=A, abort 20-02 (unlock payment)
"SDI proxy"<-[#f00]-"SDI server": message ID=A, lock payment response (result: 65-00 "cancelled")
"SDI client"<-[#f00]-"SDI proxy": message ID=X, lock payment response (result: 65-00 "cancelled")

@enduml

PlantUML version 1.2019.03(Sun Mar 10 04:04:44 PDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.15+6-Ubuntu-0ubuntu120.04
Operating System: Linux
OS Version: 5.15.0-1089-azure
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>