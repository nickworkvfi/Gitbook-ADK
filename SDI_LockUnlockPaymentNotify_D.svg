<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="579px" preserveAspectRatio="none" style="width:593px;height:579px;" version="1.1" viewBox="0 0 593 579" width="593px" zoomAndPan="magnify"><defs><filter height="300%" id="fshccy5svubj5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="38.2969" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="106.5625" y2="134.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="134.5625" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="192.8281" y2="220.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="220.8281" y2="249.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="249.9609" y2="277.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="277.9609" y2="365.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="365.3594" y2="393.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="393.3594" y2="422.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="422.4922" y2="450.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="450.4922" y2="518.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="38.2969" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="542" x2="542" y1="106.5625" y2="134.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="134.5625" y2="192.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="542" x2="542" y1="192.8281" y2="220.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="220.8281" y2="249.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="542" x2="542" y1="249.9609" y2="277.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="277.9609" y2="365.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="542" x2="542" y1="365.3594" y2="393.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="393.3594" y2="422.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="542" x2="542" y1="422.4922" y2="450.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542" x2="542" y1="450.4922" y2="518.7578"/><rect fill="#FEFECE" filter="url(#fshccy5svubj5)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="22.9951">SDI client</text><rect fill="#FEFECE" filter="url(#fshccy5svubj5)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="517.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="537.7529">SDI client</text><rect fill="#FEFECE" filter="url(#fshccy5svubj5)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="498" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="505" y="22.9951">SDI server</text><rect fill="#FEFECE" filter="url(#fshccy5svubj5)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="498" y="517.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="505" y="537.7529">SDI server</text><polygon fill="#FF0000" points="530,65.4297,540,69.4297,530,73.4297,534,69.4297" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="49" x2="536" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="56" y="64.3638">message ID=X, lock payment 20-06</text><polygon fill="#FF0000" points="60,94.5625,50,98.5625,60,102.5625,56,98.5625" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="66" y="93.4966">message ID=X, intermediate result 99-01 (OK)</text><polygon fill="#A80036" points="530,151.6953,540,155.6953,530,159.6953,534,155.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="536" y1="155.6953" y2="155.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="469" x="56" y="150.6294">message ID=Y, payment command (e.g. EMV CTLS init framework 40-00)</text><polygon fill="#A80036" points="60,180.8281,50,184.8281,60,188.8281,56,184.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="184.8281" y2="184.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="66" y="179.7622">message ID=Y, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="60,237.9609,50,241.9609,60,245.9609,56,241.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="241.9609" y2="241.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="66" y="236.895">message ID=X, payment notification callback (e.g. Notify callback 9E-01)</text><polygon fill="#A80036" points="530,295.0938,540,299.0938,530,303.0938,534,299.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="536" y1="299.0938" y2="299.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="56" y="294.0278">message ID=Z, payment command (e.g. Card detect 23-01)</text><polygon fill="#A80036" points="60,324.2266,50,328.2266,60,332.2266,56,328.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="328.2266" y2="328.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="66" y="323.1606">message ID=X, payment notification callback (e.g. Notify callback 9E-01)</text><polygon fill="#A80036" points="60,353.3594,50,357.3594,60,361.3594,56,357.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="357.3594" y2="357.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="454" x="66" y="352.2935">message ID=Z, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="60,410.4922,50,414.4922,60,418.4922,56,414.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="414.4922" y2="414.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="66" y="409.4263">message ID=X, payment notification callback (e.g. Notify callback 9E-01)</text><polygon fill="#FF0000" points="530,467.625,540,471.625,530,475.625,534,471.625" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="49" x2="536" y1="471.625" y2="471.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="56" y="466.5591">message ID=X, abort 20-02 (unlock payment)</text><polygon fill="#FF0000" points="60,496.7578,50,500.7578,60,504.7578,56,500.7578" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="541" y1="500.7578" y2="500.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="421" x="66" y="495.6919">message ID=X, lock payment response (result: 65-00 "cancelled")</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="214" x="190" y="566.3369">message ID sequence: X=n, Y=n+1, Z=n+2</text><!--
@startuml

participant "SDI client" order 10
participant "SDI server" order 20
footer message ID sequence: X=n, Y=n+1, Z=n+2
"SDI client"-[#f00]>"SDI server": message ID=X, lock payment 20-06
"SDI client"<-[#f00]-"SDI server": message ID=X, intermediate result 99-01 (OK)
...
"SDI client"->"SDI server": message ID=Y, payment command (e.g. EMV CTLS init framework 40-00)
"SDI client"<- -"SDI server": message ID=Y, payment command response (result: 90-00 "success")
...
"SDI client"<- -"SDI server": message ID=X, payment notification callback (e.g. Notify callback 9E-01)
...
"SDI client"->"SDI server": message ID=Z, payment command (e.g. Card detect 23-01)
"SDI client"<- -"SDI server": message ID=X, payment notification callback (e.g. Notify callback 9E-01)
"SDI client"<- -"SDI server": message ID=Z, payment command response (result: 90-00 "success")
...
"SDI client"<- -"SDI server": message ID=X, payment notification callback (e.g. Notify callback 9E-01)
...
"SDI client"-[#f00]>"SDI server": message ID=X, abort 20-02 (unlock payment)
"SDI client"<-[#f00]-"SDI server": message ID=X, lock payment response (result: 65-00 "cancelled")
@enduml

PlantUML version 1.2019.03(Sun Mar 10 04:04:44 PDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.14+7-Ubuntu-120.04
Operating System: Linux
OS Version: 5.15.0-1082-azure
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>