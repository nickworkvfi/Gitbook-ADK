<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="466px" preserveAspectRatio="none" style="width:613px;height:466px;" version="1.1" viewBox="0 0 613 466" width="613px" zoomAndPan="magnify"><defs><filter height="300%" id="fkkyvr8j7vscf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="38.2969" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="106.5625" y2="134.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="134.5625" y2="309.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="49" x2="49" y1="309.3594" y2="337.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="49" y1="337.3594" y2="405.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="38.2969" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="147" x2="147" y1="106.5625" y2="134.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="134.5625" y2="309.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="147" x2="147" y1="309.3594" y2="337.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="147" y1="337.3594" y2="405.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562.5" x2="562.5" y1="38.2969" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="562.5" x2="562.5" y1="106.5625" y2="134.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562.5" x2="562.5" y1="134.5625" y2="309.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="562.5" x2="562.5" y1="309.3594" y2="337.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562.5" x2="562.5" y1="337.3594" y2="405.625"/><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="22.9951">SDI client</text><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="8" y="404.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="15" y="424.6201">SDI client</text><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="100" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="107" y="22.9951">SDI client 2</text><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="100" y="404.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="107" y="424.6201">SDI client 2</text><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="518.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="525.5" y="22.9951">SDI server</text><rect fill="#FEFECE" filter="url(#fkkyvr8j7vscf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="518.5" y="404.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="525.5" y="424.6201">SDI server</text><polygon fill="#A80036" points="550.5,65.4297,560.5,69.4297,550.5,73.4297,554.5,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="556.5" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="56" y="64.3638">message ID=X, lock payment 20-06</text><polygon fill="#A80036" points="60,94.5625,50,98.5625,60,102.5625,56,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="561.5" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="66" y="93.4966">message ID=X, intermediate result 9E-05 (OK)</text><polygon fill="#A80036" points="550.5,151.6953,560.5,155.6953,550.5,159.6953,554.5,155.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="556.5" y1="155.6953" y2="155.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="453" x="56" y="150.6294">message ID=Y, payment command (e.g. EMV CT init framework 39-00)</text><polygon fill="#A80036" points="550.5,180.8281,560.5,184.8281,550.5,188.8281,554.5,184.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="556.5" y1="184.8281" y2="184.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="56" y="179.7622">message ID=Z, payment command (e.g. Card detect 23-01)</text><polygon fill="#FF0000" points="60,209.9609,50,213.9609,60,217.9609,56,213.9609" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="561.5" y1="213.9609" y2="213.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="434" x="66" y="208.895">message ID=Z, payment command response (result: 64-0A "busy")</text><polygon fill="#A80036" points="550.5,239.0938,560.5,243.0938,550.5,247.0938,554.5,243.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147.5" x2="556.5" y1="243.0938" y2="243.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="154.5" y="238.0278">message ID=X, side command</text><polygon fill="#A80036" points="158.5,268.2266,148.5,272.2266,158.5,276.2266,154.5,272.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152.5" x2="561.5" y1="272.2266" y2="272.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="391" x="164.5" y="267.1606">message ID=X, command response (result: 90-00 "success")</text><polygon fill="#A80036" points="60,297.3594,50,301.3594,60,305.3594,56,301.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="561.5" y1="301.3594" y2="301.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="66" y="296.2935">message ID=Y, payment command response (result: 90-00 "success")</text><polygon fill="#A80036" points="550.5,354.4922,560.5,358.4922,550.5,362.4922,554.5,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="556.5" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="56" y="353.4263">message ID=X, abort 20-02 (unlock payment)</text><polygon fill="#A80036" points="60,383.625,50,387.625,60,391.625,56,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="561.5" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="421" x="66" y="382.5591">message ID=X, lock payment response (result: 65-00 "cancelled")</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="214" x="200.25" y="453.2041">message ID sequence: X=n, Y=n+1, Z=n+2</text><!--
@startuml

participant "SDI client" order 10
participant "SDI client 2" order 20
participant "SDI server" order 30
footer message ID sequence: X=n, Y=n+1, Z=n+2
"SDI client"->"SDI server": message ID=X, lock payment 20-06
"SDI client"<- -"SDI server": message ID=X, intermediate result 9E-05 (OK)
...
"SDI client"->"SDI server": message ID=Y, payment command (e.g. EMV CT init framework 39-00)
"SDI client"->"SDI server": message ID=Z, payment command (e.g. Card detect 23-01)
"SDI client"<-[#f00]-"SDI server": message ID=Z, payment command response (result: 64-0A "busy")
"SDI client 2"->"SDI server": message ID=X, side command
"SDI client 2"<- -"SDI server": message ID=X, command response (result: 90-00 "success")
"SDI client"<- -"SDI server": message ID=Y, payment command response (result: 90-00 "success")
...
"SDI client"->"SDI server": message ID=X, abort 20-02 (unlock payment)
"SDI client"<- -"SDI server": message ID=X, lock payment response (result: 65-00 "cancelled")
@enduml

PlantUML version 1.2019.03(Sun Mar 10 04:04:44 PDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.14+7-Ubuntu-120.04
Operating System: Linux
OS Version: 5.15.0-1082-azure
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>