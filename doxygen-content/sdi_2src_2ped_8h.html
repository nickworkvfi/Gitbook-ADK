<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: sdi/src/ped.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sdi_2src_2ped_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ped.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="sdi_2src_2ped_8h__dep__incl.png" border="0" usemap="#sdi_2src_2ped_8hdep" alt=""/></div>
<map name="sdi_2src_2ped_8hdep" id="sdi_2src_2ped_8hdep">
<area shape="rect" title=" " alt="" coords="405,5,509,32"/>
<area shape="rect" href="madk__pp__protocol_8cpp.html" title=" " alt="" coords="5,80,220,107"/>
<area shape="rect" href="main_8cpp.html" title=" " alt="" coords="245,80,373,107"/>
<area shape="rect" href="ped_8cpp.html" title=" " alt="" coords="397,80,516,107"/>
<area shape="rect" href="sec_8cpp.html" title=" " alt="" coords="539,80,657,107"/>
<area shape="rect" href="sys_8cpp.html" title=" " alt="" coords="681,80,798,107"/>
</map>
</div>
</div>
<p><a href="sdi_2src_2ped_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa03c0db7c55eb8224cb835994abb63a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#aa03c0db7c55eb8224cb835994abb63a8">CLA_PED</a>&#160;&#160;&#160;0x22</td></tr>
<tr class="memdesc:aa03c0db7c55eb8224cb835994abb63a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for PED commands.  <a href="sdi_2src_2ped_8h.html#aa03c0db7c55eb8224cb835994abb63a8">More...</a><br /></td></tr>
<tr class="separator:aa03c0db7c55eb8224cb835994abb63a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b71c79dc791154fa99efeea834f422a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a9b71c79dc791154fa99efeea834f422a">INS_PED_ENABLE</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:a9b71c79dc791154fa99efeea834f422a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or Disable PED.  <a href="sdi_2src_2ped_8h.html#a9b71c79dc791154fa99efeea834f422a">More...</a><br /></td></tr>
<tr class="separator:a9b71c79dc791154fa99efeea834f422a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf5012e2bf73c386f1f1d5f00785e26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a1bf5012e2bf73c386f1f1d5f00785e26">INS_PED_GET_PIN</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a1bf5012e2bf73c386f1f1d5f00785e26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request PIN from user.  <a href="sdi_2src_2ped_8h.html#a1bf5012e2bf73c386f1f1d5f00785e26">More...</a><br /></td></tr>
<tr class="separator:a1bf5012e2bf73c386f1f1d5f00785e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c621b8bdbccfbd6befc23e34ef092e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a9c621b8bdbccfbd6befc23e34ef092e6">INS_SET_PIN_TIMEOUT</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:a9c621b8bdbccfbd6befc23e34ef092e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure timeout for PIN entry.  <a href="sdi_2src_2ped_8h.html#a9c621b8bdbccfbd6befc23e34ef092e6">More...</a><br /></td></tr>
<tr class="separator:a9c621b8bdbccfbd6befc23e34ef092e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2890ca3e6881559d9c626f6d7bb43fb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a2890ca3e6881559d9c626f6d7bb43fb0">INS_PED_START_PIN</a>&#160;&#160;&#160;0x03</td></tr>
<tr class="memdesc:a2890ca3e6881559d9c626f6d7bb43fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start PIN entry (polling interface)  <a href="sdi_2src_2ped_8h.html#a2890ca3e6881559d9c626f6d7bb43fb0">More...</a><br /></td></tr>
<tr class="separator:a2890ca3e6881559d9c626f6d7bb43fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3090b4a2e335c9fc78d6830e1d1f709"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#ad3090b4a2e335c9fc78d6830e1d1f709">INS_PED_POLL_PIN</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:ad3090b4a2e335c9fc78d6830e1d1f709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll PIN entry status (polling interface)  <a href="sdi_2src_2ped_8h.html#ad3090b4a2e335c9fc78d6830e1d1f709">More...</a><br /></td></tr>
<tr class="separator:ad3090b4a2e335c9fc78d6830e1d1f709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84be289ebb7f0e7e1b153ea9642a47c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a84be289ebb7f0e7e1b153ea9642a47c0">INS_PED_STOP_PIN</a>&#160;&#160;&#160;0x05</td></tr>
<tr class="memdesc:a84be289ebb7f0e7e1b153ea9642a47c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop PIN entry (polling interface)  <a href="sdi_2src_2ped_8h.html#a84be289ebb7f0e7e1b153ea9642a47c0">More...</a><br /></td></tr>
<tr class="separator:a84be289ebb7f0e7e1b153ea9642a47c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0d4385ec8cb7c04b26fc75879146c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#aee0d4385ec8cb7c04b26fc75879146c1">INS_SET_PIN_INPUT_PARAM</a>&#160;&#160;&#160;0x06</td></tr>
<tr class="memdesc:aee0d4385ec8cb7c04b26fc75879146c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure PIN input parameter.  <a href="sdi_2src_2ped_8h.html#aee0d4385ec8cb7c04b26fc75879146c1">More...</a><br /></td></tr>
<tr class="separator:aee0d4385ec8cb7c04b26fc75879146c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a576b866745c7f8c53122bbb8b23bfed8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a576b866745c7f8c53122bbb8b23bfed8">handlePedCmd</a> (unsigned short msgBufSize, unsigned char *msg, unsigned short msgSize, unsigned short rspBufSize, unsigned char *rsp, unsigned short *rspSize)</td></tr>
<tr class="separator:a576b866745c7f8c53122bbb8b23bfed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c8c216f26262d3bb93de55d10086e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#aa0c8c216f26262d3bb93de55d10086e4">pedSetExtButton</a> (void)</td></tr>
<tr class="separator:aa0c8c216f26262d3bb93de55d10086e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdc4bd6bf4da35073f47249ee9357c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdi_2src_2ped_8h.html#a2cdc4bd6bf4da35073f47249ee9357c2">pedReset</a> (void *handle)</td></tr>
<tr class="separator:a2cdc4bd6bf4da35073f47249ee9357c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa03c0db7c55eb8224cb835994abb63a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03c0db7c55eb8224cb835994abb63a8">&#9670;&nbsp;</a></span>CLA_PED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLA_PED&#160;&#160;&#160;0x22</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class for PED commands. </p>

</div>
</div>
<a id="a9b71c79dc791154fa99efeea834f422a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b71c79dc791154fa99efeea834f422a">&#9670;&nbsp;</a></span>INS_PED_ENABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_PED_ENABLE&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or Disable PED. </p>

</div>
</div>
<a id="a1bf5012e2bf73c386f1f1d5f00785e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf5012e2bf73c386f1f1d5f00785e26">&#9670;&nbsp;</a></span>INS_PED_GET_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_PED_GET_PIN&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request PIN from user. </p>

</div>
</div>
<a id="ad3090b4a2e335c9fc78d6830e1d1f709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3090b4a2e335c9fc78d6830e1d1f709">&#9670;&nbsp;</a></span>INS_PED_POLL_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_PED_POLL_PIN&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll PIN entry status (polling interface) </p>

</div>
</div>
<a id="a2890ca3e6881559d9c626f6d7bb43fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2890ca3e6881559d9c626f6d7bb43fb0">&#9670;&nbsp;</a></span>INS_PED_START_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_PED_START_PIN&#160;&#160;&#160;0x03</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start PIN entry (polling interface) </p>

</div>
</div>
<a id="a84be289ebb7f0e7e1b153ea9642a47c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84be289ebb7f0e7e1b153ea9642a47c0">&#9670;&nbsp;</a></span>INS_PED_STOP_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_PED_STOP_PIN&#160;&#160;&#160;0x05</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop PIN entry (polling interface) </p>

</div>
</div>
<a id="aee0d4385ec8cb7c04b26fc75879146c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0d4385ec8cb7c04b26fc75879146c1">&#9670;&nbsp;</a></span>INS_SET_PIN_INPUT_PARAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_SET_PIN_INPUT_PARAM&#160;&#160;&#160;0x06</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure PIN input parameter. </p>

</div>
</div>
<a id="a9c621b8bdbccfbd6befc23e34ef092e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c621b8bdbccfbd6befc23e34ef092e6">&#9670;&nbsp;</a></span>INS_SET_PIN_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INS_SET_PIN_TIMEOUT&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure timeout for PIN entry. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a576b866745c7f8c53122bbb8b23bfed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576b866745c7f8c53122bbb8b23bfed8">&#9670;&nbsp;</a></span>handlePedCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handlePedCmd </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>msgBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>msgSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>rspBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>rsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>rspSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dispatch function to handle different PED commands </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgBufSize</td><td>size of the input message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>pointer to the input message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgSize</td><td>size of the input message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rspBufSize</td><td>maximum size of the response buffer </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsp</td><td>pointer to the response buffer </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rspSize</td><td>pointer to the response message size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was executed and rsp contains a response, false in case invocation is not allowed by a side command. </dd></dl>

</div>
</div>
<a id="a2cdc4bd6bf4da35073f47249ee9357c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cdc4bd6bf4da35073f47249ee9357c2">&#9670;&nbsp;</a></span>pedReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pedReset </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function invoked by a thread at connection termination to abort the PIN entry. SDI server supports multiple connections, which can use the PED interface. With activation of the PED interface with command 22-03 (Start PIN entry) on one connection, the interface is locked for other connections. If a connection terminates, which optains the PED lock, the interface would be unaccessable for other connections. Therfore, this function will abort the PIN entry and unlock the PED interface, if the connection disturbes so that it can be used by other connection again. Please note that this function works for a PIN Entry started by 22-03 (Start PIN entry). A PIN entry started with 22-01 (Get PIN) is not considered, but the PED lock is released after the user hast finished the PIN entry. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>handle of the terminating connection </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0c8c216f26262d3bb93de55d10086e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c8c216f26262d3bb93de55d10086e4">&#9670;&nbsp;</a></span>pedSetExtButton()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pedSetExtButton </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inform the VAULT about the Confirm button was pressed if PIN polling is active and Navigator Mode 2 is set </p><dl class="section return"><dt>Returns</dt><dd>true if PIN polling is active and Navigator Mode 2 set, else false </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_44d926a17fc606d3c25449ba60427c63.html">sdi</a></li><li class="navelem"><a class="el" href="dir_048f823fee1bfb22502a8732b9a001aa.html">src</a></li><li class="navelem"><a class="el" href="sdi_2src_2ped_8h.html">ped.h</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:57 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
