<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: ADK-INF Programmers Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_inf_users_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADK-INF Programmers Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec_inf_Preface"></a>
Preface</h1>
<p>This document is for programmers and developers who want to understand and use the ADK Information Service.</p>
<h2><a class="anchor" id="subsec_inf_Audience"></a>
Audience</h2>
<p>This guide provides all the information required for application developers to integrate and utilise the functionality of the ADK Information Service.</p>
<h2><a class="anchor" id="subsec_inf_Organization"></a>
Organization</h2>
<p>This guide is organized as follows:</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_Introduction">Introduction</a>. Provides an overview of the ADK Information Service functionality.</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_Getting_Started">Getting Started</a>. Lists coding samples for performing various functions.</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_Programming">Programming</a>. Programming advices for actual use-cases.</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_System_Setup_and_Requirements">System Setup and Requirements</a>. Describes the build options and deliverables.</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_Troubleshooting">Troubleshooting</a>. Gives solutions for possible issues in ADK-INF.</p>
<p><a class="el" href="pg_inf_users_guide.html#sec_inf_Appendix">Appendix</a>. Glossary. Acronym Definitions.</p>
<h1><a class="anchor" id="sec_inf_Introduction"></a>
Introduction</h1>
<p>Information Service is a set of components for manipulating data via simple and concise API.</p>
<h2><a class="anchor" id="subsec_inf_Concepts"></a>
Concepts</h2>
<p>Currently, Information Service provides the following functions:</p>
<ul>
<li>Import and export of XML data to and from SQLite database (For more information, please refer to the <em>ADK Import/Export Utility Programmers Guide, VPN - DOC00666</em>).</li>
<li>Storage and manipulation of hierarchical data incorporated in so-called Property DB. A few key points regarding the latter:<ul>
<li>Provides a way for applications to store name/value pairs, optionally organized into a hierarchy (similar to Windows Registry).</li>
<li>The type of a value is determined by choosing the corresponding write function. Read functions convert to the desired type. The following types are supported: INT, DOUBLE, STRING, BINARY. Currently, there is no type enforcement.</li>
<li>The database is referenced by a handle obtained using <code>database</code> <code>open</code> / <code>close</code> instead of using a string for the database name.</li>
</ul>
</li>
</ul>
<p>Refer to the following diagram for a better understanding of the ADK Information Service functionality. </p><div class="image">
<img src="04_inf_util_overview.png" alt=""/>
<div class="caption">
Information Service Overview</div></div>
   <h1><a class="anchor" id="sec_inf_Getting_Started"></a>
Getting Started</h1>
<p>This chapter contains coding samples for performing various functions.</p>
<h2><a class="anchor" id="subsec_inf_Using_the_API"></a>
Using the API</h2>
<p>In order to use the Property Database API, one must include file <code><a class="el" href="infodb_8h.html" title="Hierarchical Property Database API.">infodb.h</a></code> and link against <code>libinf</code> library, either static or shared variant.</p>
<p>There is a Makefile-based project under the <code>example/</code> folder. Please note, that build system produces dynamically-linked apps.</p>
<dl class="section note"><dt>Note</dt><dd>V/OS platform prevents applications data files creation in the user directory. Application must use <code>/home/usr1/flash</code> directory instead of <code>/home/usr1/</code>.<br  />
 Accordingly, code <br  />
 <div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
</div><!-- fragment --> must be rewritten to <br  />
 <div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;flash/test.db&quot;</span></div>
</div><!-- fragment --> in examples below for V/OS platform.</dd></dl>
<h2><a class="anchor" id="subsec_inf_Get_Version_Library"></a>
Get version of a library</h2>
<p>This is a sample code for getting version of a library. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buf[50] = {0};</div>
<div class="line">    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;info_getVersion %s&quot;</span>, <a class="code" href="group__propdb.html#ga45afbfe3853490244c17383a667fe0e7">info_getVersion</a>());</div>
<div class="line">    printf(buf);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Writing_Different_Types_of_Data"></a>
Writing Different Types of Data</h2>
<p>This is a sample code for writing different data types. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//open with write permissions</span></div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write integer 10 under &quot;/start&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 10);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find node &quot;/start&quot;</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;5.0&quot; to &quot;/start/2/third&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gadd1c03a124342cb7d889360e2a866c51">info_writeDouble</a>(handle, node, <span class="stringliteral">&quot;2/third&quot;</span>, 5.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find node &quot;/start/2/third&quot;</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, node, <span class="stringliteral">&quot;2/third&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write a string &quot;Hi there&quot; under &quot;/start/2/third/4th&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa820eb834650ba97b27d9cc4d558fb8d">info_writeString</a>(handle, node, <span class="stringliteral">&quot;4th&quot;</span>, <span class="stringliteral">&quot;Hi there&quot;</span>); <span class="keywordtype">char</span> bin[] = {<span class="stringliteral">&quot;HI&quot;</span>};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write bin array to &quot;/start/2/third/4th/5th&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga31c4f4a46c0818f7e64a269b43d5c272">info_writeBinary</a>(handle, node, <span class="stringliteral">&quot;5th&quot;</span>, bin, <span class="keyword">sizeof</span>(bin)/ <span class="keyword">sizeof</span>(bin[0]));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//close the database </span></div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Getting_a_Type_of_a_Node"></a>
Getting a Type of a Node</h2>
<p>This is a sample code for getting a node type. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga4fab2721054fd66cc89f138fd029fd1f">InfoType</a> type;</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>); <span class="keywordtype">char</span> bin[20] = {0};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write bin array to &quot;/bin&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga31c4f4a46c0818f7e64a269b43d5c272">info_writeBinary</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;bin&quot;</span>, bin, <span class="keyword">sizeof</span>(bin)/ <span class="keyword">sizeof</span>(bin[0]));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//get type of the node just created</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga507d337f52d3d7acf3691a287d565515">info_getType</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;bin&quot;</span>, &amp;type);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%d&quot;</span>,type == <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa667a98036d4afd2297eaa5fee8bb4358">INFO_BINARY</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write NULL to &quot;/void&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga31c4f4a46c0818f7e64a269b43d5c272">info_writeBinary</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;void&quot;</span>, 0, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//get type of the node just created</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga507d337f52d3d7acf3691a287d565515">info_getType</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;void&quot;</span>, &amp;type);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%d&quot;</span>, type == <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa1e2ec92ebdcd376972b8cd557aaa8b02">INFO_VOID</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//close the database </span></div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Getting_Immediate_Children_of_a_Node"></a>
Getting Immediate Children of a Node</h2>
<p>This is a sample code for getting the immediate children of a node. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#struct_info_children">InfoChildren</a> *i_childs; </div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *node_names[]= {<span class="stringliteral">&quot;1st_node&quot;</span>, <span class="stringliteral">&quot;2nd_node&quot;</span>};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;0&quot; to &quot;/start&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find a node under &quot;/start&quot; path</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;0&quot; to &quot;/start/1st node&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, node_names[0], 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;0&quot; to &quot;/start/2nd node&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, node_names[1], 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//get a list of children of &quot;/start&quot; node</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga54f4b018748882e6c5cdc509177fcee7">info_list</a>(handle, node, <span class="stringliteral">&quot;&quot;</span>, &amp;i_childs);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(node_names)/<span class="keyword">sizeof</span>(node_names[0]) == i_childs-&gt;<a class="code" href="group__propdb.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; i_childs-&gt;<a class="code" href="group__propdb.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;%d\n&quot;</span>,!strcmp(node_names[i], i_childs-&gt;<a class="code" href="group__propdb.html#a42306111ecd5284bcec721e421e36d82">name</a>[i]));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//close the database</span></div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Deleting_a_Node"></a>
Deleting a Node</h2>
<p>This is a sample code for deleting a node. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *node_names[]= {<span class="stringliteral">&quot;1st node&quot;</span>, <span class="stringliteral">&quot;2nd node&quot;</span>}; </div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 0); </div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, node_names[0], 0); </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, node_names[1], 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//delete node under &quot;/start&quot; path and all of its children </span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gab0cab9361709296139598c7edda1f1ed">info_delete</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find node under &quot;/start&quot; path</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%d&quot;</span>, node &lt; 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//close the database</span></div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Find_a_Path_of_a_Node"></a>
Find a Path of a Node</h2>
<p>This is a sample code for finding a node path. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find a path node under &quot;/start&quot;</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, <span class="stringliteral">&quot;second/third&quot;</span>, 5);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find a path node under &quot;/start/second/third&quot; </span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, node, <span class="stringliteral">&quot;second/third&quot;</span>); </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, node, <span class="stringliteral">&quot;last/one&quot;</span>, 10);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find a path node under &quot;/start/second/third/last/one&quot; </span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, node, <span class="stringliteral">&quot;last/one&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span>* s;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//get a path of a node</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga5147f1308f849af0f18ee2f9dfdadbce">info_getPath</a>(handle, node, &amp;s);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//prints &quot;1&quot;</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%d&quot;</span>, !strcmp(s, <span class="stringliteral">&quot;start/second/third/last/one&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//close the database</span></div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Walk_a_Whole_Tree"></a>
Walk a Whole Tree</h2>
<p>This is a sample code for walking a whole tree. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> callback_types(<span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">struct</span> InfoReference *info)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc; </div>
<div class="line">    <a class="code" href="group__propdb.html#ga4fab2721054fd66cc89f138fd029fd1f">InfoType</a> type;</div>
<div class="line">    <span class="keywordtype">int</span> ival;</div>
<div class="line">    <span class="keywordtype">double</span> dval;</div>
<div class="line">    <span class="keywordtype">char</span> *<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">str</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *bin; </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">size</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//get type of a current node</span></div>
<div class="line">    <a class="code" href="group__propdb.html#gaf943103c0cb3018c835ee081a35c2629">info_nodeGetType</a>(info, &amp;type);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span>(type)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa1e2ec92ebdcd376972b8cd557aaa8b02">INFO_VOID</a>: <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa5dd4a9b6e283187cee362ee67501928a">INFO_INTEGER</a>:</div>
<div class="line">        rc = <a class="code" href="group__propdb.html#ga6d85fe7b4326970a1b00000d029fec78">info_nodeReadInt</a>(info, &amp;ival); </div>
<div class="line">        printf(<span class="stringliteral">&quot;%d\n&quot;</span>, ival);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fac11f023f86358f75382dc489903b17ef">INFO_NUMBER</a>: </div>
<div class="line">        rc = <a class="code" href="group__propdb.html#ga24f0af1a2b3ad3989365661e02a4682f">info_nodeReadDouble</a>(info, &amp;dval); </div>
<div class="line">        printf(<span class="stringliteral">&quot;%f\n&quot;</span>, dval);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa02921ca454a797dd48d6d4b053eae727">INFO_STRING</a>:</div>
<div class="line">        rc = <a class="code" href="group__propdb.html#ga9447dc74d3c0b289936bc262ef15f49b">info_nodeReadString</a>(info, &amp;<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">str</a>); </div>
<div class="line">        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">str</a>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa667a98036d4afd2297eaa5fee8bb4358">INFO_BINARY</a>: </div>
<div class="line">        rc = <a class="code" href="group__propdb.html#ga08fcfd8fe23a1a5457b523a9cf967a10">info_nodeReadBinary</a>(info, (<span class="keywordtype">void</span> **)&amp;bin, &amp;<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">size</a>); </div>
<div class="line">        printf(<span class="stringliteral">&quot;Got binary of size :%d\n&quot;</span>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">size</a>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;10&quot; to &quot;/start&quot; path</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 10);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//find node under &quot;/start&quot;</span></div>
<div class="line">    node = <a class="code" href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;5.0&quot; to &quot;/start/2/third&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gadd1c03a124342cb7d889360e2a866c51">info_writeDouble</a>(handle, node, <span class="stringliteral">&quot;2/third&quot;</span>, 5.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//write &quot;Hi there&quot; to &quot;/start/2/third/4th&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa820eb834650ba97b27d9cc4d558fb8d">info_writeString</a>(handle, node, <span class="stringliteral">&quot;2/third/4th&quot;</span>, <span class="stringliteral">&quot;Hi there&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> bin[] = {<span class="stringliteral">&quot;HI&quot;</span>};</div>
<div class="line">    <span class="comment">//write &quot;Hi there&quot; to &quot;/start/2/third/4th&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga31c4f4a46c0818f7e64a269b43d5c272">info_writeBinary</a>(handle, node, <span class="stringliteral">&quot;2/third/5th&quot;</span>, bin, <span class="keyword">sizeof</span>(bin)/ <span class="keyword">sizeof</span>(bin[0]));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//would print &quot;10&quot;, &quot;5.0&quot;, &quot;Hi there&quot;, &quot;Got binary of size 3&quot;</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga672f3d4caf24ff01c3b6801b13bf4463">info_walkTree</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;&quot;</span>, callback_types, NULL);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_inf_Autocommit"></a>
Automatic commit and manual transaction</h2>
<p>This is a sample code for autocommit and manual transaction. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="infodb_8h.html">inf/infodb.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *db_name = <span class="stringliteral">&quot;test.db&quot;</span>;</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a> node;</div>
<div class="line">    <a class="code" href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a> rc;</div>
<div class="line">    InfoDBHandle* handle;</div>
<div class="line">    <span class="keywordtype">int</span> read_value;</div>
<div class="line"> </div>
<div class="line">    handle= <a class="code" href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a>(db_name, <a class="code" href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a>);</div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// disable default autocommit</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga0801c688741d290aea51941ece9da78c">info_autocommit</a>(handle, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set manual transaction startpoint</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga816c14a5630ad3e2e0734a52fe285e54">info_transactionBegin</a>(handle);</div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start2&quot;</span>, 1);</div>
<div class="line">    <span class="comment">// rollback to initial state</span></div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga61db7da4ef43b0e4994dd46d26bd0ebe">info_transactionRollback</a>(handle);</div>
<div class="line"> </div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga3b1d6872aab17d7043fc6258caaf4f36">info_readInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start&quot;</span>, &amp;read_value);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\&quot;start\&quot; read rc: %d (expected: %d)\n&quot;</span>, rc, <a class="code" href="group__propdb.html#gga1f20dc2829c95bd71bdb14239bc3b2c8aeed232bfb806b5e87f0f1308aca346ef">INFO_OK</a>);</div>
<div class="line">    rc = <a class="code" href="group__propdb.html#ga3b1d6872aab17d7043fc6258caaf4f36">info_readInt</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <span class="stringliteral">&quot;start2&quot;</span>, &amp;read_value);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\&quot;start2\&quot; read rc: %d (expected: %d)\n&quot;</span>, rc, <a class="code" href="group__propdb.html#gga1f20dc2829c95bd71bdb14239bc3b2c8a3b1f244145443aefc6bc416ee178110d">INFO_NOT_FOUND</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a>(handle);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_inf_Programming"></a>
Programming</h1>
<p>This section contains programming advices.</p>
<h2><a class="anchor" id="subsec_inf_Information_Service_Multithreading"></a>
Multithreading</h2>
<p>ADK-INF has full multithreading support since version 1.5.1. Different multithreading modes are described at <a href="https://www.sqlite.org/threadsafe.html">https://www.sqlite.org/threadsafe.html</a> link. So, ADK-INF supports all three modes:</p><ul>
<li>"Single-thread",</li>
<li>"Multi-thread",</li>
<li>"Serialized",</li>
</ul>
<h2><a class="anchor" id="subsec_inf_good_practice"></a>
Good practice</h2>
<p>It is not prohibited to access same DB by read/write (<code>libinf</code>) and import/export (<code>libinf_util</code>) functions simultaneously, but it is not recommended, due to frequent collision errors (<code>INFO_NOT_FOUND</code>, <code>INFO_BUSY</code>, or <code>INFO_E_DB_INSERT</code>), returned by both libraries.</p>
<p><code>libinf</code> and <code>libinf_util</code> libraries usage good practice:</p><ol type="1">
<li>Application get InfoDB* handle from <code>info_opendb</code> function and uses it for the <code>info_read/info_write/info_walk/…</code> functions in concurrent manner for all threads.</li>
<li>Application stops <code>libinf</code> function usage (or just close InfoDB* handle) before <code>info_import/info_export</code> functions usage.</li>
<li>Application resumes <code>libinf</code> function usage (or reopen InfoDB* handle).</li>
</ol>
<p>These recommendations are also suitable for the handle received directly from SQLite engine (as it is for not hierarchical tables), instead of ADK-INF <code>info_opendb</code> function.</p>
<p>Please note that <code>info_opendb</code> and <code>info_closedb</code> are relatively resource-intensive functions, comparing to <code>info_read/info_write</code>. This is a reason to keep DB opened all application running time.</p>
<h2><a class="anchor" id="subsec_inf_notes_on_property_db"></a>
Notes on Hierarchical Property Database API</h2>
<h3><a class="anchor" id="subsub_inf_path_for_access"></a>
Paths for accessing values</h3>
<p>Within the hierarchical storage nodes form a tree and are addressed by a path similar to a path in a file system. The path consists of a sequence of node names separated by a single '/', e.g. a/b/c would address node c that is child of node b which is a child of a. Paths are relative to a parent node that has to be provided as separate parameter. The root of the tree is represented by the node <code>INFO_ROOT</code>. Node names should be restricted to the following characters: [a-zA-Z0-9-_.@], whitespace and quotes ('") are not allowed. For obvious reasons '/' cannot be used within a node name. Unlike in file systems '.' and '..' have no special meaning. Providing <code>NULL</code> as path is equivalent of providing an empty path ("") which refers to the provided parent node. </p>
<h3><a class="anchor" id="subsub_inf_info_root"></a>
INFO_ROOT</h3>
<p><code>INFO_ROOT</code> is a special node that is always present. Trying to delete <a class="el" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0" title="Dedicated root node of the hierarchical storage.">INFO_ROOT</a> will just reset its associated value.</p>
<h1><a class="anchor" id="sec_inf_System_Setup_and_Requirements"></a>
System Setup and Requirements</h1>
<h2><a class="anchor" id="subsec_inf_Compiler_and_Linker_Settings"></a>
Compiler and Linker Settings</h2>
<p>An application that uses the InfoSvc functionality can be built either as a <b>monolithic</b> (statically linked) executable, or as a <b>dynamically linked executable</b>.</p>
<p>The first option combines all used libraries together with the application code into one complete executable file.</p>
<p>The second option relies on the OS’s dynamic linker to load necessary shared libraries on application startup. The required libraries must be loaded to the terminal together with the application.</p>
<dl class="section note"><dt>Note</dt><dd>The sections below assume the libraries are extracted into the <code>import/&lt;platform&gt;/lib</code> directory, where &lt;platform&gt; is either <b>"vos"</b> or <b>"vos2"</b>.</dd></dl>
<h3><a class="anchor" id="subsubsec_inf_Monolithic_Binary"></a>
Monolithic Binary</h3>
<p>In order to build a statically linked binary with the ADK Infomation Service libraries, one must link against the following libraries.</p>
<p>In the form of <code>-l&lt;name&gt;</code> options to gcc:</p><ul>
<li><code>-linf-static</code> </li>
<li><code>-lsqlite-static</code> </li>
</ul>
<h3><a class="anchor" id="subsubsec_inf_Dynamic_Binary"></a>
Dynamic Binary</h3>
<p>Dynamic libaries are listed below.</p>
<p>In the form of <code>-l&lt;name&gt;</code> options to gcc:</p><ul>
<li><code>-linf</code> </li>
<li><code>-lsqlite</code> </li>
</ul>
<h2><a class="anchor" id="subsec_inf_Deliverables"></a>
Deliverables</h2>
<p>This chapter lists the components of the ADK Information Service library.</p>
<h3><a class="anchor" id="subsubsec_inf_V_OS_Deliverables"></a>
V/OS</h3>
<p>Folder locations and descriptions of each file are provided below:</p>
<ul>
<li><code>include/</code> <ul>
<li><code>inf/</code> <ul>
<li><code><a class="el" href="infodb_8h.html" title="Hierarchical Property Database API.">infodb.h</a></code> – hierarchical database API</li>
<li><code><a class="el" href="inf__util_8h.html" title="Import/Export Utility API.">inf_util.h</a></code> – import/export API</li>
<li><code>inf_util/</code> <ul>
<li><code>backend_api.h</code> – declarations for backend API</li>
<li><code>StaticRegistry.h</code> – facility for registering static backends</li>
<li><code><a class="el" href="types_8h.html">types.h</a></code> – typedefs</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>lib/</code> <ul>
<li><code>libinf.so</code>, <code>libinf.so.1</code> – library for working with hierarchical store, shared object</li>
<li><code>libinf-static.a</code> – the same, statically compiled</li>
<li><code>libinf_util.so</code>, <code>libinf_util.so.1</code> – import/export library, shared object</li>
<li><code>libinf_util-static.a</code> – the same, statically compiled</li>
<li><code>libinf_util_sqlite-static.a</code> – import/export SQLite database backend, static library</li>
<li><code>libinf_util_xmlfile-static.a</code> – import/export XML file backend, static library lib</li>
</ul>
</li>
<li><code>load/</code> <ul>
<li><code>dl.libinf</code>.&lt;<code>VER&gt;</code>.<code>tgz</code> – Property DB package</li>
<li><code>dl.libinf-remove.tgz</code> – Property DB removal package</li>
<li><code>dl.libinf_util</code>.&lt;<code>VER&gt;</code>.<code>tgz</code> – Import/Export library package</li>
<li><code>dl.libinf_util-remove.tgz</code> – Import/Export library removal package</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="subsubsec_inf_doc_Deliverables"></a>
doc</h3>
<p>Folder locations and descriptions of each file are provided below:</p>
<ul>
<li><code>inf/</code> <ul>
<li><code>example/</code> <ul>
<li>contains example projects for InfoSvc and InfoSvc utility</li>
<li><code>config-module/</code> – contains XML files which can be used to test import functionality, i.e. schema are in sync with data file.</li>
</ul>
</li>
<li><code>doc/</code> – contains files used on Confluence page</li>
<li><code>schema/</code> <ul>
<li><code>datafile.xsd</code> – XSD schema for validating user’s file schemas</li>
<li><code>db.xsd</code> – XSD schema for validating user’s database schemas</li>
</ul>
</li>
<li><code>hierarchical_schemas/</code> <ul>
<li><code>adk_inf_propdb.xml</code> - DB schema for import/export to/from hierarchical DB</li>
<li><code>file_format.xml</code> - data schema for import/export to/from hierarchical DB</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="subsec_inf_External_code_sources_versions"></a>
External code sources versions</h2>
<p><br  />
</p>
<ul>
<li>ADK-DB-SQLITE, built on SQLite version 3.49.1;</li>
<li>ADK-EXPAT, built on Expat version 2.1.1.</li>
</ul>
<h1><a class="anchor" id="sec_inf_Troubleshooting"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="subsec_inf_Logging"></a>
Logging</h2>
<p>ADK-INF uses "new" logging method via configuration file in JSON format. Please refer to the ADK-LOG documentation for details.<br  />
 The logging ID for this component is <code>"INF"</code>. In order to lookup the corresponding configuration file, ADKLOG uses component identifiers, which are reserved for each ADK component. For the <code>INF</code> component, configuration file is <code>INF_log.conf</code> <br  />
 </p>
<h2><a class="anchor" id="subsec_Performance_Optimization"></a>
Performance Optimization</h2>
<p><code>info_opendb</code> and <code>info_closedb</code> are relatively resource-intensive functions, comparing to <code>info_read/info_write</code>. This is a reason to keep DB opened all application running time.</p>
<p>Another hint for the <code>libinf</code> functions execution time reducing, is autocommit disabling for the continuous DB write operations. Here is code snippet, demonstrating this approach: </p><div class="fragment"><div class="line"><a class="code" href="group__propdb.html#ga34be6def57c4f44b170128532f78fe2d">info_setOptions</a>(handle, <a class="code" href="group__propdb.html#ggaa315d0c6482a2ebccc7547e9295a211da16008ad085c1be473320e4df194c0d27">INFO_OPT_DISABLE_AUTOCOMMIT</a>); <span class="comment">// this is same as info_autocommit(handle, 0);</span></div>
<div class="line">rc = <a class="code" href="group__propdb.html#ga816c14a5630ad3e2e0734a52fe285e54">info_transactionBegin</a>(handle);</div>
<div class="line"><span class="keywordflow">while</span>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>[i].name)</div>
<div class="line">{</div>
<div class="line">    rc = <a class="code" href="group__propdb.html#gaa820eb834650ba97b27d9cc4d558fb8d">info_writeString</a>(handle, <a class="code" href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>[i].name, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>[i].<a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>);</div>
<div class="line">}</div>
<div class="line">rc = <a class="code" href="group__propdb.html#ga3c2f5b212c59c57adbe313812e63b350">info_transactionCommit</a>(handle);</div>
<div class="line"><a class="code" href="group__propdb.html#ga34be6def57c4f44b170128532f78fe2d">info_setOptions</a>(handle, 0); <span class="comment">// reset to default</span></div>
</div><!-- fragment --><p>Please refer to <a class="el" href="pg_inf_users_guide.html#subsec_inf_Autocommit">Automatic commit and manual transaction</a> for another autocommit example.</p>
<h1><a class="anchor" id="sec_inf_Appendix"></a>
Appendix</h1>
<h2><a class="anchor" id="subsec_inf_Glossary"></a>
Glossary</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Term </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Database schema </td><td class="markdownTableBodyNone">Metafile for describing database internal schema. Not to be confused with database schema.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">File schema / file format </td><td class="markdownTableBodyNone">Metafile for describing XML file structure. Not to be confused with XSD schema.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libinf </td><td class="markdownTableBodyNone">DB library  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libinf-util </td><td class="markdownTableBodyNone">Import/export library  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Property DB / hierarchy DB </td><td class="markdownTableBodyNone">info_ API for creating registry-like database.  </td></tr>
</table>
<h2><a class="anchor" id="subsec_inf_Acronym_Definitions"></a>
Acronym Definitions</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Acronym </th><th class="markdownTableHeadNone">Definitions  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK </td><td class="markdownTableBodyNone">Application Development Kit  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API </td><td class="markdownTableBodyNone">Application Protocol Interface  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OS </td><td class="markdownTableBodyNone">Operating System  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__propdb_html_gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e"><div class="ttname"><a href="group__propdb.html#gga9b99e447e7b4f91cd7b9fba838b825f0a2ea780c3c29a4a4989d414089641488e">INFO_READ_WRITE</a></div><div class="ttdeci">@ INFO_READ_WRITE</div><div class="ttdoc">read/write access to database</div><div class="ttdef"><b>Definition:</b> infodb.h:100</div></div>
<div class="ttc" id="agroup__propdb_html_gga4fab2721054fd66cc89f138fd029fd1fac11f023f86358f75382dc489903b17ef"><div class="ttname"><a href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fac11f023f86358f75382dc489903b17ef">INFO_NUMBER</a></div><div class="ttdeci">@ INFO_NUMBER</div><div class="ttdoc">decimal number</div><div class="ttdef"><b>Definition:</b> infodb.h:88</div></div>
<div class="ttc" id="agroup__propdb_html_ggaa315d0c6482a2ebccc7547e9295a211da16008ad085c1be473320e4df194c0d27"><div class="ttname"><a href="group__propdb.html#ggaa315d0c6482a2ebccc7547e9295a211da16008ad085c1be473320e4df194c0d27">INFO_OPT_DISABLE_AUTOCOMMIT</a></div><div class="ttdeci">@ INFO_OPT_DISABLE_AUTOCOMMIT</div><div class="ttdoc">0x1 bit disables autocommit for every info_write* operation</div><div class="ttdef"><b>Definition:</b> infodb.h:109</div></div>
<div class="ttc" id="agroup__propdb_html_gga4fab2721054fd66cc89f138fd029fd1fa02921ca454a797dd48d6d4b053eae727"><div class="ttname"><a href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa02921ca454a797dd48d6d4b053eae727">INFO_STRING</a></div><div class="ttdeci">@ INFO_STRING</div><div class="ttdoc">string</div><div class="ttdef"><b>Definition:</b> infodb.h:89</div></div>
<div class="ttc" id="agroup__propdb_html_ga08fcfd8fe23a1a5457b523a9cf967a10"><div class="ttname"><a href="group__propdb.html#ga08fcfd8fe23a1a5457b523a9cf967a10">info_nodeReadBinary</a></div><div class="ttdeci">INF_API enum InfoResult info_nodeReadBinary(struct InfoReference *info, void **value, int *size)</div><div class="ttdoc">Read value from the database as chunk of memory.</div></div>
<div class="ttc" id="agroup__propdb_html_gga4fab2721054fd66cc89f138fd029fd1fa1e2ec92ebdcd376972b8cd557aaa8b02"><div class="ttname"><a href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa1e2ec92ebdcd376972b8cd557aaa8b02">INFO_VOID</a></div><div class="ttdeci">@ INFO_VOID</div><div class="ttdoc">void, no value</div><div class="ttdef"><b>Definition:</b> infodb.h:86</div></div>
<div class="ttc" id="agroup__propdb_html_ga5147f1308f849af0f18ee2f9dfdadbce"><div class="ttname"><a href="group__propdb.html#ga5147f1308f849af0f18ee2f9dfdadbce">info_getPath</a></div><div class="ttdeci">INF_API enum InfoResult info_getPath(InfoDB *handle, InfoNode node, char **path)</div><div class="ttdoc">Determine the absolute path of a node.</div></div>
<div class="ttc" id="agroup__propdb_html_ga9447dc74d3c0b289936bc262ef15f49b"><div class="ttname"><a href="group__propdb.html#ga9447dc74d3c0b289936bc262ef15f49b">info_nodeReadString</a></div><div class="ttdeci">INF_API enum InfoResult info_nodeReadString(struct InfoReference *info, char **value)</div><div class="ttdoc">Read value from the database and convert it to a string, if required.</div></div>
<div class="ttc" id="a_web_service_wrappers_8c_html_a6e248376c0290338633d8137822eb209"><div class="ttname"><a href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a></div><div class="ttdeci">char value(char c)</div><div class="ttdef"><b>Definition:</b> WebServiceWrappers.c:86</div></div>
<div class="ttc" id="agroup__propdb_html_ga0801c688741d290aea51941ece9da78c"><div class="ttname"><a href="group__propdb.html#ga0801c688741d290aea51941ece9da78c">info_autocommit</a></div><div class="ttdeci">INF_API enum InfoResult info_autocommit(InfoDB *handle, int enable)</div><div class="ttdoc">Enable/disable automatic commit for every info_write* operation.</div></div>
<div class="ttc" id="agroup__propdb_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="group__propdb.html#ad43c3812e6d13e0518d9f8b8f463ffcf">InfoChildren::count</a></div><div class="ttdeci">int count</div><div class="ttdoc">number of child nodes</div><div class="ttdef"><b>Definition:</b> infodb.h:55</div></div>
<div class="ttc" id="agroup__propdb_html_ga9636f5a41459a3366255bd2fc8ad2b3f"><div class="ttname"><a href="group__propdb.html#ga9636f5a41459a3366255bd2fc8ad2b3f">info_closedb</a></div><div class="ttdeci">INF_API void info_closedb(InfoDB *handle)</div><div class="ttdoc">Close database and release allocated resources.</div></div>
<div class="ttc" id="agroup__propdb_html_ga61db7da4ef43b0e4994dd46d26bd0ebe"><div class="ttname"><a href="group__propdb.html#ga61db7da4ef43b0e4994dd46d26bd0ebe">info_transactionRollback</a></div><div class="ttdeci">INF_API enum InfoResult info_transactionRollback(InfoDB *idb)</div><div class="ttdoc">Rollback changes.</div></div>
<div class="ttc" id="agroup__propdb_html_gga1f20dc2829c95bd71bdb14239bc3b2c8aeed232bfb806b5e87f0f1308aca346ef"><div class="ttname"><a href="group__propdb.html#gga1f20dc2829c95bd71bdb14239bc3b2c8aeed232bfb806b5e87f0f1308aca346ef">INFO_OK</a></div><div class="ttdeci">@ INFO_OK</div><div class="ttdoc">No error.</div><div class="ttdef"><b>Definition:</b> infodb.h:66</div></div>
<div class="ttc" id="agroup__propdb_html_a42306111ecd5284bcec721e421e36d82"><div class="ttname"><a href="group__propdb.html#a42306111ecd5284bcec721e421e36d82">InfoChildren::name</a></div><div class="ttdeci">char ** name</div><div class="ttdoc">array containing the names of the direct child nodes</div><div class="ttdef"><b>Definition:</b> infodb.h:56</div></div>
<div class="ttc" id="agroup__propdb_html_gga4fab2721054fd66cc89f138fd029fd1fa5dd4a9b6e283187cee362ee67501928a"><div class="ttname"><a href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa5dd4a9b6e283187cee362ee67501928a">INFO_INTEGER</a></div><div class="ttdeci">@ INFO_INTEGER</div><div class="ttdoc">int</div><div class="ttdef"><b>Definition:</b> infodb.h:87</div></div>
<div class="ttc" id="agroup__propdb_html_ga3b1d6872aab17d7043fc6258caaf4f36"><div class="ttname"><a href="group__propdb.html#ga3b1d6872aab17d7043fc6258caaf4f36">info_readInt</a></div><div class="ttdeci">INF_API enum InfoResult info_readInt(InfoDB *handle, InfoNode parent, const char *path, int *value)</div><div class="ttdoc">Read value from the database and convert it to int, if required.</div></div>
<div class="ttc" id="agroup__propdb_html_gaa820eb834650ba97b27d9cc4d558fb8d"><div class="ttname"><a href="group__propdb.html#gaa820eb834650ba97b27d9cc4d558fb8d">info_writeString</a></div><div class="ttdeci">INF_API enum InfoResult info_writeString(InfoDB *handle, InfoNode parent, const char *path, const char *value)</div><div class="ttdoc">Write string value to the database.</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a718fb933f922f59d50270984ea93ec91"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">vficom::cmdparam::in::stk_write::msg::parameters</a></div><div class="ttdeci">const COM3_DllSpec char parameters[]</div><div class="ttdoc">object - Depends on usat_command and proactCmd/envCmd</div></div>
<div class="ttc" id="agroup__propdb_html_ga6d85fe7b4326970a1b00000d029fec78"><div class="ttname"><a href="group__propdb.html#ga6d85fe7b4326970a1b00000d029fec78">info_nodeReadInt</a></div><div class="ttdeci">INF_API enum InfoResult info_nodeReadInt(struct InfoReference *info, int *value)</div><div class="ttdoc">Read value from the database and convert it to int, if required.</div></div>
<div class="ttc" id="ainfodb_8h_html"><div class="ttname"><a href="infodb_8h.html">infodb.h</a></div><div class="ttdoc">Hierarchical Property Database API.</div></div>
<div class="ttc" id="agroup__propdb_html_gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0"><div class="ttname"><a href="group__propdb.html#gga726ca809ffd3d67ab4b8476646f26635a9752fad95ea540238bfad2ac28fbf1b0">INFO_ROOT</a></div><div class="ttdeci">@ INFO_ROOT</div><div class="ttdoc">Dedicated root node of the hierarchical storage.</div><div class="ttdef"><b>Definition:</b> infodb.h:133</div></div>
<div class="ttc" id="agroup__propdb_html_ga24f0af1a2b3ad3989365661e02a4682f"><div class="ttname"><a href="group__propdb.html#ga24f0af1a2b3ad3989365661e02a4682f">info_nodeReadDouble</a></div><div class="ttdeci">INF_API enum InfoResult info_nodeReadDouble(struct InfoReference *info, double *value)</div><div class="ttdoc">Read value from the database and convert it to double, if required.</div></div>
<div class="ttc" id="agroup__propdb_html_gga4fab2721054fd66cc89f138fd029fd1fa667a98036d4afd2297eaa5fee8bb4358"><div class="ttname"><a href="group__propdb.html#gga4fab2721054fd66cc89f138fd029fd1fa667a98036d4afd2297eaa5fee8bb4358">INFO_BINARY</a></div><div class="ttdeci">@ INFO_BINARY</div><div class="ttdoc">memory chunk</div><div class="ttdef"><b>Definition:</b> infodb.h:90</div></div>
<div class="ttc" id="agroup__propdb_html_ga4fab2721054fd66cc89f138fd029fd1f"><div class="ttname"><a href="group__propdb.html#ga4fab2721054fd66cc89f138fd029fd1f">InfoType</a></div><div class="ttdeci">InfoType</div><div class="ttdoc">Data types.</div><div class="ttdef"><b>Definition:</b> infodb.h:84</div></div>
<div class="ttc" id="agroup__propdb_html_ga54f4b018748882e6c5cdc509177fcee7"><div class="ttname"><a href="group__propdb.html#ga54f4b018748882e6c5cdc509177fcee7">info_list</a></div><div class="ttdeci">INF_API enum InfoResult info_list(InfoDB *handle, InfoNode parent, const char *path, struct InfoChildren **list)</div><div class="ttdoc">Obtain a list of the names of all direct child nodes of a node.</div></div>
<div class="ttc" id="agroup__propdb_html_ga31c4f4a46c0818f7e64a269b43d5c272"><div class="ttname"><a href="group__propdb.html#ga31c4f4a46c0818f7e64a269b43d5c272">info_writeBinary</a></div><div class="ttdeci">INF_API enum InfoResult info_writeBinary(InfoDB *handle, InfoNode parent, const char *path, const void *value, int size)</div><div class="ttdoc">Write value from the database as chunk of memory.</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_aa2ad567d2728772e7ce46242b9f5e83a"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::cmdparam::in::ussd_write::str</a></div><div class="ttdeci">const COM3_DllSpec char str[]</div><div class="ttdoc">string, optional</div></div>
<div class="ttc" id="agroup__propdb_html_gaa167931ed0a92796ee478b9ac93347a2"><div class="ttname"><a href="group__propdb.html#gaa167931ed0a92796ee478b9ac93347a2">info_find</a></div><div class="ttdeci">INF_API InfoNode info_find(InfoDB *handle, InfoNode parent, const char *path)</div><div class="ttdoc">Find a node within the hierarchy and return its node ID.</div></div>
<div class="ttc" id="agroup__propdb_html_ga371205fdb002d88c01543e80d67c188d"><div class="ttname"><a href="group__propdb.html#ga371205fdb002d88c01543e80d67c188d">InfoNode</a></div><div class="ttdeci">long long InfoNode</div><div class="ttdoc">64-bit ID referencing one node/key in the database, IDs are always positive numbers,...</div><div class="ttdef"><b>Definition:</b> infodb.h:117</div></div>
<div class="ttc" id="agroup__propdb_html_ga45afbfe3853490244c17383a667fe0e7"><div class="ttname"><a href="group__propdb.html#ga45afbfe3853490244c17383a667fe0e7">info_getVersion</a></div><div class="ttdeci">const INF_API char * info_getVersion(void)</div><div class="ttdoc">get version of a library</div></div>
<div class="ttc" id="agroup__propdb_html_gaa569328ef9e8c2da03429b5c270101c5"><div class="ttname"><a href="group__propdb.html#gaa569328ef9e8c2da03429b5c270101c5">info_writeInt</a></div><div class="ttdeci">INF_API enum InfoResult info_writeInt(InfoDB *handle, InfoNode parent, const char *path, int value)</div><div class="ttdoc">Write int value to the database.</div></div>
<div class="ttc" id="agroup__propdb_html_ga507d337f52d3d7acf3691a287d565515"><div class="ttname"><a href="group__propdb.html#ga507d337f52d3d7acf3691a287d565515">info_getType</a></div><div class="ttdeci">INF_API enum InfoResult info_getType(InfoDB *handle, InfoNode parent, const char *path, enum InfoType *type)</div><div class="ttdoc">Determine the type of a value as it has been stored in the database.</div></div>
<div class="ttc" id="agroup__propdb_html_ga1f20dc2829c95bd71bdb14239bc3b2c8"><div class="ttname"><a href="group__propdb.html#ga1f20dc2829c95bd71bdb14239bc3b2c8">InfoResult</a></div><div class="ttdeci">InfoResult</div><div class="ttdoc">Result codes.</div><div class="ttdef"><b>Definition:</b> infodb.h:64</div></div>
<div class="ttc" id="agroup__propdb_html_ga816c14a5630ad3e2e0734a52fe285e54"><div class="ttname"><a href="group__propdb.html#ga816c14a5630ad3e2e0734a52fe285e54">info_transactionBegin</a></div><div class="ttdeci">INF_API enum InfoResult info_transactionBegin(InfoDB *idb)</div><div class="ttdoc">Save database state.</div></div>
<div class="ttc" id="agroup__propdb_html_gga1f20dc2829c95bd71bdb14239bc3b2c8a3b1f244145443aefc6bc416ee178110d"><div class="ttname"><a href="group__propdb.html#gga1f20dc2829c95bd71bdb14239bc3b2c8a3b1f244145443aefc6bc416ee178110d">INFO_NOT_FOUND</a></div><div class="ttdeci">@ INFO_NOT_FOUND</div><div class="ttdoc">Key was not found.</div><div class="ttdef"><b>Definition:</b> infodb.h:69</div></div>
<div class="ttc" id="agroup__propdb_html_ga3c2f5b212c59c57adbe313812e63b350"><div class="ttname"><a href="group__propdb.html#ga3c2f5b212c59c57adbe313812e63b350">info_transactionCommit</a></div><div class="ttdeci">INF_API enum InfoResult info_transactionCommit(InfoDB *idb)</div><div class="ttdoc">Commit changes.</div></div>
<div class="ttc" id="agroup__propdb_html_ga4cf176ac250d5f4ac40a717bdf49bad9"><div class="ttname"><a href="group__propdb.html#ga4cf176ac250d5f4ac40a717bdf49bad9">info_opendb</a></div><div class="ttdeci">INF_API InfoDB * info_opendb(const char *filename, enum InfoMode mode)</div><div class="ttdoc">Open the database.</div></div>
<div class="ttc" id="agroup__propdb_html_ga672f3d4caf24ff01c3b6801b13bf4463"><div class="ttname"><a href="group__propdb.html#ga672f3d4caf24ff01c3b6801b13bf4463">info_walkTree</a></div><div class="ttdeci">INF_API enum InfoResult info_walkTree(InfoDB *handle, InfoNode parent, const char *path, int(*cb)(void *data, const char *path, struct InfoReference *info), void *data)</div><div class="ttdoc">Recursively walk over the nodes of the (sub-) tree and invoke the callback for each node.</div></div>
<div class="ttc" id="agroup__propdb_html_gab0cab9361709296139598c7edda1f1ed"><div class="ttname"><a href="group__propdb.html#gab0cab9361709296139598c7edda1f1ed">info_delete</a></div><div class="ttdeci">INF_API enum InfoResult info_delete(InfoDB *handle, InfoNode parent, const char *path)</div><div class="ttdoc">Delete a node and all of its child nodes from the database.</div></div>
<div class="ttc" id="agroup__propdb_html_ga34be6def57c4f44b170128532f78fe2d"><div class="ttname"><a href="group__propdb.html#ga34be6def57c4f44b170128532f78fe2d">info_setOptions</a></div><div class="ttdeci">INF_API enum InfoResult info_setOptions(InfoDB *handle, int options)</div><div class="ttdoc">Set additional options changing behavior of info_* functions.</div></div>
<div class="ttc" id="agroup__propdb_html_gadd1c03a124342cb7d889360e2a866c51"><div class="ttname"><a href="group__propdb.html#gadd1c03a124342cb7d889360e2a866c51">info_writeDouble</a></div><div class="ttdeci">INF_API enum InfoResult info_writeDouble(InfoDB *handle, InfoNode parent, const char *path, double value)</div><div class="ttdoc">Write double value to the database.</div></div>
<div class="ttc" id="agroup__propdb_html_gaf943103c0cb3018c835ee081a35c2629"><div class="ttname"><a href="group__propdb.html#gaf943103c0cb3018c835ee081a35c2629">info_nodeGetType</a></div><div class="ttdeci">INF_API enum InfoResult info_nodeGetType(struct InfoReference *info, enum InfoType *type)</div><div class="ttdoc">Determine type of a node.</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_ae0d180616fe53dddd61f70c62526b0db"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">vficom::cmdparam::in::ping::size</a></div><div class="ttdeci">const COM3_DllSpec char size[]</div><div class="ttdoc">integer - [optional] use &quot;size&quot; as number of data bytes to be sent, default 56</div></div>
<div class="ttc" id="amain_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> main.cpp:1237</div></div>
<div class="ttc" id="agroup__propdb_html_struct_info_children"><div class="ttname"><a href="group__propdb.html#struct_info_children">InfoChildren</a></div><div class="ttdoc">structure for returning the names of the direct child nodes</div><div class="ttdef"><b>Definition:</b> infodb.h:53</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="system_overview.html">System Overview</a></li><li class="navelem"><a class="el" href="pg_all_components.html">ADK Components</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:04:01 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
