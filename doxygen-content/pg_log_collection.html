<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: Log Collection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_log_collection.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Log Collection </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec_log_collection_preface"></a>
Preface</h1>
<p>This document is for programmers and users who want to know and understand how to collect system logs from V/OS and V/OS2 terminals. There is a description and instruction for every log collection method listed below.</p>
<ul>
<li><a class="el" href="pg_log_collection.html#sec_log_collection_usb">Transfer Logs to USB stick</a></li>
<li><a class="el" href="pg_log_collection.html#sec_log_collection_system_console">System/Console Logs</a></li>
<li><a class="el" href="pg_log_collection.html#sec_log_collection_system_adk">ADK Logs</a></li>
<li><a class="el" href="pg_log_collection.html#sec_log_collection_system_adk_emv">ADK-EMV Trace Collection</a></li>
<li><a class="el" href="pg_log_collection.html#sec_log_collection_over_udp">Logs Over UDP</a></li>
</ul>
<h1><a class="anchor" id="sec_log_collection_usb"></a>
Transfer Logs to USB stick</h1>
<p>Log transfer to USB stick is available on VOS1, VOS2, VOS3 platforms, but the instruction varies across platforms.</p>
<p>In all cases you need a USB stick that is formatted to FAT, and the stick should be connected to a device using an appropriate cable or port. </p><dl class="section note"><dt>Note</dt><dd>If the terminal does not detect the USB stick, try using one not bigger than 1GB or try different brand USB stick.</dd></dl>
<h2><a class="anchor" id="sec_log_collection_usb_sysmode"></a>
Transfer Logs from the System Mode</h2>
<p>On VOS1, VOS2 devices logs may be collected from the System Mode:</p><ol type="1">
<li>Start the System Mode</li>
<li>When the Sysmode login displayed, press (CANCEL or red "X" button).</li>
<li>Select the "Transfer Logs" option.</li>
<li>Logs will be copied to the USB stick.</li>
<li>Connect USB to the laptop and copy the files.</li>
</ol>
<h2><a class="anchor" id="sec_log_collection_usb_mac"></a>
Transfer Logs from the MAC CP</h2>
<p>On VOS2 and VOS3 devices logs may be collected from the MAC CP:</p><ol type="1">
<li>Start the MAC Desktop</li>
<li>Select:<ul>
<li>VOS2: <b>Log Control / Transfer Logs</b></li>
<li>VOS3: <b>Control Panel / Transfer Logs</b></li>
</ul>
</li>
<li>Logs will be copied to the USB stick.</li>
<li>Connect USB to the laptop and copy the files.</li>
</ol>
<h1><a class="anchor" id="sec_log_collection_system_console"></a>
System/Console Logs</h1>
<h2><a class="anchor" id="subsec_log_collection_system_console_vos1"></a>
System/Console Logs - VOS1 (Ux, Mx)</h2>
<dl class="section note"><dt>Note</dt><dd>You need to have Ux100 connected to Ux3xx or Ux410.</dd></dl>
<p>To enable console logs on the serial port of Ux3xx or Ux410 device:</p><ol type="1">
<li>Power off Ux device and connect it to PC using P/N 26264-0x-R cable (the same as RS232-COM1).</li>
<li>Run the terminal application and connect to the terminal using Serial port connection (115200/8-N-1).</li>
<li>Power on Ux device.</li>
<li>After approx. 0.5 seconds Ux100 beeps. As soon as You hear beep - press and hold "System Mode" button.</li>
<li>Release "System Mode" button:<ul>
<li>Ux3xx: when GREEN LED is on;</li>
<li>Ux410: after 2 seconds of holding.</li>
</ul>
</li>
<li>Console logs will be activated for THIS SESSION ONLY.</li>
</ol>
<h2><a class="anchor" id="subsec_log_collection_system_console_engage"></a>
System/Console Logs - VOS2 (Engage)</h2>
<p>To enable console logs on the serial port of Engage terminals you will need to:</p><ol type="1">
<li>Connect a terminal to your PC and start the console application/ terminal application (Putty or similar).</li>
<li>Power off the terminal.</li>
<li>While its off – press key 5 on the terminal.</li>
<li>Without releasing key 5 – power the terminal.</li>
<li>You will see the boot mode options 0-4. Depending on the OS version these will change in a cycle or you need to change them manually by pressing key 5.</li>
<li>To boot in mode 2:<ul>
<li>If modes change in cycle, release key 5 when the mode is 2.</li>
<li>If manually changing modes, press and hold key 5 when boot mode 2 is set.</li>
</ul>
</li>
<li>This will enable console logs printout on the serial port for the corresponding session until the terminal is rebooted.</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>Above instructions mentioned logs for the corresponding session only. Alternatively, logs can be enabled permanently and only for terminals with ADC. In order to achieve it, use the <b>setconsole</b> command. </dd>
<dd>
For latest VOS2 releases - sysmode has option to permanently enable console printout. Administration -&gt; Console state. </dd>
<dd>
For VOS2 there is an OS level package that cleans nvram flags and disables console logs. This is OS signed, pre-install package and it can be combined with VOS/ADK upgrader packages. If loaded standalone - after first reboot logs will still be printed; 2nd reboot is needed.</dd></dl>
<h2><a class="anchor" id="subsec_log_collection_system_console_neo_vegas"></a>
System/Console Logs - VOS3 (Neo/Vegas)</h2>
<p>To enable console logs on the serial port of VOS3 terminals you will need to:</p><ol type="1">
<li>Connect a terminal to your PC with USB cable.</li>
<li>Power off the terminal.</li>
<li>While its off – press red "X" key (or the "5" key) on the terminal.</li>
<li>Without releasing the key – power on the terminal. You will see the bootloader mode options.</li>
<li>Run "fastboot oem console 1" comman on PC.</li>
<li>You should see response: "(bootloader) Console: enabled"</li>
<li>Now run "fastboot reboot" to reboot the device.</li>
</ol>
<h1><a class="anchor" id="sec_log_collection_system_adk"></a>
ADK Logs</h1>
<p>Make sure ADK liblog package is installed in the terminal.</p>
<p>You can find information on logging in <a class="el" href="pg_logging_users_guide.html">ADK-LOGGING Programmers Guide</a>. Specific logs can be collected either by loading the "ADK Component Configuration" file or by using <a class="el" href="pg_logging_users_guide.html#sec_lcp_overview_main_screen">LCP Main Screen</a> (LCP), information on both options is in the same guide.</p>
<h1><a class="anchor" id="sec_log_collection_system_adk_emv"></a>
ADK-EMV Trace Collection</h1>
<p>To enable EMV logs, in addition to loading EMV logging package from ADK-LOGGING or enabling EMV logging via Log Control Panel (LCP), you should add this option to the EMV CT/CTLS Init API in your application:</p>
<p>In ADK-EMV-CTLS call <a class="el" href="group___f_u_n_c___i_n_i_t.html#ga63240773908b46180eeec866ef33f93f" title="Initialize EMV ADK.">EMV_CTLS_Init_Framework()</a> with:</p>
<p><code> #define EMV_CTLS_INIT_OPT_TRACE_ADK_LOG 0x00080000 ///&lt; use ADK-LOG instead of callback for trace </code></p>
<p>In ADK-EMV-CT call <a class="el" href="group___f_u_n_c___i_n_i_t.html#ga514e39585c5a6b79632ac317593ff592" title="Initialize EMV ADK.">EMV_CT_Init_Framework()</a> with:</p>
<p><code> #define EMV_CT_INIT_OPT_TRACE_ADK_LOG 0x00080000 ///&lt; use ADK-LOG instead of callback for trace </code></p>
<p>For the other ADK CARDS components, this is similar. Instead of configuring callbacks for the components use ADK log instead with a configuration parameter. Once configured correctly all logs will be forwarded to ADK log.</p>
<h1><a class="anchor" id="sec_log_collection_over_udp"></a>
Logs Over UDP</h1>
<p>In VOS1 and VOS2 there is a possibility to configure logs to be sent over UDP channel (please refer to the chapter <a class="el" href="pg_logging_users_guide.html#sec_lcp_overview_main_screen">Log Control Panel</a> for more details). Any application that read UDP datagrams could be used, e.g.:</p><ul>
<li><code><a href="http://jlog514.sourceforge.net/">http://jlog514.sourceforge.net/</a></code></li>
<li><code><a href="http://sourceforge.net/projects/jlog514/">http://sourceforge.net/projects/jlog514/</a></code></li>
</ul>
<p>It should be run from a privileged user in order to allow listening on UDP port 514. Unless absolutely necessary please use port 514, which is intended for syslog traffic.</p>
<p><br  />
</p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="pg_system_diagnosis_and_troubleshooting.html">System Diagnosis and Troubleshooting</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:59 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
