<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: Password update tool (V/OS2)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_vos_password_management_tools_update_password_vos2.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Password update tool (VOS2) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="pg_vos_password_management_tools_update_password_vos2"></a>
Password update tool (VOS2)</h1>
<h1><a class="anchor" id="sec_password_update_vos2_intro"></a>
Introduction</h1>
<p>The Password update tool can be used on VOS2 Engage terminals and updates system-level passwords via packaging by:</p><ul>
<li>Direct Load to the terminal via USB or Netloader</li>
<li>Remotely using VHQ or other Terminal Management System (TMS) Password Update package should be signed using the Application file signing cards. Once processed on the terminal, the Password Update package is deleted and the values set in it cannot be viewed or edited from System mode.</li>
</ul>
<h1><a class="anchor" id="sec_password_update_vos2_when"></a>
When to use</h1>
<p>Use case examples when this tool can be used:</p><ul>
<li>A customer wants to update the password value on a particular Engage device.</li>
<li>A customer has a password management policy that requires periodic password changes on all Engage devices.</li>
<li>Deployment wants to set the same pre-expired password value on all Engage devices for the same region.</li>
</ul>
<h1><a class="anchor" id="sec_password_update_vos2_functionality"></a>
Functionality</h1>
<p>You must have downloaded and installed/unzipped the following:</p><ul>
<li>pwdconvert-bin-1.0.5.zip - this file provides a utility to define which terminals and how to change the passwords, this must be unzipped into a directory,</li>
<li>dl.pwdupdate-1.0.9-rap-prod.tgz - this provides the bundle to which the password change file is bundled.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>External users should contact their Support Team to get appropriate packages.</dd></dl>
<p>Additionally, you must already have installed and have available the Package Manager and the standard VeriFone signing tools and your customer production cards.</p>
<p>The Password Update package is installed on the device and should contain a "pwdupdate.txt" file that has old and new password hashed values inside. The tool can be used on VOS2 devices only and provides to update system password value or password expiration state if the old password value is known. The tool can contain a defined S/N of a device or a S/N wildcard.</p>
<h1><a class="anchor" id="sec_password_update_vos2_validations"></a>
Validations</h1>
<p>Validations of the Security Policy File are performed during the installation on the terminal.</p><ul>
<li>the S/N value provided by the package must match the S/N format</li>
<li>S/N provided by the package must match the S/N of the device</li>
<li>the old password value entered in the config file must match the old password value on the device</li>
</ul>
<p>If at least one validation fails then the password will not be changed. The result of the package installation is logged (see <a class="el" href="pg_vos_password_management_tools_update_password_vos2.html#sec_password_update_vos2_logging">Logging</a>).</p>
<h1><a class="anchor" id="sec_password_update_vos2_logging"></a>
Logging</h1>
<p>The result of the password update package installation is stored in the /mnt/flash/logs/system file "messages".</p>
<p>Example: </p><pre class="fragment">&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:main() Started. Version=[1.0.9] Mode=[Password Changer] uid=[0] gid=[0]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:get_serial_number() Terminal serial number from MIB: [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() DONE! Password successfully updated for section [123-456-789] user name [supervisor]!
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [maintenance] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [keyload1] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [keyload2] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [level1] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [level2] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [svcswitch1] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [svcswitch2] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [switch1] password not provided in section [123-456-789]
&lt;13&gt; Jul  6 12:17:27 Raptor user.notice pwdupdate: ~~SECLOG~~ pwdupdate:proc_sect_params() User name [switch2] password not provided in section [123-456-789]
</pre><h1><a class="anchor" id="sec_password_update_vos2_instruction"></a>
Instruction</h1>
<h2><a class="anchor" id="subsec_password_update_vos2_tool_generate_password_hash_file"></a>
Generate password hash batch file</h2>
<p>To generate a password hash batch file, using "pwdconvert.exe" (mentioned above), a password plain-text batch file should be prepared before.</p>
<p><b>Input</b> <b>file</b> <b>content</b> <b>example:</b> </p><pre class="fragment">[123-000-001]
*level1expired=
*level1pending=166831,974556
*level2expired=
*level2pending=166831,467899
*supervisorexpired=
*supervisorpending=123456,987324
*keyload1expired=
*keyload1pending=166831,677644
*keyload2expired=
*keyload2pending=166831,483485
</pre><p>You can use</p><pre class="fragment">[***-***-***]</pre><p> as a S/N wildcard.</p>
<p><b>Format</b> Each section is headered as [&lt;serial-no&gt;], and then line by line each password type setting is documented.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Field </th><th class="markdownTableHeadNone">Description </th><th class="markdownTableHeadNone">Valid values  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">level1expired </td><td class="markdownTableBodyNone">Level 1 Password set expired </td><td class="markdownTableBodyNone">blank = do nothing, 1 = expired  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">level1pending </td><td class="markdownTableBodyNone">Level 1 Old and New Password </td><td class="markdownTableBodyNone">[old password],[new password]  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">level2expired </td><td class="markdownTableBodyNone">Level 2 Password set expired </td><td class="markdownTableBodyNone">blank = do nothing, 1 = expired  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">level2pending </td><td class="markdownTableBodyNone">Level 2 Old and New Password </td><td class="markdownTableBodyNone">[old password],[new password]  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">supervisorexpired </td><td class="markdownTableBodyNone">Supervisor Password set expired </td><td class="markdownTableBodyNone">blank = do nothing, 1 = expired  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">supervisorpending </td><td class="markdownTableBodyNone">Supervisor Old and New Password </td><td class="markdownTableBodyNone">[old password],[new password]  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">keyload1expired </td><td class="markdownTableBodyNone">Keyload 1 Password set expired </td><td class="markdownTableBodyNone">blank = do nothing, 1 = expired  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">keyload1pending </td><td class="markdownTableBodyNone">Keyload 1 Old and New Password </td><td class="markdownTableBodyNone">[old password],[new password]  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">keyload2expired </td><td class="markdownTableBodyNone">Keyload 2 Password set expired </td><td class="markdownTableBodyNone">blank = do nothing, 1 = expired  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">keyload2pending </td><td class="markdownTableBodyNone">Keyload 2 Old and New Password </td><td class="markdownTableBodyNone">[old password],[new password]  </td></tr>
</table>
<p>Generate password hash batch file using "pwdconvert.exe": </p><div class="fragment"><div class="line">pwdconvert.exe nosalt input.txt output.txt</div>
</div><!-- fragment --><p>where:</p>
<ul>
<li>input.txt - file name of password plain-text batch file <br  />
</li>
<li>output.txt - file name of password hash batch file</li>
</ul>
<p><b>Output</b> <b>file</b> <b>example:</b> </p><pre class="fragment">[123-000-001]
*level1expired=
*level1pending=D04250313FB8AD6EBF027A26FFB53159DE4C7A28AA1635A8ACF904CFCBC31174
*level2expired=
*level2pending=AD173F43A4558D140D61F447C3A2C4BF3CF476B615491EF8FAED08155A3CD384
*supervisorexpired=
*supervisorpending=8B20E62108D56CE822192DD39E27475570F9FE9BD52D677085577530B15613E3
*keyload1expired=
*keyload1pending=88149A8DCA7D972D46EB7DC4F187DC3D4BA37BB07350C0026F8A0DAE885E831B
*keyload2expired=
*keyload2pending=C6A21D4A7868F532DC9E476A0B616A183FCB4BC5FF1AE5BBBD6192EE739BBA84
</pre><h2><a class="anchor" id="subsec_password_update_vos2_tool_creating_the_bundle"></a>
Creating the Bundle</h2>
<p>This part of the procedure takes the "output.txt" from the previous file and bundles it into the VOS2 bundle to be downloaded. The "pwdupdate-passwords" bundle should be updated - the generated "output.txt" content should be copied into the "pwdupdate.txt" file as a password hash value. The updated package then should be user-signed using the "File Signing Tool (FST)" on ADK 4.7 and older releases or the "Online Signing Portal" on ADK 4.8 and newer releases.</p>
<dl class="section note"><dt>Note</dt><dd>UX (VOS1) devices which are running on ADK 4.8 and newer releases, should be still signed with the File Signing Tool. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="pg_system_tools.html">System Tools</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:04:02 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
