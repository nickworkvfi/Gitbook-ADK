<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: ADK-MAC Programmers Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_mac_users_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADK-MAC Programmers Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Preface"></a>
Preface</h1>
<p>This guide provides information on the usage of the ADK Multi Application Controller (ADK-MAC).<br  />
This includes information on <a class="el" href="mac_8h.html">libvfimac</a> library, as well as details on MAC (Multi Application Controller) daemon and <a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">MCP</a> (MAC Control Panel) application.</p>
<h2><a class="anchor" id="subsec_mac_audience"></a>
Audience</h2>
<p>This document is meant for programmers who want to understand and use ADK Multi Application Controller.</p>
<h2><a class="anchor" id="subsec_mac_organization"></a>
Organization</h2>
<p>This guide is organized as follows:</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_introduction">Chapter 1, Introduction</a>: Introduction to ADK-MAC.</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_getting_started">Chapter 2, Getting Started</a>: Explains concept.</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_programming">Chapter 3, Programming</a>: Presents common uses.</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_compile">Chapter 4, System Setup and Requirements</a>: Compiler and linker settings, dependencies to other components, environment setup.</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_troubleshooting">Chapter 5, Troubleshooting</a>: Solutions for possible issues.</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_glossary">Appendix: Glossary</a>: Listing and definitions of various acronyms and terms</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Appendix: Desktop</a>: Desktop</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_statusbar">Appendix: Statusbar</a>: Statusbar</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_hotkeys">Appendix: Hotkeys</a>: Hotkeys</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_servicebtn">Appendix: Service button broadcast</a>: Service button broadcast</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">Appendix: Configuration</a>: Configuration file</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_mft">Appendix: Manifest file</a>: Application manifest file</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_kbd">Appendix: Virtual keyboard</a>: Virtual keyboard</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_res">Appendix: Custom resources</a>: Custom resources</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_cpr">Appendix: Commerce Platform Application</a> Commerce Platform Application</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">Appendix: MCP</a>: MAC Control Panel</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_cp_language">Appendix: MAC language setting</a> MAC language setting</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_layout">Appendix: Layout</a>: Layout files</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_events">Appendix: Events</a>: Events</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_notify">Appendix: Notification</a>: Notification interface</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_system_notifications">Appendix: System Notifications</a>: System Notifications interface</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_recovery">Appendix: Recovery</a>: Application recovery</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_envs">Appendix: Environment variables</a>: Environment variables</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_arrs">Appendix: ARRS</a>: Android Remote Rendering Service</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_remote">Appendix: Remote display mode</a>: Remote display mode</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_battery">Appendix: Battery status control (VOS2 platform)</a>: Battery status control for VOS2 platform</p>
<p><a class="el" href="pg_mac_users_guide.html#sec_mac_devices">Appendix: Devices</a>: Device-specific information</p>
<h1><a class="anchor" id="sec_mac_introduction"></a>
Introduction</h1>
<p>MAC provides launcher functionality for native applications (written in C/C++) and <a class="el" href="pg_mac_users_guide.html#sec_mac_cpr">Commerce Platform</a> applications (written in JS and HTML). It can be used to launch both user (usr1-usr15) and system (sys13 (sys_* for VOS3)) applications (e.g. Comm Control Panel).<br  />
MAC analyzes installed application <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest files</a> (*.mft files) and provides possibility to launch them automatically (on startup) or manually (using <a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">desktop</a> icons or API from <a class="el" href="mac_8h.html">mac.h</a>). MAC Desktop can be accessed from application using <a class="el" href="pg_mac_users_guide.html#sec_mac_hotkeys">hotkeys</a>.<br  />
CP applications can be launched automatically by specific trigger points defined in <a class="el" href="pg_mac_users_guide.html#sec_mac_cpr">Commerce Platform</a> scheme.<br  />
MAC provides a global <a class="el" href="pg_mac_users_guide.html#sec_mac_statusbar">statusbar</a> which reports terminal communication channel status, battery status and other other useful information. Content of the global <a class="el" href="pg_mac_users_guide.html#sec_mac_statusbar">statusbar</a> is maintained independently from applications.<br  />
On touch screen devices MAC provides <a class="el" href="pg_mac_users_guide.html#sec_mac_kbd">virtual keyboard</a> for input. Virtual keyboard can be enabled/disabled using API. It can also be set to automatic mode, when it will appear on the screen if corresponding input is active. Virtual keyboard can be disabled in MAC <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration files</a>.<br  />
MAC also acts as a windows manager. It can be used to dynamically change window <a class="el" href="pg_mac_users_guide.html#sec_mac_layout">layout</a>.<br  />
If needed MAC <a class="el" href="pg_mac_users_guide.html#sec_mac_res">resources</a> can be changed and replaced with custom ones. MAC configuration can be changed by installing extra <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration</a> files.<br  />
As part of delivery MAC provides MAC Control Panel (<a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">MCP</a>). This is GUI application, which provides useful information about system. Available information includes used ADK and VOS versions, hardware details (screen resolution, RAM and flash size, model name, etc), device mode (PROD/CPDEV), sponsor certificate details, etc.<br  />
On Dual Chip models (e.g. M424, M440, CM5) MAC can run in <a class="el" href="pg_mac_users_guide.html#sec_mac_arrs">ARRS</a> mode. In this case, applications runs on VOS, but GUI is streamed to Android Remote Rendering Service in Android OS.</p>
<h2><a class="anchor" id="sec_mac_concepts"></a>
Concepts</h2>
<p>MAC API is declared in <a class="el" href="mac_8h.html">mac.h</a> header file.</p>
<h1><a class="anchor" id="sec_mac_getting_started"></a>
Getting Started</h1>
<h2><a class="anchor" id="subsec_mac_setup"></a>
Setup</h2>
<h3><a class="anchor" id="subsubsec_mac_running_on_v_os"></a>
Running on VOS</h3>
<h3><a class="anchor" id="subsubsec_mac_installation"></a>
Installation</h3>
<p>MAC release consists of multiple packages:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Package name </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dl.mac-3.71.6.tgz </td><td class="markdownTableBodyNone">MAC daemon  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dl.mac-remove-3.71.6.tgz </td><td class="markdownTableBodyNone">MAC daemon removal package  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dl.mac-res-3.71.6.tgz </td><td class="markdownTableBodyNone">MAC GUI resources  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dl.mac-res-remove-3.71.6.tgz </td><td class="markdownTableBodyNone">MAC GUI resource removal package  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dl.mcp-3.71.6.tgz </td><td class="markdownTableBodyNone">MCP application  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dl.mcp-remove-3.71.6.tgz </td><td class="markdownTableBodyNone">MCP application removal package  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dl.libmac-3.71.6.tgz </td><td class="markdownTableBodyNone">Library for interacting with MAC  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dl.libmac-remove-3.71.6.tgz </td><td class="markdownTableBodyNone">MAC library removal package  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dl.libcpr-3.71.6.tgz </td><td class="markdownTableBodyNone">Library to enable Commerce Platform (CPR)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dl.libcpr-remove-3.71.6.tgz </td><td class="markdownTableBodyNone">CPR library removal package  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Removal packages are not needed for regular use. They are needed only if you need to downgrade particular component or you don't need it.</dd></dl>
<h1><a class="anchor" id="sec_mac_programming"></a>
Presents common uses</h1>
<p>For application to appear on MAC desktop, it should provide its manifest file. Manifest file explains how and when application should be launched. Manifest file should be located in www folder. If application runs under usr2 it should put its manifest file into /home/usr2/www/. Example: /home/usr1/www/app.mft.</p>
<p>Manifest file example: </p><div class="fragment"><div class="line">[application]</div>
<div class="line"><span class="keywordtype">id</span>=demo</div>
<div class="line">version=1.0.0</div>
<div class="line">app_resource_dir=demo</div>
<div class="line"> </div>
<div class="line">[desktop]</div>
<div class="line">label=demo</div>
<div class="line">cmdline=../demo</div>
</div><!-- fragment --><p>This manifest file will add a new icon to MAC desktop, which will have label "demo". After you press this icon /home/usr2/demo will be launched and application GUI appear on foreground. You can get back to MAC destkop using hotkeys (e.g. X+3). Multiple applications can run simultaneously and you can switch between them using MAC desktop. app_resource_dir - is needed for resource separation. If this field is set to "demo" ADK-GUI will search for resources in /home/usr2/www/demo folder. If app_resource_dir is not set, ADK-GUI will search for resources in /home/usr2/www.</p>
<dl class="section note"><dt>Note</dt><dd>Application doesn't need to link against libvfimac to be launched by MAC</dd></dl>
<p>If you need your application to be launched on system startup, please add autolaunch section to your manifest file. This will automatically bring your application to foreground after system startup.</p>
<p>Manifest file example: </p><div class="fragment"><div class="line">[application]</div>
<div class="line"><span class="keywordtype">id</span>=demo</div>
<div class="line">version=1.0.0</div>
<div class="line">app_resource_dir=demo</div>
<div class="line"> </div>
<div class="line">[desktop]</div>
<div class="line">label=demo</div>
<div class="line">cmdline=../demo</div>
<div class="line"> </div>
<div class="line">[autolaunch]</div>
<div class="line">cmdline=../demo</div>
</div><!-- fragment --><p>After application exits, MAC will clear-up its resources, will destroy its GUI region and bring last visible application to foreground. If no application is running, MAC desktop will appear. If your application needs to restricts access to terminal screen, it can lock screen using <a class="el" href="namespacevfimac.html#a1f0513c597f95e860f0d4e516d72b364">vfimac::sysLockLayout</a> API. This way, other applications can't take over focus.</p>
<dl class="section note"><dt>Note</dt><dd>Application can lock layout only it is currently on foreground.</dd></dl>
<p>If application needs to be started by other means (e.g. SI or GDB) and not by MAC, it needs to invoke <a class="el" href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a> to register itself in MAC. In this case it doesn't need to install its manifest file. After <a class="el" href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a> is invoked, MAC will create new GUI region for your application and will set needed <a class="el" href="pg_mac_users_guide.html#sec_mac_envs">environments</a> for application to use this GUI region. Same approach should be applied if application spawns multiple threads and each of them wants to show their own GUI.</p>
<dl class="section note"><dt>Note</dt><dd>Make sure to invoke <a class="el" href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a> before invoking any ADK-GUI APIs.</dd>
<dd>
Make sure to invoke <a class="el" href="namespacevfimac.html#a738e18eb97f53b402e01c6ee391b2607">vfimac::sysUnSetAppid</a> before exiting to free used resources and destroy application GUI region.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Register application in MAC. This will set all needed environment values,</span></div>
<div class="line"><span class="comment">// and will create new GUI region for application.</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a>(<span class="stringliteral">&quot;demo&quot;</span>);</div>
<div class="line"><span class="comment">// Show loading screen</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#abb5ddef3187ac018cda433a3aec2c6fb">vfimac::sysShowProgress</a>( <span class="stringliteral">&quot;Loading&quot;</span>, 10 );</div>
<div class="line"><span class="comment">// Bring application to foreground</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#a424b735dc0296a43429f6dfeab802fa4">vfimac::sysToForeground</a>(<span class="stringliteral">&quot;demo&quot;</span>);</div>
<div class="line"><span class="comment">// Show screen.html </span></div>
<div class="line"><a class="code" href="namespacevfigui.html#a7144a4bea5f4f98d9b3c45d95959389b">vfigui::uiInvokeURLAsync</a>( <span class="stringliteral">&quot;screen.html&quot;</span> );</div>
<div class="line"><span class="comment">// Free used resources, destroy used GUI region.</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#a738e18eb97f53b402e01c6ee391b2607">vfimac::sysUnSetAppid</a>();</div>
</div><!-- fragment --><p>If MAC functionality is not needed for particular setup, it can be disabled using configuration file.</p>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">window_management=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
</div><!-- fragment --><p>In this case MAC will show splash screen with ADK version in GUI region 0. It will autolaunch only service applications (applications without GUI) and would not interact with GUI regions anymore. This allows GUI region 0 to be used by payment applicaiton. Splash screen can be disabled by corresponding field in configuration file.</p>
<div class="image">
<img src="splash.png" alt=""/>
<div class="caption">
MAC splash screen</div></div>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">window_management=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
<div class="line">splash_screen=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
</div><!-- fragment --><p>Also, window management is disabled on headless devices, e. g. devices without display. They will launch service applications only.<br  />
But it is possible to add remote display for such headless devices, see <a class="el" href="pg_mac_users_guide.html#sec_mac_remote">Appendix: Remote display mode</a>.</p>
<h2><a class="anchor" id="subsec_mac_demo1"></a>
Multiple demo applications are provided in MAC example folder</h2>
<p><a class="el" href="mac_8h.html">libvfimac</a> API usage example. mac_demo1 application source code: </p><div class="fragment"><div class="line"><span class="comment">// SDK</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ADK</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gui_8h.html">html/gui.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ipc_2src_2ipc_2jsobject_8h.html">ipc/jsobject.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="notify_8h.html">ipc/notify.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;log/liblog2.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="mac_8h.html">sysinfo/mac.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined _VOS1</span></div>
<div class="line"><span class="comment">// workaround for Trident compiler</span></div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespacestd.html">std</a></div>
<div class="line">{</div>
<div class="line">    std::string to_string(<span class="keywordtype">int</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> to_string((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::string to_string(<span class="keywordtype">size_t</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> to_string((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// constants</span></div>
<div class="line">std::string APP_ID = <span class="stringliteral">&quot;MACDEMO1&quot;</span>;</div>
<div class="line">std::string APP_MANIFEST_ID = <span class="stringliteral">&quot;mac_demo1&quot;</span>;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> SUCCEED = 0;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacevfisdi.html#a28287671eaf7406afd604bd055ba4066a936c4a5547a9360243178f726f6b2715">FAIL</a> = -1;</div>
<div class="line">LibLogHandle lh = LOGAPI_INIT(APP_ID.c_str()); <span class="comment">// init logging library</span></div>
<div class="line"><span class="keyword">const</span> std::string device_mac_cp_start_trigger(<span class="stringliteral">&quot;MAC_CP_START&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string device_mac_cp_stop_trigger(<span class="stringliteral">&quot;MAC_CP_STOP&quot;</span>);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> need_to_change_focus;</div>
<div class="line"><span class="keyword">static</span> std::string cp_app_to_change_focus;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define STR(x) #x</span></div>
<div class="line"><span class="preprocessor">#define STRINGIFY(x) STR(x)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define LOOP_COUNTER            10</span></div>
<div class="line"><span class="preprocessor">#define STR_TRIGGER_LOOP       &quot;Trigger loop [&quot; STRINGIFY(LOOP_COUNTER) &quot;]&quot;</span></div>
<div class="line"><span class="preprocessor">#define STR_TRIGGER_IDLE_LOOP  &quot;Trigger Trigger idle in loop [&quot; STRINGIFY(LOOP_COUNTER) &quot;]&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// internal functions</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> event_callback( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4b">vfimac::macEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp; json );</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_cp_start_callback(</div>
<div class="line">    <span class="keywordtype">void</span> *data,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">    <span class="keywordtype">unsigned</span> flags);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_cp_stop_callback(</div>
<div class="line">    <span class="keywordtype">void</span> *data,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">    <span class="keywordtype">unsigned</span> flags);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">    EXIT = -2,</div>
<div class="line">    GUI_REGION = 0,</div>
<div class="line">    SYSTEM_NOTIFICATION_ADD,</div>
<div class="line">    SYSTEM_NOTIFICATION_LIST,</div>
<div class="line">    SYSTEM_NOTIFICATION_REMOVE,</div>
<div class="line">    MANIFEST,</div>
<div class="line">    DESKTOP,</div>
<div class="line">    CONTROL_PANEL,</div>
<div class="line">    POWER_PANEL,</div>
<div class="line">    LAUNCH,</div>
<div class="line">    LAUNCH_BACKGROUND,</div>
<div class="line">    STATUSBAR_ON,</div>
<div class="line">    STATUSBAR_OFF,</div>
<div class="line">    STATUSBAR_STATE,</div>
<div class="line">    STATUSBAR_VALUES,</div>
<div class="line">    STATUSBAR_REFRESH,</div>
<div class="line">    STOP_USR_APPS,</div>
<div class="line">    STOP_OTHER_APPS,</div>
<div class="line">    SCREENSHOT,</div>
<div class="line">    GET_CP_APP_ROOT_DIR,</div>
<div class="line">    FULLSCREEN_ON,</div>
<div class="line">    FULLSCREEN_OFF,</div>
<div class="line">    KEYBOARD_TEST,</div>
<div class="line">    KEYBOARD_ON,</div>
<div class="line">    KEYBOARD_OFF,</div>
<div class="line">    KEYBOARD_NUMERIC,</div>
<div class="line">    KEYBOARD_ALPHA,</div>
<div class="line">    KEYBOARD_CAP,</div>
<div class="line">    IS_RUNNING,</div>
<div class="line">    FOREGROUND,</div>
<div class="line">    STOP_CP_APPS,</div>
<div class="line">    CP_INSTALL,</div>
<div class="line">    TRIGGER_IDLE,</div>
<div class="line">    TRIGGER_LOOP,</div>
<div class="line">    TRIGGER_IDLE_LOOP,</div>
<div class="line">    TRIGGER_TXN_START,</div>
<div class="line">    TRIGGER_MANUAL,</div>
<div class="line">    TRIGGER_MANUAL_SYNC,</div>
<div class="line">    SET_CTX_VALUES,</div>
<div class="line">    STOP_APPID,</div>
<div class="line">    ACTION,</div>
<div class="line">    APP_LIST,</div>
<div class="line">    AUTOLAUNCH,</div>
<div class="line">    LAYOUT_LOCK,</div>
<div class="line">    LAYOUT_UNLOCK,</div>
<div class="line">    IN_FOREGROUND,</div>
<div class="line">    LIBMAC_VER,</div>
<div class="line">    MAC_VER,</div>
<div class="line">    LANG,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = 0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a>( APP_ID.c_str() );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevfimac.html#abb5ddef3187ac018cda433a3aec2c6fb">vfimac::sysShowProgress</a>( <span class="stringliteral">&quot;LOG init&quot;</span>, 10 ); <span class="comment">// Show progress screen</span></div>
<div class="line">    sleep(1);</div>
<div class="line">    <a class="code" href="namespacevfimac.html#abb5ddef3187ac018cda433a3aec2c6fb">vfimac::sysShowProgress</a>( <span class="stringliteral">&quot;GUI init&quot;</span>, 30 );</div>
<div class="line">    sleep(1);</div>
<div class="line">    <a class="code" href="namespacevfigui.html#ac94648784fbac056c2d259dbfc3e50aa">vfigui::uiSetPropertyInt</a>(<a class="code" href="namespacevfigui.html#a0c064fcc5409b0845e11925a55f324bdaf9c20f0de4be24280c450e8e7872e8bd">vfigui::UI_PROP_CIRCULAR_MENU</a>,1);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="namespacevfigui.html#structvfigui_1_1_u_i_menu_entry">vfigui::UIMenuEntry</a> menu[]=</div>
<div class="line">    {</div>
<div class="line">        {<span class="stringliteral">&quot;GUI region&quot;</span>,                   GUI_REGION,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;Add system notification&quot;</span>,      SYSTEM_NOTIFICATION_ADD,   0},</div>
<div class="line">        {<span class="stringliteral">&quot;System notifications list&quot;</span>,    SYSTEM_NOTIFICATION_LIST,  0},</div>
<div class="line">        {<span class="stringliteral">&quot;Remove system notification&quot;</span>,   SYSTEM_NOTIFICATION_REMOVE,0},</div>
<div class="line">        {<span class="stringliteral">&quot;Trigger txn start&quot;</span>,            TRIGGER_TXN_START,  0},</div>
<div class="line">        {<span class="stringliteral">&quot;Trigger manual launch&quot;</span>,        TRIGGER_MANUAL,     0},</div>
<div class="line">        {<span class="stringliteral">&quot;Trigger manual sync&quot;</span>,          TRIGGER_MANUAL_SYNC,0},</div>
<div class="line">        {<span class="stringliteral">&quot;Trigger idle&quot;</span>,                 TRIGGER_IDLE,       0},</div>
<div class="line">        {STR_TRIGGER_LOOP,               TRIGGER_LOOP,       0},</div>
<div class="line">        {STR_TRIGGER_IDLE_LOOP,          TRIGGER_IDLE_LOOP,  0},</div>
<div class="line">        {<span class="stringliteral">&quot;Screenshot&quot;</span>,                   SCREENSHOT,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;Get CP app root dir&quot;</span>,          GET_CP_APP_ROOT_DIR,0},</div>
<div class="line">        {<span class="stringliteral">&quot;Stop all cp apps&quot;</span>,             STOP_CP_APPS,       0},</div>
<div class="line">        {<span class="stringliteral">&quot;Stop all usr apps&quot;</span>,            STOP_USR_APPS,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Stop other apps&quot;</span>,              STOP_OTHER_APPS,    0},</div>
<div class="line">        {<span class="stringliteral">&quot;Install CP app&quot;</span>,               CP_INSTALL,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;Stop by appid&quot;</span>,                STOP_APPID,         0}, </div>
<div class="line">        {<span class="stringliteral">&quot;Invoke action&quot;</span>,                ACTION,             0}, </div>
<div class="line">        {<span class="stringliteral">&quot;Launch by appid&quot;</span>,              LAUNCH,             0},</div>
<div class="line">        {<span class="stringliteral">&quot;Launch in background&quot;</span>,         LAUNCH_BACKGROUND,  0},</div>
<div class="line">        {<span class="stringliteral">&quot;Is running&quot;</span>,                   IS_RUNNING,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;Autolaunch&quot;</span>,                   AUTOLAUNCH,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;To foreground&quot;</span>,                FOREGROUND,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;In foreground&quot;</span>,                IN_FOREGROUND,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Fullscreen on&quot;</span>,                FULLSCREEN_ON,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Fullscreen off&quot;</span>,               FULLSCREEN_OFF,     0},</div>
<div class="line">        {<span class="stringliteral">&quot;Lock layout&quot;</span>,                  LAYOUT_LOCK,        0},</div>
<div class="line">        {<span class="stringliteral">&quot;Unlock layout&quot;</span>,                LAYOUT_UNLOCK,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard test&quot;</span>,        KEYBOARD_TEST,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard on&quot;</span>,          KEYBOARD_ON,        0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard off&quot;</span>,         KEYBOARD_OFF,       0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard numeric&quot;</span>,     KEYBOARD_NUMERIC,   0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard alpha&quot;</span>,       KEYBOARD_ALPHA,     0},</div>
<div class="line">        {<span class="stringliteral">&quot;Virtual keyboard capitalized&quot;</span>, KEYBOARD_CAP,       0},</div>
<div class="line">        {<span class="stringliteral">&quot;Statusbar on&quot;</span>,                 STATUSBAR_ON,       0},</div>
<div class="line">        {<span class="stringliteral">&quot;Statusbar off&quot;</span>,                STATUSBAR_OFF,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Statusbar refresh&quot;</span>,            STATUSBAR_REFRESH,  0},</div>
<div class="line">        {<span class="stringliteral">&quot;Statusbar state&quot;</span>,              STATUSBAR_STATE,    0},</div>
<div class="line">        {<span class="stringliteral">&quot;Statusbar values&quot;</span>,             STATUSBAR_VALUES,   0},</div>
<div class="line">        {<span class="stringliteral">&quot;Application list&quot;</span>,             APP_LIST,           0},</div>
<div class="line">        {<span class="stringliteral">&quot;Manifest scan&quot;</span>,                MANIFEST,           0},</div>
<div class="line">        {<span class="stringliteral">&quot;Set CP context values&quot;</span>,        SET_CTX_VALUES,     0},</div>
<div class="line">        {<span class="stringliteral">&quot;Show control panel&quot;</span>,           CONTROL_PANEL,      0},</div>
<div class="line">        {<span class="stringliteral">&quot;Show power panel&quot;</span>,             POWER_PANEL,        0},</div>
<div class="line">        {<span class="stringliteral">&quot;Show desktop&quot;</span>,                 DESKTOP,            0},</div>
<div class="line">        {<span class="stringliteral">&quot;libmac version&quot;</span>,               LIBMAC_VER,         0},</div>
<div class="line">        {<span class="stringliteral">&quot;MAC version&quot;</span>,                  MAC_VER,            0},</div>
<div class="line">        {<span class="stringliteral">&quot;Language&quot;</span>,                     LANG,               0},</div>
<div class="line">        {<span class="stringliteral">&quot;Exit&quot;</span>,                         EXIT,               0},</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4ba5919ad4670c8e825ad53aba144805df5">vfimac::EVENT_FOREGROUND</a>, event_callback );</div>
<div class="line">    <a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4bac8f0e13a5042856ad22cc0ba40ac5062">vfimac::EVENT_BACKGROUND</a>, event_callback );</div>
<div class="line">    <a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4baa4bcbb24c61f7b837ca19df0d94be56d">vfimac::EVENT_MANIFEST_UPDATE</a>, event_callback );</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( device_mac_cp_start_trigger, mac_cp_start_callback, NULL );</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( device_mac_cp_stop_trigger, mac_cp_stop_callback, NULL );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> returnCode = <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a>; </div>
<div class="line">    <span class="keywordtype">bool</span> loop = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordtype">int</span> s=0;</div>
<div class="line">    <span class="keywordtype">int</span> lastSystemNotificationId = 0;;</div>
<div class="line">    <span class="keywordtype">int</span> vkbm = <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa1897eb426573ca469062c0af6ffe0db2">vfimac::MAC_KBD_AUTO</a>; <span class="comment">//Virtual keyboard mode variable.</span></div>
<div class="line">    <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">    <span class="keywordflow">while</span>(loop) </div>
<div class="line">    {</div>
<div class="line">        s=<a class="code" href="namespacevfigui.html#a98d3ffe172afda1fbc4586f09af7606c">vfigui::uiMenu</a>(<span class="stringliteral">&quot;mainmenu&quot;</span>,APP_ID,menu,<span class="keyword">sizeof</span>(menu)/<span class="keyword">sizeof</span>(menu[0]),s&gt;=0?s:0);</div>
<div class="line">        need_to_change_focus = <span class="keyword">false</span>;</div>
<div class="line">        cp_app_to_change_focus = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        <span class="keywordflow">switch</span>(s) </div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> SYSTEM_NOTIFICATION_ADD:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#ac4a12edca6083bfb03386f390d67bc3d">vfimac::systemNotificationAdd</a>(<a class="code" href="namespacevfimac.html#af8d28bc2c3fa0398b42f840088f59a4bae45a50bf56795bda968dfc1694ad2871">vfimac::systemNotificationPriority::SYSTEM_NOTIFICATION_INFO</a>, <span class="stringliteral">&quot;demo1 system notification&quot;</span>);</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Notification ID: %d&quot;</span>,returnCode));</div>
<div class="line">                <span class="keywordflow">if</span>(returnCode &gt; 0)</div>
<div class="line">                {</div>
<div class="line">                    lastSystemNotificationId = returnCode;</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> SYSTEM_NOTIFICATION_LIST:</div>
<div class="line">            {</div>
<div class="line">                std::string s;</div>
<div class="line">                std::list&lt;int&gt; list;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a49a2afa866d86f54ab20603abcb7eb45">vfimac::systemNotificationList</a>(list);</div>
<div class="line">                <span class="keywordflow">for</span> (std::list&lt;int&gt;::iterator it = list.begin(); it != list.end(); ++it)</div>
<div class="line">                {</div>
<div class="line">                    s += std::to_string(*it);</div>
<div class="line">                    s += <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (s.size() &gt; 0)</div>
<div class="line">                {</div>
<div class="line">                    s.resize(s.size() - 1);</div>
<div class="line">                }</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;list: %s&quot;</span>, s.size() ? s.c_str() : <span class="stringliteral">&quot;(null)&quot;</span>));</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> SYSTEM_NOTIFICATION_REMOVE:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>(0 == lastSystemNotificationId)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;You should add notification at first&quot;</span>));</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a4aa74ec3d2bd8a53334045452b21820f">vfimac::systemNotificationRemove</a>(lastSystemNotificationId);</div>
<div class="line">                    <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;systemNotificationRemove(%d): %d&quot;</span>,</div>
<div class="line">                            lastSystemNotificationId,</div>
<div class="line">                            returnCode));</div>
<div class="line">                    <span class="keywordflow">if</span>(<a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> == returnCode)</div>
<div class="line">                    {</div>
<div class="line">                        lastSystemNotificationId = 0;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="group__vfigui.html#gga83f7c4e297519549c9a54137e2eab4fea2ee7809161321af15ef84d5655faeb38">vfigui::UI_ERR_CONNECTION_LOST</a>:</div>
<div class="line">            {</div>
<div class="line">                LOGF_TRACE(lh,<span class="stringliteral">&quot;lost connectivity with GUI[%d]&quot;</span>,s);</div>
<div class="line">                sleep(2);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> MAC_VER:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a>; </div>
<div class="line">                std::string version = <span class="stringliteral">&quot;MAC version: &quot;</span>; </div>
<div class="line">                version += <a class="code" href="namespacevfimac.html#a2e646f58a5f98e1b01ccae0a576ab8cf">vfimac::sysMac_GetVersion</a>();</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,version.c_str()); </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LIBMAC_VER:</div>
<div class="line">            {</div>
<div class="line">                std::string version = <span class="stringliteral">&quot;Libmac version: &quot;</span>; </div>
<div class="line">                version += <a class="code" href="namespacevfimac.html#a9145ab384964062fa95dd07ad6cc7480">vfimac::sysLibMac_GetVersion</a>();</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,version.c_str());</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> AUTOLAUNCH:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a5b63071e5232000be8cd04e2950b28b2">vfimac::sysRelaunchApps</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;    </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> FULLSCREEN_ON:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> on = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a56bd229ab93be9b2ee7ae2f95d10c166">vfimac::sysFullscreenMode</a>( on );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LAYOUT_LOCK:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> lock = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a1f0513c597f95e860f0d4e516d72b364">vfimac::sysLockLayout</a>( lock );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> LAYOUT_UNLOCK:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> lock = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a1f0513c597f95e860f0d4e516d72b364">vfimac::sysLockLayout</a>( !lock );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> APP_LIST:</div>
<div class="line">            {                                    </div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> appList;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a807e4d61017fe99f6f6c66a8bd37ad08">vfimac::sysGetAppList</a>( appList );</div>
<div class="line">                <span class="keywordflow">if</span> ( <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> != returnCode ) <span class="keywordflow">break</span>;</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>, appList.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>() );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> FULLSCREEN_OFF:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> on = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a56bd229ab93be9b2ee7ae2f95d10c166">vfimac::sysFullscreenMode</a>( !on );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_TEST:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#af5812cac4b8cd48873fcac4608f3082d">vfigui::uiInvokeURL</a>(<a class="code" href="namespacevfigui.html#a99fb83031ce9923c84392b4e92f956b5ab7c758bc6ba3fd0e57fbb46ee178b43f">vfigui::UI_REGION_DEFAULT</a>,<span class="stringliteral">&quot;vkb-mode-test.html&quot;</span>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_ON:</div>
<div class="line">            {</div>
<div class="line">                vkbm |= <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa55c180fc86b4f765cabde2dd43046205">vfimac::MAC_KBD_ON</a>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_OFF:</div>
<div class="line">            {</div>
<div class="line">                vkbm &amp;= ~<a class="code" href="namespacevfimac.html">vfimac</a><a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa55c180fc86b4f765cabde2dd43046205">::MAC_KBD_ON</a>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_NUMERIC:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">static</span> <span class="keywordtype">bool</span> state = <span class="keyword">true</span>;</div>
<div class="line">                std::string msg = <span class="stringliteral">&quot;Numeric = &quot;</span>;</div>
<div class="line">                msg += state ? <span class="stringliteral">&quot;True&quot;</span> : <span class="stringliteral">&quot;False&quot;</span>;</div>
<div class="line">                vkbm = state ? ( vkbm | <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa70f8a1ce4507a2faab7727edee56f25b">vfimac::MAC_KBD_NUMERIC</a> ) : ( vkbm &amp; ~<a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa70f8a1ce4507a2faab7727edee56f25b">vfimac::MAC_KBD_NUMERIC</a> );</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">                <span class="keywordflow">if</span>( returnCode != <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> ) msg += <span class="stringliteral">&quot;\nFail to set VKB mode!&quot;</span>;</div>
<div class="line">                state = !state;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,msg.c_str());</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_ALPHA:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">static</span> <span class="keywordtype">bool</span> state = <span class="keyword">true</span>;</div>
<div class="line">                std::string msg = <span class="stringliteral">&quot;Alpha = &quot;</span>;</div>
<div class="line">                msg += state ? <span class="stringliteral">&quot;True&quot;</span> : <span class="stringliteral">&quot;False&quot;</span>;</div>
<div class="line">                vkbm = state ? ( vkbm | <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5faacf7fd09da851474c48e57ae2b9246d5">vfimac::MAC_KBD_ALPHANUMERIC</a> ) : ( vkbm &amp; ~<a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5faacf7fd09da851474c48e57ae2b9246d5">vfimac::MAC_KBD_ALPHANUMERIC</a> );</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">                <span class="keywordflow">if</span>( returnCode != <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> ) msg += <span class="stringliteral">&quot;\nFail to set VKB mode!&quot;</span>;</div>
<div class="line">                state = !state;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,msg.c_str());</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> KEYBOARD_CAP:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">static</span> <span class="keywordtype">bool</span> state = <span class="keyword">true</span>;</div>
<div class="line">                std::string msg = <span class="stringliteral">&quot;Capitalized = &quot;</span>;</div>
<div class="line">                msg += state ? <span class="stringliteral">&quot;True&quot;</span> : <span class="stringliteral">&quot;False&quot;</span>;</div>
<div class="line">                vkbm = state ? ( vkbm | <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fad6499892dc5c2341c9a29774e4a5b8ae">vfimac::MAC_KBD_CAPITALIZED</a> ) : ( vkbm &amp; ~<a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fad6499892dc5c2341c9a29774e4a5b8ae">vfimac::MAC_KBD_CAPITALIZED</a> );</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( vkbm );</div>
<div class="line">                <span class="keywordflow">if</span>( returnCode != <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> ) msg += <span class="stringliteral">&quot;\nFail to set VKB mode!&quot;</span>;</div>
<div class="line">                state = !state;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,msg.c_str());</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STATUSBAR_ON: </div>
<div class="line">            { </div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> visible = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a9c942ac576c34a0e8dbd8cd69935a807">vfimac::sysStatusbar</a>( visible );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STATUSBAR_REFRESH:</div>
<div class="line">            { </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a6f771d3743e177bce7b7d79c26cf3036">vfimac::sysStatusbarRefresh</a>();</div>
<div class="line">                <span class="keywordflow">if</span> ( returnCode == <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> )</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Refresh: %d&quot;</span>,returnCode));      </div>
<div class="line">                } </div>
<div class="line">                <span class="keywordflow">break</span>;    </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STATUSBAR_OFF: </div>
<div class="line">            { </div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">bool</span> visible = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a9c942ac576c34a0e8dbd8cd69935a807">vfimac::sysStatusbar</a>( !visible );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> STATUSBAR_VALUES:</div>
<div class="line">            {</div>
<div class="line">                std::map&lt;std::string,std::string&gt; values; </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a443df02ff6897b4a9e6cb5973f5842b2">vfimac::sysGetStatusbarValues</a>( values );</div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj; </div>
<div class="line">                jsobj[0] = <span class="stringliteral">&quot;/home/usr1/www/mac_demo1/default/mail.png&quot;</span>;</div>
<div class="line">                jsobj[1] = <span class="stringliteral">&quot;/home/usr1/www/mac_demo1/default/glass.png&quot;</span>;</div>
<div class="line">                values[<span class="stringliteral">&quot;extra_icons&quot;</span>]=jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>();</div>
<div class="line">                values[<span class="stringliteral">&quot;demo_value&quot;</span>]=<span class="stringliteral">&quot;1&quot;</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a6c72ec8391307ac42e3c9d044eac36e2">vfimac::sysSetStatusbarValues</a>( values );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STATUSBAR_STATE:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> visible = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#ac3325831385c4e7755c3d96575db9496">vfimac::sysStatusbarState</a>( visible );</div>
<div class="line">                <span class="keywordflow">if</span> ( returnCode == <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> )</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Statusbar: %d&quot;</span>,visible));      </div>
<div class="line">                } </div>
<div class="line">                <span class="keywordflow">break</span>;    </div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> IS_RUNNING:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> running = <span class="keyword">false</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#aae05286692566c22ef2d18a69748c5fe">vfimac::sysIsRunning</a>( <span class="stringliteral">&quot;lcp&quot;</span>, running );</div>
<div class="line">                <span class="keywordflow">if</span> ( returnCode == <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> )</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Running: %d&quot;</span>,running));      </div>
<div class="line">                } </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LAUNCH_BACKGROUND:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string appname(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                std::vector&lt;std::string&gt; args;</div>
<div class="line">                args.push_back(<span class="stringliteral">&quot;test-arg1&quot;</span>);</div>
<div class="line">                args.push_back(<span class="stringliteral">&quot;test-arg2&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a>(appname,args,<a class="code" href="namespacevfimac.html#a3d1d0138ae66b9a9e03ae518de7ecf63a365b0d10413f98eb889815324f8baa8c">vfimac::KEEP_IN_BACKGROUND</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;  </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> GUI_REGION:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">int</span> region = 0;</div>
<div class="line">                <span class="keyword">const</span> std::string appid(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a5a32e6fc3ca601108ec200e0bebf10a1">vfimac::sysGetGUIRegionId</a>(appid,region);</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Region: %d&quot;</span>,region));      </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LAUNCH:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string appname(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                <span class="keyword">const</span> std::string value1(<span class="stringliteral">&quot;test1&quot;</span>);</div>
<div class="line">                <span class="keyword">const</span> std::string value2(<span class="stringliteral">&quot;test2&quot;</span>);</div>
<div class="line">                std::vector&lt;std::string&gt; args;</div>
<div class="line">                args.push_back(value1);</div>
<div class="line">                args.push_back(value2);</div>
<div class="line">                std::map&lt; std::string,std::string &gt; envs; </div>
<div class="line">                envs[<span class="stringliteral">&quot;env1&quot;</span>]=<span class="stringliteral">&quot;test1&quot;</span>;</div>
<div class="line">                envs[<span class="stringliteral">&quot;env2&quot;</span>]=<span class="stringliteral">&quot;test2&quot;</span>;</div>
<div class="line">                <span class="keywordtype">int</span> params = 0;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a>(appname,args,envs,params);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> IN_FOREGROUND:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> visible = <span class="keyword">false</span>; </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a438d8362980527e345759c52a2615071">vfimac::sysInForeground</a>( visible );</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Visible: %d&quot;</span>,visible));      </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }  </div>
<div class="line">            <span class="keywordflow">case</span> FOREGROUND:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string appid(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a424b735dc0296a43429f6dfeab802fa4">vfimac::sysToForeground</a>( appid );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_MANUAL_SYNC:</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">                <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_MANUAL_LAUNCH_SELECTED&quot;</span>);</div>
<div class="line">                need_to_change_focus = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#aff611b7f21a2748fdc138db0718a481b">vfimac::sysLaunchCPAppFromDesktopSync</a>( trigger, jsobj ); </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_MANUAL:</div>
<div class="line">            {</div>
<div class="line">                std::vector&lt;std::string&gt; args;</div>
<div class="line">                args.push_back( <span class="stringliteral">&quot;test1&quot;</span> );</div>
<div class="line">                args.push_back( <span class="stringliteral">&quot;test2&quot;</span> );</div>
<div class="line">                <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;</span>);</div>
<div class="line">                need_to_change_focus = <span class="keyword">true</span>;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a509d985b46d2fe8d772bd749888fd1ab">vfimac::sysLaunchCPAppFromDesktop</a>( trigger, args ); </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_IDLE_LOOP:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; LOOP_COUNTER; i++)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_TEST&quot;</span>);</div>
<div class="line">                    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;*&quot;</span>, trigger, jsobj, 0 );</div>
<div class="line">                }</div>
<div class="line">                cp_app_to_change_focus = <span class="stringliteral">&quot;cp_demo2&quot;</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;      </div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_IDLE:</div>
<div class="line">            {</div>
<div class="line">                cp_app_to_change_focus = <span class="stringliteral">&quot;cp_demo3&quot;</span>;</div>
<div class="line">                <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;</span>);</div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;*&quot;</span>, trigger, jsobj, 0 );</div>
<div class="line">                <span class="keywordflow">break</span>;      </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_LOOP:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; LOOP_COUNTER; i++)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">                    <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_TEST&quot;</span>);</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( 0 );</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;cp_demo1&quot;</span>, trigger, jsobj, 0 );</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>( 0 );</div>
<div class="line">                    returnCode = <a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;cp_demo2&quot;</span>, trigger, jsobj, 0 );</div>
<div class="line">                }</div>
<div class="line">                cp_app_to_change_focus = <span class="stringliteral">&quot;cp_demo2&quot;</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;      </div>
<div class="line">            }  </div>
<div class="line">            <span class="keywordflow">case</span> SET_CTX_VALUES:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string value1(<span class="stringliteral">&quot;test1&quot;</span>);</div>
<div class="line">                <span class="keyword">const</span> std::string value2(<span class="stringliteral">&quot;test2&quot;</span>); </div>
<div class="line">                <span class="keyword">const</span> std::string name1(<span class="stringliteral">&quot;name1&quot;</span>);</div>
<div class="line">                <span class="keyword">const</span> std::string name2(<span class="stringliteral">&quot;name2&quot;</span>); </div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> data;</div>
<div class="line">                data(name1)=value1;</div>
<div class="line">                data(name2)=value2;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a3cb1620e29b7920b2b53560c1cae71fe">vfimac::sysSetCPEnvData</a>( data );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> CP_INSTALL:</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// install CP application</span></div>
<div class="line">                <span class="keyword">const</span> std::string path(<span class="stringliteral">&quot;www/pkg-cp-demo-inst.zip&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a86f520239eb2af7b49b1bc31dfc20906">vfimac::sysInstallCPApp</a>( path );</div>
<div class="line">                <span class="keywordflow">break</span>;        </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STOP_OTHER_APPS:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#ad5c53e66bd56f6368628fbbeaa514622">vfimac::sysStopOtherApps</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;        </div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> STOP_USR_APPS:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a6b24cb5e42ba92f571a4f000e2ed0230">vfimac::sysStopAllUserApps</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;        </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> STOP_CP_APPS:</div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a9dea7108a3a1efc9a1cc087e18548c59">vfimac::sysStopAllCPApps</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;        </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> TRIGGER_TXN_START:</div>
<div class="line">            {</div>
<div class="line">                cp_app_to_change_focus = <span class="stringliteral">&quot;cp_demo3&quot;</span>;</div>
<div class="line">                <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">                <span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_TRANSACTION_STARTED&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;*&quot;</span>, trigger, jsobj, 0 );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> STOP_APPID:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string appid(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a57f7a1edb91c7479e4c2b2916a252822">vfimac::sysStopAppid</a>( appid );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }     </div>
<div class="line">            <span class="keywordflow">case</span> ACTION:</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> std::string appid(<span class="stringliteral">&quot;mac_demo2&quot;</span>);</div>
<div class="line">                <span class="keyword">const</span> std::string action_name(<span class="stringliteral">&quot;exit&quot;</span>);</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a45f53838cafde90263046e5844717399">vfimac::sysInvokeCPAppAction</a>( appid, action_name, 0, 0 ); </div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> MANIFEST: </div>
<div class="line">            {</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#aec38c483c58974ddb58d576d9f7ac2f0">vfimac::sysScanManifests</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> DESKTOP: </div>
<div class="line">            { </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a404d8e38300385724b2d2ed306df863e">vfimac::sysShowDesktop</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> POWER_PANEL:</div>
<div class="line">            { </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a085b2f637d5f82e4ee2812baf24eba46">vfimac::sysShowPowerControlPanel</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> CONTROL_PANEL: </div>
<div class="line">            { </div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a395a73335aa92641a3ac0967fc0bb200">vfimac::sysShowControlPanel</a>();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> SCREENSHOT:</div>
<div class="line">            {</div>
<div class="line">                sleep(5);</div>
<div class="line">                std::string path;</div>
<div class="line">                path += <span class="stringliteral">&quot;/tmp/&quot;</span>;</div>
<div class="line">                path += std::to_string( (<span class="keywordtype">int</span>)time(NULL) );</div>
<div class="line">                path += <span class="stringliteral">&quot;.png&quot;</span>;</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a1b6f8628a0f9ae48eafa86f55315ba7e">vfigui::uiScreenshotPNG</a>(path.c_str());</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> GET_CP_APP_ROOT_DIR:</div>
<div class="line">            {</div>
<div class="line">                std::string path;</div>
<div class="line">                returnCode = <a class="code" href="namespacevfimac.html#a0d95ca7aac6a37040b0e2135d9f134d1">vfimac::sysGetCPAppRootDir</a>( path );</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>( <span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;CP app root: [%s]&quot;</span>,path.c_str()) );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LANG:</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">char</span> *l = getenv(<span class="stringliteral">&quot;LANGUAGE&quot;</span>);</div>
<div class="line">                std::string lang(l?l:<span class="stringliteral">&quot;unknown&quot;</span>);</div>
<div class="line">                <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>( <span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Language: &#39;%s&#39;&quot;</span>,lang.c_str()) );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> EXIT: </div>
<div class="line">            {</div>
<div class="line">                loop=<span class="keyword">false</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">default</span>: </div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ( returnCode != <a class="code" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a> )</div>
<div class="line">        {</div>
<div class="line">            LOGF_ERROR(lh, <span class="stringliteral">&quot;error: %d&quot;</span>, <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a>);</div>
<div class="line">            <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a>(<span class="stringliteral">&quot;Error: %d&quot;</span>,returnCode));      </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        LOGF_TRACE(lh, <span class="stringliteral">&quot;status: %d&quot;</span>, <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a>);</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> returnCode;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> event_callback( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4b">vfimac::macEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp; json )</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE(lh,<span class="stringliteral">&quot;MAC event recieved[%d] json[%s]&quot;</span>,<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, json.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str() ); </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_cp_start_callback(</div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE(lh, <span class="stringliteral">&quot;start trigger from[%s] to[%s] id[%s] flags[%d] json[%s]&quot;</span>,</div>
<div class="line">            from.c_str(),</div>
<div class="line">            to.c_str(),</div>
<div class="line">            notification_id.c_str(),</div>
<div class="line">            flags,</div>
<div class="line">            jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( need_to_change_focus )</div>
<div class="line">    {</div>
<div class="line">        cp_app_to_change_focus = jsobj(<span class="stringliteral">&quot;AppId&quot;</span>).<a class="code" href="classvfiipc_1_1_j_s_object.html#a23bdc20544ca28878b1ffea144ac2730">getString</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_cp_stop_callback(</div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE(lh, <span class="stringliteral">&quot;stop trigger from[%s] to[%s] id[%s] flags[%d] json[%s]&quot;</span>,</div>
<div class="line">            from.c_str(),</div>
<div class="line">            to.c_str(),</div>
<div class="line">            notification_id.c_str(),</div>
<div class="line">            flags,</div>
<div class="line">            jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( cp_app_to_change_focus.size() )</div>
<div class="line">    {</div>
<div class="line">        LOGF_INFO(lh, <span class="stringliteral">&quot;We awaited for stop of [%s] cp app to set focus to [%s]&quot;</span>, cp_app_to_change_focus.c_str(), APP_MANIFEST_ID.c_str());</div>
<div class="line">        <span class="keywordflow">if</span> ( !jsobj(<span class="stringliteral">&quot;AppId&quot;</span>).getString().compare(cp_app_to_change_focus) )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> returnCode = <a class="code" href="namespacevfimac.html#a424b735dc0296a43429f6dfeab802fa4">vfimac::sysToForeground</a>(APP_MANIFEST_ID);</div>
<div class="line">            LOGF_INFO(lh, <span class="stringliteral">&quot;sysToForeground(%s): %d&quot;</span>, APP_MANIFEST_ID.c_str(), returnCode);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Notification interface usage example. mac_demo2 application source code: </p><div class="fragment"><div class="line"><span class="comment">// SDK</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;pwd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;grp.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ADK</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gui_8h.html">html/gui.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ipc_2src_2ipc_2jsobject_8h.html">ipc/jsobject.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="notify_8h.html">ipc/notify.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;log/liblog2.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacevfigui.html">vfigui</a>;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined _VOS1</span></div>
<div class="line"><span class="comment">// workaround for Trident compiler</span></div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespacestd.html">std</a></div>
<div class="line">{</div>
<div class="line">    std::string to_string(<span class="keywordtype">int</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> to_string((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::string to_string(<span class="keywordtype">size_t</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> to_string((<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// constants</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> SUCCEED = 0;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacevfisdi.html#a28287671eaf7406afd604bd055ba4066a936c4a5547a9360243178f726f6b2715">FAIL</a> = -1;</div>
<div class="line"><span class="keyword">const</span> std::string one_receiver(<span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string appid( <span class="stringliteral">&quot;MACDEMO2&quot;</span> );</div>
<div class="line"><span class="keyword">const</span> std::string device_control_request_trigger(<span class="stringliteral">&quot;_MacControlRequest&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string device_control_response_trigger(<span class="stringliteral">&quot;_MacControlResponse&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// functions</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> to_foreground( <span class="keyword">const</span> std::string &amp; appid );</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> launchDemo();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showPrevApp();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showDesktop();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> manifestScan();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showPowerPanel();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> to_foreground();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> in_foreground();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> show_prev();</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> write_data( <span class="keyword">const</span> std::string &amp; file, <span class="keyword">const</span> std::string &amp; data );</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> device_resp_callback( </div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags);    </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_response_callback( </div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span></div>
<div class="line">{   </div>
<div class="line">    EXIT = -2,</div>
<div class="line">    PKG_LIST = 0,</div>
<div class="line">    MANIFEST,</div>
<div class="line">    LAUNCH,</div>
<div class="line">    FOREGROUND,</div>
<div class="line">    DESKTOP,</div>
<div class="line">    POWER_PANEL,</div>
<div class="line">    PREV_APP,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code" href="namespacevfigui.html#structvfigui_1_1_u_i_menu_entry">UIMenuEntry</a> menu[]=</div>
<div class="line">{</div>
<div class="line">    {<span class="stringliteral">&quot;Get package list&quot;</span>,             PKG_LIST,               0},</div>
<div class="line">    {<span class="stringliteral">&quot;Launch app&quot;</span>,                   LAUNCH,                 0},</div>
<div class="line">    {<span class="stringliteral">&quot;To foreground&quot;</span>,                FOREGROUND,             0},</div>
<div class="line">    {<span class="stringliteral">&quot;Manifest scan&quot;</span>,                MANIFEST,               0},</div>
<div class="line">    {<span class="stringliteral">&quot;Show desktop&quot;</span>,                 DESKTOP,                0},</div>
<div class="line">    {<span class="stringliteral">&quot;Show power panel&quot;</span>,             POWER_PANEL,            0},</div>
<div class="line">    {<span class="stringliteral">&quot;Show prev app&quot;</span>,                PREV_APP,               0},</div>
<div class="line">    {<span class="stringliteral">&quot;Exit&quot;</span>,                         EXIT,                   0},</div>
<div class="line">};</div>
<div class="line">    </div>
<div class="line"><span class="keyword">static</span> LibLogHandle lh = LOGAPI_INIT(appid.c_str());</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, <span class="keywordtype">char</span> **envp)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = SUCCEED;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// will dump provided environment variables</span></div>
<div class="line">    std::string envs;</div>
<div class="line">    <span class="keywordflow">while</span>(*envp)</div>
<div class="line">    {</div>
<div class="line">        envs += *envp;</div>
<div class="line">        envs += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        envp ++;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    write_data(<span class="stringliteral">&quot;/tmp/mac_demo2_envs.txt&quot;</span>, envs);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// will dump provided argument variables</span></div>
<div class="line">    std::string args;</div>
<div class="line">    <span class="keywordflow">while</span>(*argv)</div>
<div class="line">    {</div>
<div class="line">        args += *argv;</div>
<div class="line">        args += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        argv ++;</div>
<div class="line">    } </div>
<div class="line"> </div>
<div class="line">    write_data(<span class="stringliteral">&quot;/tmp/mac_demo2_args.txt&quot;</span>, args);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a>( appid );</div>
<div class="line">    <a class="code" href="namespacevfigui.html#ac94648784fbac056c2d259dbfc3e50aa">vfigui::uiSetPropertyInt</a>(<a class="code" href="namespacevfigui.html#a0c064fcc5409b0845e11925a55f324bdaf9c20f0de4be24280c450e8e7872e8bd">UI_PROP_CIRCULAR_MENU</a>,1);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = <a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( </div>
<div class="line">            device_control_response_trigger, </div>
<div class="line">            device_resp_callback, </div>
<div class="line">            NULL );</div>
<div class="line">    <span class="keywordflow">if</span> ( SUCCEED != <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> )</div>
<div class="line">    {</div>
<div class="line">        LOGF_ERROR(lh, <span class="stringliteral">&quot;Can&#39;t register IPC trigger callback[%d]&quot;</span>,<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a>);</div>
<div class="line">    }  </div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = <a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( </div>
<div class="line">            device_control_response_trigger, </div>
<div class="line">            mac_response_callback, </div>
<div class="line">            NULL );</div>
<div class="line">    <span class="keywordflow">if</span> ( SUCCEED != <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> )</div>
<div class="line">    {</div>
<div class="line">        LOGF_ERROR(lh, <span class="stringliteral">&quot;Can&#39;t register IPC trigger callback[%d]&quot;</span>,<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a>);</div>
<div class="line">    }  </div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> loop = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordtype">int</span> s=0;</div>
<div class="line">    <span class="keywordflow">while</span>(loop) </div>
<div class="line">    {</div>
<div class="line">        s = <a class="code" href="namespacevfigui.html#a98d3ffe172afda1fbc4586f09af7606c">uiMenu</a>(<span class="stringliteral">&quot;mainmenu&quot;</span>,<span class="stringliteral">&quot;demo2&quot;</span>,menu,<span class="keyword">sizeof</span>(menu)/<span class="keyword">sizeof</span>(menu[0]),s&gt;=0?s:0);</div>
<div class="line">        <span class="keywordflow">switch</span>(s) </div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="group__vfigui.html#gga83f7c4e297519549c9a54137e2eab4fea2ee7809161321af15ef84d5655faeb38">vfigui::UI_ERR_CONNECTION_LOST</a>:</div>
<div class="line">            {</div>
<div class="line">                sleep(2);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> FOREGROUND:</div>
<div class="line">            {</div>
<div class="line">                to_foreground( <span class="stringliteral">&quot;demo1&quot;</span> );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> LAUNCH:</div>
<div class="line">            {</div>
<div class="line">                launchDemo();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> MANIFEST: </div>
<div class="line">            {</div>
<div class="line">                manifestScan();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">case</span> PREV_APP:</div>
<div class="line">            {</div>
<div class="line">                showPrevApp();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> POWER_PANEL:</div>
<div class="line">            {</div>
<div class="line">                showPowerPanel();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> DESKTOP:</div>
<div class="line">            {</div>
<div class="line">                showDesktop();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">default</span>: </div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">case</span> EXIT: </div>
<div class="line">            {</div>
<div class="line">                loop = <span class="keyword">false</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } </div>
<div class="line">        } </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> to_foreground( <span class="keyword">const</span> std::string &amp; appid )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string appid_field(<span class="stringliteral">&quot;appid&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;to_foreground&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    jsobj(appid_field)=appid;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> manifestScan()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;scan_manifests&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showPrevApp()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;show_prev_app&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showPowerPanel()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;show_power_panel&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> showDesktop()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;show_desktop&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> launchDemo()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string args_field(<span class="stringliteral">&quot;args&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;launch_appid&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string appid_field(<span class="stringliteral">&quot;appid&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string appid(<span class="stringliteral">&quot;demo1&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    jsobj(appid_field)=appid;</div>
<div class="line">    jsobj(args_field)[0]=<span class="stringliteral">&quot;boo&quot;</span>;</div>
<div class="line">    jsobj(args_field)[1]=<span class="stringliteral">&quot;foo&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> pkgList()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string mac_id(<span class="stringliteral">&quot;_mac&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd_field(<span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string cmd(<span class="stringliteral">&quot;get_pkg_list&quot;</span>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(cmd_field)=cmd;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(mac_id,device_control_request_trigger,jsobj);  </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> device_resp_callback( </div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE( lh, <span class="stringliteral">&quot;trigger from[%s] to[%s] id[%s] flags[%d] jsobj[%s]&quot;</span>, </div>
<div class="line">            from.c_str(), </div>
<div class="line">            to.c_str(), </div>
<div class="line">            notification_id.c_str(), </div>
<div class="line">            flags, </div>
<div class="line">            jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str() );</div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> dispBacklight()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;display_backlight&quot;</span>;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;value&quot;</span>)=<span class="stringliteral">&quot;100&quot;</span>;</div>
<div class="line">    <span class="keywordtype">int</span> r = <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver,device_control_request_trigger, jsobj, 0 );</div>
<div class="line">    <span class="keywordflow">if</span> (r==SUCCEED) </div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">uiPrint</a>(<span class="stringliteral">&quot;Backlight set:%d&lt;br&gt;&quot;</span>,r));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">uiConfirm</a>(<span class="stringliteral">&quot;confirm&quot;</span>,<a class="code" href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">uiPrint</a>(<span class="stringliteral">&quot;Error:%d&lt;br&gt;&quot;</span>,r)); </div>
<div class="line">    } </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mac_response_callback( </div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE(lh, <span class="stringliteral">&quot;demo trigger from[%s] to[%s] id[%s] flags[%d] json[%s]&quot;</span>,</div>
<div class="line">            from.c_str(), </div>
<div class="line">            to.c_str(), </div>
<div class="line">            notification_id.c_str(), </div>
<div class="line">            flags,</div>
<div class="line">            jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str());     </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> set_appid()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;to_foreground&quot;</span>;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;appid&quot;</span>)=<span class="stringliteral">&quot;demo2&quot;</span>;</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 ); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> to_foreground()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;to_foreground&quot;</span>;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;appid&quot;</span>)=<span class="stringliteral">&quot;demo2&quot;</span>;</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 ); </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> in_foreground()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;in_foreground&quot;</span>;</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 ); </div>
<div class="line">} </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> set_cp_env()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::string value1(<span class="stringliteral">&quot;test1&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string value2(<span class="stringliteral">&quot;test2&quot;</span>); </div>
<div class="line">    <span class="keyword">const</span> std::string name1(<span class="stringliteral">&quot;name1&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::string name2(<span class="stringliteral">&quot;name2&quot;</span>); </div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> data;</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line"> </div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;set_env_data&quot;</span>;</div>
<div class="line">    data(name1)=value1;</div>
<div class="line">    data(name2)=value2;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;data&quot;</span>)=data;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> show_prev()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;show_prev_app&quot;</span>;</div>
<div class="line">    <a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 );</div>
<div class="line">}  </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> write_data(<span class="keyword">const</span> std::string &amp; file, <span class="keyword">const</span> std::string &amp; data )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line">    FILE *fp=fopen(file.c_str(),<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(!fp) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    fprintf(fp,<span class="stringliteral">&quot;%s\n&quot;</span>,data.c_str());</div>
<div class="line">    <span class="keywordtype">int</span> r=ferror(fp);</div>
<div class="line">    fclose(fp);</div>
<div class="line">    <span class="keywordtype">int</span> fd = open(file.c_str(), O_RDWR);</div>
<div class="line">    LOGF_TRACE(lh, <span class="stringliteral">&quot;open [%s]: [%d]&quot;</span>, file.c_str(), fd );</div>
<div class="line">    <span class="keywordflow">if</span>(fd &gt;= 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>passwd *pwd = getpwnam(<span class="stringliteral">&quot;usr2&quot;</span>);</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#afd95b3d6f9333bb89f82ba0c38dccfd3">group</a>  *grp = getgrnam(<span class="stringliteral">&quot;share&quot;</span>);</div>
<div class="line">        LOGF_TRACE(lh, <span class="stringliteral">&quot;pwd: 0x%x grp: 0x%x&quot;</span>, pwd, grp );</div>
<div class="line">        <span class="keywordflow">if</span>(pwd &amp;&amp; grp)</div>
<div class="line">        {</div>
<div class="line">            ret = fchown(fd, pwd-&gt;pw_uid, grp-&gt;gr_gid);</div>
<div class="line">            LOGF_TRACE(lh, <span class="stringliteral">&quot;chown [%s]: [%d]&quot;</span>, file.c_str(), ret );</div>
<div class="line">        }</div>
<div class="line">        close(fd);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (r==0);</div>
<div class="line">}   </div>
<div class="line"> </div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_compile"></a>
Compiler and linker settings, dependencies to other components, environment setup</h1>
<p>To use MAC API, application needs to include API declaration from <a class="el" href="mac_8h.html">mac.h</a> header file, which is located in sysinfo folder.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="mac_8h.html">sysinfo/mac.h</a>&gt;</span></div>
</div><!-- fragment --><p>Application also needs to link against libvfimac library. This is done by adding "-lvfimac" to your linking list. If your application needs to interact with MAC using notification interface, link it against IPC library by adding "-lvfiipc". Example: </p><div class="fragment"><div class="line">g++ -L/adk/lib/ -Wall -o demo.out demo.cpp -lvfiipc -lvfimac</div>
</div><!-- fragment --><p>MAC depends on certain ADK components:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Component </th><th class="markdownTableHeadNone">Purpose  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK-GUI </td><td class="markdownTableBodyNone">GUI rendering, CP application execution  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADK-LOG </td><td class="markdownTableBodyNone">Logging mechanism  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK-COM </td><td class="markdownTableBodyNone">Communication interface status on statusbar  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADK-IPC </td><td class="markdownTableBodyNone">Notification interface  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK-PM </td><td class="markdownTableBodyNone">Power management status notifications  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADK-SYS </td><td class="markdownTableBodyNone">Generic information about system  </td></tr>
</table>
<h1><a class="anchor" id="sec_mac_troubleshooting"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="subsec_mac_FAQ"></a>
FAQ</h2>
<p>Q: Do application needs to link against libvfimac?</p>
<p>A: For regular use, it is enough to provide <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manfiest</a> file. Application doesn't need to link against library, if it doesn't use any of its functionality.</p>
<p>Q: Why application doesn't appear on desktop?</p>
<p>A: Please check applications <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest</a> file permissions. Manifest file should be included in share group. Manifest file should include "desktop" section, otherwise it will not appear on MAC desktop.</p>
<p>Q: Application GUI blinks on screen for a second, after that MAC desktop appears on top of it.</p>
<p>A: Please check that there is no start file in your application control folder (e.g. CONTROL/start). Start file makes your application to be started by SI. This will result in conflict with ADK environment. Application should be started by MAC based on provided manifest file. Other option is to invoke <a class="el" href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a> to register application inside MAC.</p>
<p>Q: How to restart applications, without rebooting device?</p>
<p>A: Use <a class="el" href="namespacevfimac.html#a5b63071e5232000be8cd04e2950b28b2">vfimac::sysRelaunchApps</a> API to restart applications.</p>
<p>Q: How to hide my application from MAC desktop?</p>
<p>A:</p><ol type="1">
<li>Remove desktop section from application manifest file.</li>
<li>Set hide field in manifest desktop section to true.</li>
<li>Hide certain applications by setting hide_appids field in MAC configuration file.</li>
</ol>
<h2><a class="anchor" id="subsec_mac_logging"></a>
Logging</h2>
<p>MAC is using ADK-LOG component for logging. Please refer to the ADK-LOG documentation for details. Used logging channels:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Logging channel </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_concepts">MAC daemon logs</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MACCL </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html">MAC library logs</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MCP </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">MAC control panel logs</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CPR </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_cpr">Commerce Platform Runtime logs</a>  </td></tr>
</table>
<h2><a class="anchor" id="Debugging"></a>
Debugging</h2>
<h1><a class="anchor" id="sec_mac_glossary"></a>
Appendix: Glossary</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Term </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK </td><td class="markdownTableBodyNone">Application Development Kit  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MAC </td><td class="markdownTableBodyNone">Multi Application Controller  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MCP </td><td class="markdownTableBodyNone">MAC Control Panel  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API </td><td class="markdownTableBodyNone">Application Program Interface  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GUI </td><td class="markdownTableBodyNone">Graphical User Interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPC </td><td class="markdownTableBodyNone">Inter Process Communication  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPA </td><td class="markdownTableBodyNone">Commerce Platform Application. Written in JS and HTML. Runs in CPR.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CPR </td><td class="markdownTableBodyNone">Commerce Platform Runtime. ADK runtime for CPA.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPL </td><td class="markdownTableBodyNone">Commerce Platform Library  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GDB </td><td class="markdownTableBodyNone">GNU Debugger  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">UI </td><td class="markdownTableBodyNone">User Interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OS </td><td class="markdownTableBodyNone">Operating System  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CP </td><td class="markdownTableBodyNone">Commerce Platform  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HTML </td><td class="markdownTableBodyNone">Hypertext Markup Language  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">JS </td><td class="markdownTableBodyNone">Java Script  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SI </td><td class="markdownTableBodyNone">Secure Installer - used for installing/starting programms on VOS  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ARRS </td><td class="markdownTableBodyNone">Android Remote Rendering Service - Application on android side, which renders GUI from VOS.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADE </td><td class="markdownTableBodyNone">Verifone Encryption Scheme  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">JSON </td><td class="markdownTableBodyNone">JavaScript object notation  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">INI </td><td class="markdownTableBodyNone">Configuration file format  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HW </td><td class="markdownTableBodyNone">Hardware  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Sysmode </td><td class="markdownTableBodyNone">VOS system application  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Native application </td><td class="markdownTableBodyNone">Application written in C++/C. Usually payment application.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BT </td><td class="markdownTableBodyNone">Bluetooth  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VOS </td><td class="markdownTableBodyNone">Verifone's OS. Terminal examples: Ux300, Ux301 and Mx915  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VOS2 </td><td class="markdownTableBodyNone">Verifone's OS 2. Terminal examples: P400, V240M and E285  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VOS3 </td><td class="markdownTableBodyNone">Verifone's OS 3. Terminal examples: P630, Ux302 and M450  </td></tr>
</table>
<h1><a class="anchor" id="sec_mac_desktop"></a>
Appendix: Desktop</h1>
<div class="image">
<img src="mac_desktop.png" alt=""/>
<div class="caption">
MAC desktop</div></div>
<p>MAC acts as ADK launcher.<br  />
It provides desktop, which can be used by user to start applications by pressing on chosen icon.<br  />
If application wants to appear on desktop, it should include desktop section in its <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>.<br  />
If application needs to have custom icon, it needs to be set in desktop section icon field.<br  />
If icon is not set, default one will be used.<br  />
Button text is defined in desktop section "label" field.<br  />
It is possible to hide certain applications from desktop by using hide_appids field in <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">MAC configuration file</a>.<br  />
MAC desktop design, can be modified using <a class="el" href="pg_mac_users_guide.html#sec_mac_res">custom resources</a>.<br  />
Application can request MAC to show desktop using <a class="el" href="namespacevfimac.html#a404d8e38300385724b2d2ed306df863e">vfimac::sysShowDesktop</a>.<br  />
User can also request MAC to show desktop by using <a class="el" href="pg_mac_users_guide.html#sec_mac_hotkeys">hotkeys</a>.<br  />
On units with hardware keyboard, it is possible to use keyboard for navigation.<br  />
Supported keystrokes:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key </th><th class="markdownTableHeadNone">Action  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">* </td><td class="markdownTableBodyNone">Move cursor to next icon  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"># </td><td class="markdownTableBodyNone">Move cursor to previous icon  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Move cursor up  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">Move cursor down  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Move cursor left  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">Move cursor right  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">O </td><td class="markdownTableBodyNone">Green key is used to launch selected application  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">x </td><td class="markdownTableBodyNone">Red key will bring back last visible application  </td></tr>
</table>
<div class="image">
<img src="default-icon.png" alt=""/>
<div class="caption">
Default desktop icon</div></div>
<p>MAC desktop can be password protected. To enable this functionality password field should be added to MAC <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration file</a>. Field stores MD5 hash of chosen password. For example MD5 hash for 166831 password equals to 87ac3c343f7ef687de1492be87ab1b2f. Configuration file example: </p><div class="fragment"><div class="line">[desktop]</div>
<div class="line">password=87ac3c343f7ef687de1492be87ab1b2f</div>
</div><!-- fragment --><p>md5sum command line tool can be used to generate password hash. Example: </p><div class="fragment"><div class="line">:~# echo 166831 | md5sum | cut -d<span class="charliteral">&#39; &#39;</span> -f 1</div>
<div class="line">87ac3c343f7ef687de1492be87ab1b2f</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Minimal password length is 6 characters. </dd>
<dd>
Maximal password lenght is 10 characters. </dd>
<dd>
Only numeric characters are allowed.</dd></dl>
<div class="image">
<img src="password.png" alt=""/>
<div class="caption">
Password input screen</div></div>
<p>Password screen can be customized using <a class="el" href="pg_mac_users_guide.html#sec_mac_res">MAC custom resources</a>.<br  />
<br  />
</p><dl class="section note"><dt>Note</dt><dd>VOS3 terminals use different MAC desktop protection method. Please refer to "VOS3 - UG - MAC Password protection user guide".</dd></dl>
<h1><a class="anchor" id="sec_mac_statusbar"></a>
Appendix: Statusbar</h1>
<div class="image">
<img src="statusbar.png" alt=""/>
<div class="caption">
MAC statusbar</div></div>
<p>MAC provides global statusbar, which indicates active communication interfaces, as well battery charge level, time and ADE status. Application can show/hide statusbar using <a class="el" href="namespacevfimac.html#a9c942ac576c34a0e8dbd8cd69935a807">vfimac::sysStatusbar</a> API. Statusbar visibility configuration is stored independently for every application. Application can request to force refresh statusbar using <a class="el" href="namespacevfimac.html#a6f771d3743e177bce7b7d79c26cf3036">vfimac::sysStatusbarRefresh</a> API. There is a way to add extra icons to statusbar. This can be done, by installing <a class="el" href="pg_mac_users_guide.html#sec_mac_res">custom MAC resources</a>. Custom icon visibility can be changes using <a class="el" href="namespacevfimac.html#a6c72ec8391307ac42e3c9d044eac36e2">vfimac::sysSetStatusbarValues</a> API. Application can set initial statusbar visibility state using <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>. MAC statusbar functionality can be enabled/disabled using MAC <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration file</a>.</p>
<p>Standard statusbar icons:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Icon </th><th class="markdownTableHeadNone"><div class="image">
<img src="ethernet_active.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="bluetooth_active.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="bluetooth_beaconing.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="bluetooth_connected.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="bluetooth_dial_up.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="bluetooth_ethernet.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="modem_connected.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="shield.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="wifi_3.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="gprs_0.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="gprs_5.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="battery_half.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="battery_low.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="battery_fault.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="battery_charging.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="usb_active.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="serial_active.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="sim.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="warn.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="car.png" alt=""/>
</div>
      </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Description </td><td class="markdownTableBodyNone">Ethernet active </td><td class="markdownTableBodyNone">BT active </td><td class="markdownTableBodyNone">BT beaconing </td><td class="markdownTableBodyNone">BT connected </td><td class="markdownTableBodyNone">BT dial-up </td><td class="markdownTableBodyNone">BT ethernet </td><td class="markdownTableBodyNone">Modem active </td><td class="markdownTableBodyNone">ADE active </td><td class="markdownTableBodyNone">WiFi signal level </td><td class="markdownTableBodyNone">No GSM signal </td><td class="markdownTableBodyNone">GSM signal level </td><td class="markdownTableBodyNone">Battery normal </td><td class="markdownTableBodyNone">Battery low </td><td class="markdownTableBodyNone">Battery fault </td><td class="markdownTableBodyNone">Unit is line powered </td><td class="markdownTableBodyNone">USB active </td><td class="markdownTableBodyNone">Serial port active </td><td class="markdownTableBodyNone">SIM </td><td class="markdownTableBodyNone">PCI reboot warning </td><td class="markdownTableBodyNone">Car charger  </td></tr>
</table>
<p>Continuation. Statusbar system notification icons: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Icon </th><th class="markdownTableHeadNone"><div class="image">
<img src="information.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="warning.png" alt=""/>
</div>
     </th><th class="markdownTableHeadNone"><div class="image">
<img src="error.png" alt=""/>
</div>
      </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Description </td><td class="markdownTableBodyNone">Info </td><td class="markdownTableBodyNone">Warning </td><td class="markdownTableBodyNone">Critical  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Battery icon will not appear on line powered devices.</dd></dl>
<p>On touch screen devices, statusbar behaves as button. It supports both short and long press. This functionality is configurable using <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration file</a>. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Action </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Short press </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Show MAC desktop</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Long press </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">Start MCP</a>  </td></tr>
</table>
<p>Statusbar provides certain values to visualize system state. These values can be used, if user replaces statusbar.html with custom one.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">type </th><th class="markdownTableHeadNone">value </th><th class="markdownTableHeadNone">description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_mob_sim_slot </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">1-2 </td><td class="markdownTableBodyNone">Active SIM slot  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_mob_netw_signal_level </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-5 </td><td class="markdownTableBodyNone">GSM signal level  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_mob_netw_signal_percentage </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-100 </td><td class="markdownTableBodyNone">GSM signal percentage  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_mob_netw_signal_rssi </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">nn </td><td class="markdownTableBodyNone">GSM signal RSSI  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_mob_netw_name </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">Name </td><td class="markdownTableBodyNone">Mobile network home operator name  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_mob_netw_provider </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">Name </td><td class="markdownTableBodyNone">Mobile network provider  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_mob_netw_type </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">2G,3G,4G </td><td class="markdownTableBodyNone">GSM network type  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_wifi_signal_level </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-4 </td><td class="markdownTableBodyNone">WiFi network signal level  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_wifi_signal_percentage </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-100 </td><td class="markdownTableBodyNone">WiFi network signal percentage  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_eth_state </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">Ethernet state  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_modem_state </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">Modem state  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_bt_state </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">BT state  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_bt_eth </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">BT Ethernet state  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_bt_modem </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">BT modem state  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_ade_state </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">ADE state  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_reboot_warn </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">PCI reboot warning  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_car_charger </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">Car charger mode active  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_battery_level </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-100 </td><td class="markdownTableBodyNone">Battery level  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_battery_percentage </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-100 </td><td class="markdownTableBodyNone">Battery percentage, -1 if battery not available or percentage could not be determined  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_battery_percentage_2 </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">0%-100% </td><td class="markdownTableBodyNone">Battery percentage #2  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_docking_status </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">Docking state  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">HH:MM </td><td class="markdownTableBodyNone">Current time  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_time_year </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">yyyy </td><td class="markdownTableBodyNone">Year  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time_month </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"01"-"12" </td><td class="markdownTableBodyNone">Month  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_time_day </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"01"-"31" </td><td class="markdownTableBodyNone">Day  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time_hour </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"00"-"23" </td><td class="markdownTableBodyNone">Hour  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_time_hour_monadic </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"0"-"23" </td><td class="markdownTableBodyNone">Monadic hour  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time_12h </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"01"-"12" </td><td class="markdownTableBodyNone">Hour in AM/PM designation  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_time_12h_monadic </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"1"-"12" </td><td class="markdownTableBodyNone">Monadic hour in AM/PM designation  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time_am_pm </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"AM" or "PM" </td><td class="markdownTableBodyNone">AM/PM designation  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_time_min </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"00"-"59" </td><td class="markdownTableBodyNone">Minute  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sys_time_sec </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"00"-"59" </td><td class="markdownTableBodyNone">Second  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sys_button </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">0-1 </td><td class="markdownTableBodyNone">Statusbar button enabled/disabled  </td></tr>
</table>
<p>Statusbar HTML example: </p><div class="fragment"><div class="line">&lt;html&gt;</div>
<div class="line">&lt;body&gt;</div>
<div class="line">&lt;input type=&#39;timeout&#39; style=&#39;display:none&#39; value=&#39;-1&#39;&gt;</div>
<div class="line">&lt;?ifeq sys_button 1 (button nofocus style=&#39;width:100%;height:100%;border-width:0px;&#39; action=&#39;return 0?cmd=show_desktop&#39; action2=&#39;return 0?cmd=show_control_panel&#39;) ?&gt;</div>
<div class="line">&lt;div style=&#39;overflow:hidden;height:100%;width:100%&#39;&gt;</div>
<div class="line">&lt;table cellspacing=&#39;2&#39; cellpadding=&#39;0&#39; border=&#39;0&#39; </div>
<div class="line">    style=&#39;margin:0px;background-color:black; color:white; height:100%; width:100%&#39;&gt;</div>
<div class="line">    &lt;tr&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12; text-align:left; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_sim_slot 1           (img src=&#39;../images/sb/sim1.png&#39;)?&gt; </div>
<div class="line">        &lt;?ifeq sys_mob_sim_slot 2           (img src=&#39;../images/sb/sim2.png&#39;)?&gt; </div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12; text-align:left; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;b&gt;&lt;?var sys_mob_netw_type?&gt;&lt;/b&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:100%; font-size:12; text-align:left; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 0  (img src=&#39;../images/sb/gprs_0.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 1  (img src=&#39;../images/sb/gprs_1.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 2  (img src=&#39;../images/sb/gprs_2.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 3  (img src=&#39;../images/sb/gprs_3.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 4  (img src=&#39;../images/sb/gprs_4.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_mob_netw_signal_level 5  (img src=&#39;../images/sb/gprs_5.png&#39;)?&gt;</div>
<div class="line">        &lt;b&gt;&lt;?var sys_mob_netw_provider?&gt;&lt;b&gt;</div>
<div class="line">        &lt;?ifin sys_wifi_signal_percentage  1 24  (img src=&#39;../images/sb/wifi_1.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifin sys_wifi_signal_percentage 25 49  (img src=&#39;../images/sb/wifi_2.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifin sys_wifi_signal_percentage 50 74  (img src=&#39;../images/sb/wifi_3.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifin sys_wifi_signal_percentage 75 100 (img src=&#39;../images/sb/wifi_4.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_eth_state 1     (img src=&#39;../images/sb/ethernet_active.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_modem_state 1   (img src=&#39;../images/sb/modem_connected.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_bt_state 1      (img src=&#39;../images/sb/bluetooth_active.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_bt_state 2      (img src=&#39;../images/sb/bluetooth_beaconing.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_bt_state 3      (img src=&#39;../images/sb/bluetooth_connected.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_bt_eth 1        (img src=&#39;../images/sb/bluetooth_ethernet.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_bt_modem 1      (img src=&#39;../images/sb/bluetooth_dial_up.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_usb_eth_state 1 (img src=&#39;../images/sb/usb_active.png&#39;)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq sys_ade_state 1     (img src=&#39;../images/sb/shield.png&#39;)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq sys_reboot_warn  1  (img src=&#39;../images/sb/warn.png&#39;)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq notification_level 1  (img src=&#39;../images/sb/information.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq notification_level 2  (img src=&#39;../images/sb/warning.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq notification_level 3  (img src=&#39;../images/sb/error.png&#39;)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_charge_mode 2 (img src=&#39;../images/sb/car.png&#39;)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?foreach extra_icons || (img src=&#39;[]&#39; style=&#39;width:10px&#39;)(td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;) | ?&gt;  </div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifin sys_battery_percentage_2 0 100 (b)(?var sys_battery_percentage_2 ?)(/b) ?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:0px;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;?ifin sys_battery_level 100 111 (img src=&#39;../images/sb/battery_charging.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 0   (img src=&#39;../images/sb/battery_low.gif&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 1   (img src=&#39;../images/sb/battery_low.gif&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 2   (img src=&#39;../images/sb/battery_10.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 3   (img src=&#39;../images/sb/battery_20.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 4   (img src=&#39;../images/sb/battery_30.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 5   (img src=&#39;../images/sb/battery_40.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 6   (img src=&#39;../images/sb/battery_50.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 7   (img src=&#39;../images/sb/battery_60.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 8   (img src=&#39;../images/sb/battery_70.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 9   (img src=&#39;../images/sb/battery_80.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 10  (img src=&#39;../images/sb/battery_90.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level 11  (img src=&#39;../images/sb/battery_100.png&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level -2  (img src=&#39;../images/sb/battery_fault.gif&#39;)?&gt;</div>
<div class="line">        &lt;?ifeq sys_battery_level -1  (div style=&#39;width:0px&#39;)(/div)?&gt;</div>
<div class="line">    &lt;td style=&#39;height:100%;width:100%;font-size:12px; text-align:right; vertical-align:center&#39;&gt;</div>
<div class="line">        &lt;b&gt;&lt;?var sys_time?&gt;&lt;/b&gt;</div>
<div class="line">&lt;/table&gt;</div>
<div class="line">&lt;/div&gt;</div>
<div class="line">&lt;?ifeq sys_button 1 (/button) ?&gt;</div>
<div class="line">&lt;/body&gt;</div>
<div class="line">&lt;/html&gt;</div>
</div><!-- fragment --><p>Application can add custom icons to MAC statusbar. To use this functionality application needs to generate JSON encoded array with paths to icons and pass it in "extra_icons" field using <a class="el" href="namespacevfimac.html#a6c72ec8391307ac42e3c9d044eac36e2">vfimac::sysSetStatusbarValues</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Only absolute path to icon is supported.</dd></dl>
<p>Usage example: </p><div class="fragment"><div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj; </div>
<div class="line">jsobj[0] = <span class="stringliteral">&quot;/home/usr4/www/mac_demo1/default/mail.png&quot;</span>;</div>
<div class="line">jsobj[1] = <span class="stringliteral">&quot;/home/usr4/www/mac_demo1/default/glass.png&quot;</span>;</div>
<div class="line">std::map&lt;std::string,std::string&gt; values; </div>
<div class="line">values[<span class="stringliteral">&quot;extra_icons&quot;</span>]=jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>();</div>
<div class="line">returnCode = <a class="code" href="namespacevfimac.html#a6c72ec8391307ac42e3c9d044eac36e2">vfimac::sysSetStatusbarValues</a>( values ); </div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_hotkeys"></a>
Appendix: Hotkeys</h1>
<p>MAC supports certain hotkey combinations. Hotkeys can be enabled or disabled using <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration</a> file.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key combination </th><th class="markdownTableHeadNone">Action  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X + 1 </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_mcp">Start MCP</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X + 3 </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Show MAC desktop</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 + 5 + 9 </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Show MAC desktop</a>  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>On some units (e.g. e280, CM5, Ux115, etc) MAC can be shown by pressing sysmode button, instead of 1+5+9.</dd>
<dd>
If MAC desktop is already visible, pressing 1+5+9 will start Sysmode (on VOS3 platform all user applications will be stopped).</dd>
<dd>
Ux (trident) units only support sysmode button due to ADK-GUI limitations.</dd></dl>
<p>On UX700 device there are two extra hotkeys: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Button </th><th class="markdownTableHeadNone">Action  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">service button #1 </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Show MAC desktop</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">service button #2 </td><td class="markdownTableBodyNone"><a class="el" href="pg_mac_users_guide.html#sec_mac_servicebtn">Send a service button broadcast</a>  </td></tr>
</table>
<p>These buttons can be found on the back of the device: </p><div class="image">
<img src="ux700_buttons.png" alt=""/>
<div class="caption">
Buttons on the back of UX700 device</div></div>
<p>On UX302 device there is only one service button which can be configured. By default, this button shows MAC desktop or shows MCP, and also sends a broadcast. If you want to override this, you can configure it using <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration</a> file (sysmode_button and broadcast_button).</p>
<h1><a class="anchor" id="sec_mac_servicebtn"></a>
Appendix: Service button broadcast</h1>
<p>On UX700 and UX302 it is possible to use service button for app specific purposes - if service button gets pressed or released, MAC sends out a broadcast notification using ADK-IPC. Using this broadcast it is possible to override terminal's physical button for your own purpose - increase display brightness, enter some kind of app menu, etc. As broadcast is sent on press and release of the button, it is possible to do time specific things in your app also.</p>
<p>Broadcast will be sent with notification id: "SERVICE_BUTTON" which can be listened for.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> cb( <span class="keywordtype">void</span> *data,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">    <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">    <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Process button press here (button was pressed)</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// init ADK-IPC</span></div>
<div class="line"><a class="code" href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a>( <span class="stringliteral">&quot;demo&quot;</span> );</div>
<div class="line"><span class="comment">// register broadcast callback</span></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = <a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( <span class="stringliteral">&quot;SERVICE_BUTTON&quot;</span> , cb, NULL );</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_cfg"></a>
Appendix: Configuration file</h1>
<p>MAC can be configured using mac.ini configuration file Configuration file is optional and can be used to override default settings. It is possible to have multiple configuration files in single delivery. This allows to have different behavior on different terminal models in same deliverable. Different configuration file locations have different priorities. Possible configuration file locations:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Path (VOS/VOS2) </th><th class="markdownTableHeadNone">Priority </th><th class="markdownTableHeadNone">Details  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/P400/mac.ini </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Will apply only to P400 model  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/240x320C15T/mac.ini </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Will apply to all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/default/mac.ini </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">Will apply to all terminal models  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/mac/mac.ini </td><td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Will apply to all terminal models  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Path (VOS3 only) </th><th class="markdownTableHeadNone">Priority </th><th class="markdownTableHeadNone">Details  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/P630/mac.ini </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Will apply only to P630 model  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/P630/mac.ini </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Will apply only to P630 model  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/320x480C15T/mac.ini </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">Will apply to all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/320x480C15T/mac.ini </td><td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Will apply to all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/default/mac.ini </td><td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">Will apply to all terminal models  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/default/mac.ini </td><td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">Will apply to all terminal models  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/etc/config/mac/mac.ini </td><td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">Will apply to all terminal models  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Configuration file should be installed using "config" type package. See VOS documentation for more details.</dd>
<dd>
Terminal model display and keyboard parameters are described in ADK-GUI documentation.</dd>
<dd>
P400/P630 can be replaced with different model name.</dd>
<dd>
240x320C15T/320x480C15T can be replaced with different display and keyboard combination.</dd>
<dd>
Sample configuration package is available in mac example folder.</dd></dl>
<p>MAC configuration file is ini file with following structure:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Section </th><th class="markdownTableHeadNone">Field </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Default </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">statusbar </td><td class="markdownTableBodyNone">enable </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable/disable MAC statusbar  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">statusbar </td><td class="markdownTableBodyNone">button </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Statusbar operates as a button  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">statusbar </td><td class="markdownTableBodyNone">com </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable communication icons on statusbar  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">statusbar </td><td class="markdownTableBodyNone">refresh_time </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">60 </td><td class="markdownTableBodyNone">Statusbar refresh time in seconds  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">enable </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Globally enables/disabled virtual keyboard  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">auto </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Enables/disables automatic virtual keyboard mode  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">sound </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Enables/disables virtual keyboard sounds on keystrokes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">alphanumeric </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enables/disables automatic mode for alphanumeric input  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">numeric </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enables/disables automatic mode for numeric input  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vkeyboard </td><td class="markdownTableBodyNone">capitalized </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Alphanumeric keyboard with capital letters will be used by default  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">hide_appids </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">List of application identifiers that should be hidden from MAC desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">password </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Password hash (MD5 hash function)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hotkeys </td><td class="markdownTableBodyNone">enable </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable MAC hotkeys  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hotkeys </td><td class="markdownTableBodyNone">sysmode_button </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable sysmode button (open MAC desktop, launch sysmode if already on MAC desktop)&lowast;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hotkeys </td><td class="markdownTableBodyNone">sysmode_button_mod </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Allow sysmode launch by sysmode button &lowast;&lowast;  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hotkeys </td><td class="markdownTableBodyNone">broadcast_button </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable broadcast button (VOS3 only)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">power_management </td><td class="markdownTableBodyNone">battery_status_control </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enables battery status check (OK/NOK) during startup. Will show warning if battery is faulty  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">power_management </td><td class="markdownTableBodyNone">battery_level_control </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Enables battery level check during startup. Will not start applications if battery level below threshold  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">power_management </td><td class="markdownTableBodyNone">battery_level_threshold_mV </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">3600 </td><td class="markdownTableBodyNone">Battery level threshold in mV. 3600 equals to 3.6V  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">power_management </td><td class="markdownTableBodyNone">notifications </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Show power manager notifications on screen  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">display </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">":0" </td><td class="markdownTableBodyNone">GUI_DISPLAY environment which will be used by MAC and will be passed to launched applications. Refer to GUI documentation for more details  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">window_management </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable/disable MAC window management. If disabled MAC will start only service applications and will not interact with GUI regions  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">keep_alive_interval </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Interval time in seconds between sending keepalive probes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">keep_alive_count </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">Number of keepalive probes to send before dropping the link  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">splash_screen </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable/disable MAC splash screen  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gui </td><td class="markdownTableBodyNone">language </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">/home/sys13/www/mac/default/en-US.ctlg </td><td class="markdownTableBodyNone">Used language catalog file  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cpr </td><td class="markdownTableBodyNone">enable </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable/disable CPR. By default is disabled on VOS1 units to save memory  </td></tr>
</table>
<p>&lowast; Sysmode launch by sysmode button has higher priority than MAC desktop password protection. Thus, double sysmode_button press with default sysmode button configuration will skip password prompt and launches Sysmode.</p>
<p>&lowast;&lowast; "sysmode_button" and "sysmode_button_mod" actions' matrix </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">sysmode_button </th><th class="markdownTableHeadNone">sysmode_button_mod </th><th class="markdownTableHeadNone">Action on sysmode button (or 1+5+9 keys) press  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Open MAC desktop, launch sysmode if on MAC desktop already  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Launch sysmode  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Open MAC desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Do nothing  </td></tr>
</table>
<p>There are two options to launch Sysmode besides Sysmode button:</p><ul>
<li>Go to "MAC desktop" -&gt; "Control Panel" -&gt; "Sysmode"</li>
<li>Press 1+5+9 keys combo (or physical Sysmode button) before MAC loaded completely (during MAC initialization progress screen displaying): <div class="image">
<img src="mac_init.png" alt=""/>
<div class="caption">
MAC initialization progress screen</div></div>
</li>
</ul>
<p>For VOS3 platform, "sysmode_button_mod" will allow (default value) or don't allow stopping of user apps. Popup message box "User applications have been stopped!" will not popup for </p><div class="fragment"><div class="line">[hotkeys]</div>
<div class="line">sysmode_button=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
<div class="line">sysmode_button_mod=1</div>
</div><!-- fragment --><p> configuration if MAC desktop is in background (Control Panel is in foreground for example).</p>
<dl class="section note"><dt>Note</dt><dd>MAC is using "y" or "n" for boolean values.</dd></dl>
<p>Configuration file example: </p><div class="fragment"><div class="line">[statusbar]</div>
<div class="line">enable=y</div>
<div class="line">button=y</div>
<div class="line">com=y</div>
<div class="line"> </div>
<div class="line">[desktop]</div>
<div class="line">hide_appids=ccp;mcp; </div>
<div class="line"> </div>
<div class="line">[hotkeys]</div>
<div class="line">enable=y</div>
<div class="line">sysmode_button=y</div>
<div class="line"> </div>
<div class="line">[power_management]</div>
<div class="line">battery_level_control=y</div>
<div class="line">battery_level_threshold_mV=3500 </div>
<div class="line"> </div>
<div class="line">[gui]</div>
<div class="line">keep_alive_count=3 </div>
<div class="line">keep_alive_interval=2  </div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>MAC release includes MAC configuration package, which can be used as reference.</dd></dl>
<h1><a class="anchor" id="sec_mac_mft"></a>
Appendix: Application manifest file</h1>
<p>Each native application should provide its own manifest file. Manifest file can have either INI file or in JSON notation. Manifest file provides all kind of information about application. It defines when and how the application should be launched, how it should be represented on desktop and etc. Manifest file should have ".mft" extension, otherwise it will be ignored by MAC. Manifest file should be located in corresponding user www folder. For example, usr2 application should store its manifest file in /home/usr2/www (e.g. /home/usr2/www/mac_demo2.mft).</p>
<dl class="section note"><dt>Note</dt><dd>Make sure, that manifest file is added to share group. Otherwise MAC will not have access to it.</dd>
<dd>
MAC scans /home/usr1/www/ - /home/usr16/www/ for user manifest files</dd>
<dd>
MAC scans /home/sys1/www/ - /home/sys16/www/ for system manifest files</dd>
<dd>
MAC is using "y" or "n" for boolean values in ini files</dd></dl>
<p>Manifest file structure: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Section </th><th class="markdownTableHeadNone">Field </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Default </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">id </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">file name </td><td class="markdownTableBodyNone">Unique application identifier  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">name </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Optional application name  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">version </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Application version  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">recover </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Enable/disable application <a class="el" href="pg_mac_users_guide.html#sec_mac_recovery">recovery mechanism</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">status_bar </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">Statusbar visibility on startup  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">depends </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Application list manifest owner depends on. This data is used to build dependency graph during autolaunch  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">allow_launch_on_tamper </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Allow application launch if security key allows to bypass tamper  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">cmdline </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Command to start application  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">label </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">id field </td><td class="markdownTableBodyNone">Application label shown on desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">translations </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">label field </td><td class="markdownTableBodyNone">Translated application label shown on desktop  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">icon </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">/home/sys13/www/mac/images/default-icon.png </td><td class="markdownTableBodyNone">Path to application icon shown on desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">type </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">APPLICATION </td><td class="markdownTableBodyNone">Application (with GUI) or Service (no GUI). Services will be started before applications.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">args </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Arguments passed to application  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">envs </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Environment variables passed to application  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">hide </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Hide application icon from desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">cmdline </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Command to start application  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">type </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">APPLICATION </td><td class="markdownTableBodyNone">Application (with GUI) or Service (no GUI). Services will be started before applications.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">args </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Arguments passed to application  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">envs </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Environment variables passed to application  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">start_hidden </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Application will be launched, but not appear on foreground  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">resident </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Service will not be restarted on GUI disconnect event.  </td></tr>
</table>
<p>Application manifest example (INI format): </p><div class="fragment"><div class="line">[application]</div>
<div class="line">id=mac_demo1</div>
<div class="line">version=3.2.0</div>
<div class="line">statusbar=y</div>
<div class="line">app_resource_dir=mac_demo1</div>
<div class="line">depends=mac_demo2;mac_demo3;</div>
<div class="line">recover=n</div>
<div class="line">allow_launch_on_tamper=y</div>
<div class="line"> </div>
<div class="line">[desktop]</div>
<div class="line">label=MAC Demo 1</div>
<div class="line">translations=de=MAC Demo 1;fr=MAC Démo 1;es=MAC manifestación 1;</div>
<div class="line">icon=mac_demo1/default/verifone-icon.png</div>
<div class="line">cmdline=../mac_demo1</div>
<div class="line">args=r1d2 r2d3</div>
<div class="line"> </div>
<div class="line">[autolaunch]</div>
<div class="line">cmdline=../mac_demo1</div>
<div class="line">start_hidden=y</div>
</div><!-- fragment --><p>Service manifest example (INI format): </p><div class="fragment"><div class="line">[application]</div>
<div class="line">id=mac_demo3</div>
<div class="line">version=3.16.3</div>
<div class="line">name=demo3</div>
<div class="line"> </div>
<div class="line">[autolaunch]</div>
<div class="line">cmdline=/home/usr3/mac_demo3</div>
<div class="line">type=service</div>
<div class="line">resident=y</div>
<div class="line"> </div>
<div class="line">[desktop]</div>
<div class="line">label=mac_demo3</div>
<div class="line">cmdline=/home/usr3/mac_demo3</div>
<div class="line">type=service</div>
</div><!-- fragment --><p>Application manifest example (JSON format): </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;schema_version&quot;: &quot;1.1&quot;,</div>
<div class="line">  &quot;application&quot;: {</div>
<div class="line">    &quot;id&quot;: &quot;mac_demo2&quot;,</div>
<div class="line">    &quot;name&quot;: &quot;mac_demo2&quot;,</div>
<div class="line">    &quot;version&quot;: &quot;3.9.0&quot;,</div>
<div class="line">    &quot;status_bar&quot;: true,</div>
<div class="line">    &quot;recover&quot;: true,</div>
<div class="line">    &quot;app_resource_dir&quot;: &quot;mac_demo2&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;desktop&quot;: {</div>
<div class="line">    &quot;label&quot; : &quot;mac_demo2&quot;,</div>
<div class="line">    &quot;type&quot; : &quot;APPLICATION&quot;,</div>
<div class="line">    &quot;cmdline&quot;: &quot;../mac_demo2&quot;,</div>
<div class="line">    &quot;envs&quot;: [</div>
<div class="line">      { &quot;ADK_VAR1&quot;: &quot;bar&quot; },</div>
<div class="line">      { &quot;ADK_VAR2&quot;: &quot;foo&quot; },</div>
<div class="line">      { &quot;ADK_VAR3&quot;: &quot;xyz&quot; }</div>
<div class="line">    ],</div>
<div class="line">    &quot;args&quot;: [ &quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot; ],</div>
<div class="line">  },</div>
<div class="line">  &quot;autolaunch&quot;: {</div>
<div class="line">    &quot;cmdline&quot;      : &quot;../mac_demo2&quot;,</div>
<div class="line">    &quot;envs&quot;: [</div>
<div class="line">      { &quot;ADK_VAR1&quot;: &quot;bar&quot; },</div>
<div class="line">      { &quot;ADK_VAR2&quot;: &quot;foo&quot; },</div>
<div class="line">      { &quot;ADK_VAR3&quot;: &quot;xyz&quot; }</div>
<div class="line">    ],</div>
<div class="line">    &quot;args&quot;: [ &quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot; ],</div>
<div class="line">    &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">  },</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_kbd"></a>
Appendix: Virtual keyboard</h1>
<p>On touch screen devices, MAC offers virtual keyboard option. Virtual keyboard configuration is stored separately for every application. It can be disabled globally using <a class="el" href="pg_mac_users_guide.html#sec_mac_cfg">configuration file</a>. Virtual keyboard mode can be cahnged using <a class="el" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a> API.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Mode </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC_KBD_ON </td><td class="markdownTableBodyNone">show virtual keyboard  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MAC_KBD_OFF </td><td class="markdownTableBodyNone">hide virtual keyboard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC_KBD_AUTO </td><td class="markdownTableBodyNone">set virtual keyboard to auto mode  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MAC_KBD_NUMERIC </td><td class="markdownTableBodyNone">activate auto mode for numeric input  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC_KBD_ALPHANUMERIC </td><td class="markdownTableBodyNone">activate auto mode for alphanumeric input  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MAC_KBD_CAPITALIZED </td><td class="markdownTableBodyNone">set capitalized keyboard layout for alphanumeric input  </td></tr>
</table>
<p>If auto mode is selected, MAC will show keyboard only when input field is active. Auto mode shows a keyboard for any input type. If you need to automatically show the keyboard for only one input type (numeric or alphanumeric), then use MAC_KBD_NUMERIC or MAC_KBD_ALPHANUMERIC. If you need to show capitalized keyboard layout use MAC_KBD_CAPITALIZED.<br  />
Virtual keyboard is auto-enabled for terminals without keyboard but with touch panel: e280S, e235, ... devices<br  />
MAC virtual keyboard can be customised using <a class="el" href="pg_mac_users_guide.html#sec_mac_res">custom resources</a>. Usage example: </p><div class="fragment"><div class="line"><a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>(<a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa1897eb426573ca469062c0af6ffe0db2">vfimac::MAC_KBD_AUTO</a>); <span class="comment">//set auto mode</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a>(<a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5faacf7fd09da851474c48e57ae2b9246d5">vfimac::MAC_KBD_ALPHANUMERIC</a> | <a class="code" href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fad6499892dc5c2341c9a29774e4a5b8ae">vfimac::MAC_KBD_CAPITALIZED</a>); <span class="comment">// activate auto mode for alphanumeric input with default capitalized keyboard layout</span></div>
</div><!-- fragment --><div class="image">
<img src="vkeyboardnum.png" alt=""/>
<div class="caption">
MAC Numeric virtual keyboard</div></div>
 <div class="image">
<img src="vkeyboardan.png" alt=""/>
<div class="caption">
MAC Alpha-numeric virtual keyboard</div></div>
 <div class="image">
<img src="vkeyboardspec.png" alt=""/>
<div class="caption">
MAC Special character virtual keyboard</div></div>
<p>Configuration examples: </p><div class="fragment"><div class="line">[vkeyboard]</div>
<div class="line">enable=y       # <span class="keyword">this</span> option globally enables/disables <span class="keyword">virtual</span> keyboard</div>
<div class="line"><span class="keyword">auto</span>=y         # <span class="keyword">this</span> option will set keyboard to automated mode (keyboard will appear <span class="keywordflow">if</span> input field is active)</div>
<div class="line">alphanumeric=y # <span class="keyword">this</span> option will enable <span class="keyword">auto</span> mode <span class="keywordflow">for</span> alphanumeric input fields by <span class="keywordflow">default</span></div>
<div class="line">numeric=y      # <span class="keyword">this</span> option will eanble <span class="keyword">auto</span> mode <span class="keywordflow">for</span> numeric input fields by <span class="keywordflow">default</span></div>
<div class="line">capitalized=y  # <span class="keyword">this</span> option will show alphanumeric keyboard with capital letters by <span class="keywordflow">default</span></div>
</div><!-- fragment --><p>Configuration parameters can be overridden using API call.</p>
<h1><a class="anchor" id="sec_mac_res"></a>
Appendix: Custom resources</h1>
<p>MAC graphical resources can be replaced with custom ones. MAC is using these files for GUI:</p>
<table class="doxtable">
<tr>
<th rowspan="2">File </th><th rowspan="2">Description </th><th colspan="3">Platforms </th></tr>
<tr>
<th>VOS1</th><th>VOS2</th><th>VOS3 </th></tr>
<tr>
<td>desktop.html </td><td>Desktop </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>kbd_reg.html </td><td>Regular virtual keyboard </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>kbd_cap.html </td><td>Capitalized virtual keyboard </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>kbd_num.html </td><td>Numeric virtual keyboard </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>kbd_special.html </td><td>Special character virtual keyboard </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>power.html </td><td>Power status screen </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>splash.html </td><td>Loading splash screen </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>statusbar.html </td><td>Statusbar </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>password.html </td><td>Password input </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>hotkey.html </td><td>Keyboard shortcuts </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>notification.html </td><td>Popup message </td><td></td><td></td><td>+ </td></tr>
<tr>
<td>kbd.css </td><td>Keyboard styles </td><td></td><td>+ </td><td>+ </td></tr>
<tr>
<td>style.css </td><td>MAC desktop stules </td><td>+ </td><td>+ </td><td>+ </td></tr>
<tr>
<td>layout.ini </td><td><a class="el" href="pg_mac_users_guide.html#sec_mac_layout">Layout</a> ini file </td><td>+ </td><td>+ </td><td>+ </td></tr>
</table>
<p>Custom resources have priority over default ones. It is not obligatory to replace all of resources. It is enough to provides only modified ones. In this case custom resources will be used together with default ones. Different resource locations have different priorities. Custom resources file possible locations:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Path (VOS/VOS2) </th><th class="markdownTableHeadNone">Priority </th><th class="markdownTableHeadNone">Details  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/P400/ </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">These resources will be used only on P400 model  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/240x320C15T/ </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">These resources will be used on all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/default/ </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">These resources will be used on all other models  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Path (VOS3 only) </th><th class="markdownTableHeadNone">Priority </th><th class="markdownTableHeadNone">Details  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/P630/ </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">These resources will be used only on P630 model  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/P630/ </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">These resources will be used only on P630 model  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/320x480C15T/ </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">These resources will be used on all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/320x480C15T/ </td><td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">These resources will be used on all models with matching display and keyboard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">/home/usr1/adk/www/mac/default/ </td><td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">These resources will be used on all other models  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">/etc/config/adk/www/mac/default/ </td><td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">These resources will be used on all other models  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Custom resources should be installed using "config" type package. See VOS documentation for more details.</dd>
<dd>
Terminal model display and keyboard parameters are described in ADK-GUI documentation.</dd>
<dd>
P400/P630 can be replaced with different model name.</dd>
<dd>
240x320C15T/320x480C15T can be replaced with different display and keyboard combination.</dd>
<dd>
Custom resources example package is available in MAC example folder.</dd></dl>
<h1><a class="anchor" id="sec_mac_cpr"></a>
Appendix: Commerce Platform</h1>
<h2><a class="anchor" id="subsec_mac_mft_cp_concept"></a>
CP concept</h2>
<p>Commerce Platform is environment which allows to develop JS/HTML based applications and execute them on top of ADK.</p>
<h2><a class="anchor" id="subsec_mac_mft_cp_executing"></a>
CP runtime (CPR)</h2>
<p>Commerce Platofrm functionality is disabled by default on VOS1 units and enabled by default on VOS2 and VOS3 units. This can be changed using MAC configuration file:</p>
<div class="fragment"><div class="line">[cpr]</div>
<div class="line">enable=y</div>
</div><!-- fragment --><p>CP applications (CPA) are launched by MAC. User can either launch CPA using MAC desktop or launch them using libmac APIs. CPA can also be integrated in payment application flow and launched by certain trigger name. This is described in CPL documentation.</p>
<p>Executing CPA using api: </p><div class="fragment"><div class="line">std::string appname(<span class="stringliteral">&quot;cp_demo2&quot;</span>);</div>
<div class="line">std::vector&lt;std::string&gt; args;</div>
<div class="line"><a class="code" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a>(appname,args);</div>
</div><!-- fragment --><p>Executing CPA by CPR trigger: </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;</span>);</div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line"><a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;*&quot;</span>, trigger, jsobj, 0 ); </div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Please see CPL documentation for more details.</dd></dl>
<p>In case MAС runs in multi-display environment, application can decide which screen to use for CPA execution. This is done by passing "cp_displayID" parameter in JSON payload. By default MAC is using local display (display id - 0). Displays are configured in MAC configuration file GUI section. Usage example:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> std::string trigger(<span class="stringliteral">&quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;</span>);</div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">jsobj(<span class="stringliteral">&quot;cp_displayID&quot;</span>) = 1;</div>
<div class="line"><a class="code" href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a>( <span class="stringliteral">&quot;*&quot;</span>, trigger, jsobj, 0 ); </div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_mac_mft_cp_vos2"></a>
CPA installation on VOS2 platform</h2>
<p>To install CP application please use <a class="el" href="namespacevfimac.html#a86f520239eb2af7b49b1bc31dfc20906">vfimac::sysInstallCPApp</a>. </p><dl class="section note"><dt>Note</dt><dd>It is also possible to install CPA using CPdownloader application, please see ADK-GUI documentations for details.</dd></dl>
<h2><a class="anchor" id="subsec_mac_mft_cp_vos3"></a>
CPA installation on VOS3 platform</h2>
<p>To install CP application please use CP App VOS3 installation package type.<br  />
Additionally special user Sponsor signed CP activation package should be installed to activate CP App.<br  />
Please see VOS3 CP App packaging &amp; installation manual for reference.</p>
<h2><a class="anchor" id="subsec_mac_mft_cp_manifest"></a>
CPA manifest files</h2>
<p>Commerce platform manifest files are JSON encoded and stored in</p><ul>
<li>"/mnt/flash/etc/config/cpapp/cp" for VOS2,</li>
<li>"/home/sys_cp/cpapps" for VOS3, and</li>
<li>"/mnt/appdata/versioned/globalshare/cpapps" is spare manifest location for VOS3 terminals with CPDEV (aka APPDEV). One of two VOS3 locations should be selected, not both simultaneously.</li>
</ul>
<p>Manifest files should have ".mft" extension (e.g. "/mnt/flash/etc/config/cpapp/cp/paypalapp-887623211.mft", or "/home/sys_cp/cpapps/paypalapp-887623211.mft) Regular applications don't have access to CPA resources and manifest files.</p>
<h2><a class="anchor" id="subsec_mac_mft_cp_description"></a>
CPA manifest fields</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Section </th><th class="markdownTableHeadNone">Field </th><th class="markdownTableHeadNone">Required </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Default </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">id </td><td class="markdownTableBodyNone">+ </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Unique application id  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">name </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Application name  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">version </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Application version  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">keyboard </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">MAC Virtual keyboard visible on startup  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">statusbar </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">true </td><td class="markdownTableBodyNone">MAC Statusbar visible on startup  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">application </td><td class="markdownTableBodyNone">depends </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Dependent apps to be started before this app. separted by semicolon  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">type </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">app </td><td class="markdownTableBodyNone">Application or Service  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">label </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Application label shown on desktop  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">icon </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Path to application icon shown on desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">hide </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">bool </td><td class="markdownTableBodyNone">false </td><td class="markdownTableBodyNone">Hide application icon from desktop  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">desktop </td><td class="markdownTableBodyNone">file </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Initial html to be shown  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">type </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">app </td><td class="markdownTableBodyNone">Application or System service. Services will be started before applications  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone">file </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">Initial html to be shown  </td></tr>
</table>
<p>To launch CPA from desktop, it should have "desktop" section in its manifest file.</p>
<h2><a class="anchor" id="subsec_mac_mft_cp_examples"></a>
CPA manifest examples</h2>
<p>CPA manifest file example #1: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;schema_version&quot;: &quot;1.0&quot;,</div>
<div class="line"> </div>
<div class="line">    &quot;application&quot;: {</div>
<div class="line">        &quot;name&quot;: &quot;cp_demo1&quot;,</div>
<div class="line">        &quot;id&quot;: &quot;cp_demo1&quot;,</div>
<div class="line">        &quot;version&quot;: &quot;3.9.0&quot;,</div>
<div class="line">        &quot;type&quot;: &quot;CP_TERMINAL&quot;,</div>
<div class="line">        &quot;is_companion_app&quot;: true</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    &quot;desktop&quot; : {</div>
<div class="line">         &quot;label&quot; : &quot;cp_demo1&quot;,</div>
<div class="line">         &quot;file&quot; : &quot;demo1.html&quot;,</div>
<div class="line">         &quot;type&quot; : &quot;app&quot;,</div>
<div class="line">         &quot;icon&quot; : &quot;cp_demo1/default/vflogo.png&quot;</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    &quot;imports_trigger&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot; : &quot;demo1.html&quot;,</div>
<div class="line">      &quot;optional&quot; : true,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;,</div>
<div class="line">      &quot;icon&quot; : &quot;cp_demo1/default/vflogo.png&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot; : &quot;demo1.html&quot;,</div>
<div class="line">      &quot;optional&quot; : true,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_MANUAL_LAUNCH_SELECTED&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot; : &quot;demo1.html&quot;,</div>
<div class="line">      &quot;optional&quot; : true,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_TRANSACTION_STARTED&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot; : &quot;test.html&quot;,</div>
<div class="line">      &quot;optional&quot; : true,</div>
<div class="line">      &quot;id&quot;: &quot;CP_TEST&quot;,</div>
<div class="line">      &quot;icon&quot; : &quot;cp_demo1/default/vflogo.png&quot;</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}  </div>
</div><!-- fragment --><p>CPA manifest file example #2: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;schema_version&quot;: &quot;1.0&quot;,</div>
<div class="line">  &quot;imports_trigger&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;alipayapp-887623211/images/Alipay_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_REQUESTS_ALT_PAYMENT&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Alipay&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;alipayapp-887623211/images/Alipay_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_TRANSACTION_ENDED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Alipay&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;alipayapp-887623211/images/Alipay_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Alipay&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;alipayapp-887623211/images/Alipay_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_MANUAL_LAUNCH_SELECTED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Alipay&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    }</div>
<div class="line">  ],</div>
<div class="line">  &quot;application&quot;: {</div>
<div class="line">    &quot;is_companion_app&quot;: false,</div>
<div class="line">    &quot;name&quot;: &quot;alipay&quot;,</div>
<div class="line">    &quot;id&quot;: &quot;alipayapp-887623211&quot;,</div>
<div class="line">    &quot;type&quot;: &quot;CP_TERMINAL&quot;,</div>
<div class="line">    &quot;version&quot;: &quot;2.5.0&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;imports_sdk&quot;: {</div>
<div class="line">    &quot;cpruntime_min_version&quot;: &quot;2.0.0&quot;,</div>
<div class="line">    &quot;triggers_min_version&quot;: &quot;4.3.0&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;imports_hardware&quot;: {</div>
<div class="line">    &quot;platforms&quot;: [</div>
<div class="line">      &quot;240x320C15T&quot;,</div>
<div class="line">      &quot;240x320C21N&quot;,</div>
<div class="line">      &quot;320x480C0T&quot;,</div>
<div class="line">      &quot;320x480C15T&quot;,</div>
<div class="line">      &quot;854x480C0T&quot;,</div>
<div class="line">      &quot;854x480C15T&quot;,</div>
<div class="line">      &quot;1280x800C15T&quot;</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>CPA manifest file example #3: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;schema_version&quot;: &quot;1.0&quot;,</div>
<div class="line">  &quot;imports_trigger&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;klarnaapp-887623211/images/Klarna_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_REQUESTS_ALT_PAYMENT&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Klarna&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;klarnaapp-887623211/images/Klarna_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_TRANSACTION_ENDED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Klarna&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;klarnaapp-887623211/images/Klarna_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_IDLE_ENTERED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Klarna&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;file&quot;: &quot;init.html&quot;,</div>
<div class="line">      &quot;icon&quot;: &quot;klarnaapp-887623211/images/Klarna_icon.png&quot;,</div>
<div class="line">      &quot;optional&quot;: false,</div>
<div class="line">      &quot;id&quot;: &quot;CP_SYSTEM_NOTIFIES_MANUAL_LAUNCH_SELECTED&quot;,</div>
<div class="line">      &quot;label&quot;: &quot;Klarna&quot;,</div>
<div class="line">      &quot;status_bar&quot;: false,</div>
<div class="line">      &quot;type&quot;: &quot;APPLICATION&quot;,</div>
<div class="line">      &quot;interruptible&quot;: false</div>
<div class="line">    }</div>
<div class="line">  ],</div>
<div class="line">  &quot;application&quot;: {</div>
<div class="line">    &quot;is_companion_app&quot;: false,</div>
<div class="line">    &quot;name&quot;: &quot;klarna&quot;,</div>
<div class="line">    &quot;id&quot;: &quot;klarnaapp-887623211&quot;,</div>
<div class="line">    &quot;type&quot;: &quot;CP_TERMINAL&quot;,</div>
<div class="line">    &quot;version&quot;: &quot;1.4.0&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;imports_sdk&quot;: {</div>
<div class="line">    &quot;cpruntime_min_version&quot;: &quot;2.0.0&quot;,</div>
<div class="line">    &quot;triggers_min_version&quot;: &quot;4.3.0&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;imports_hardware&quot;: {</div>
<div class="line">    &quot;platforms&quot;: [</div>
<div class="line">      &quot;240x320C15T&quot;,</div>
<div class="line">      &quot;240x320C21N&quot;,</div>
<div class="line">      &quot;320x480C0T&quot;,</div>
<div class="line">      &quot;320x480C15T&quot;,</div>
<div class="line">      &quot;854x480C0T&quot;,</div>
<div class="line">      &quot;854x480C15T&quot;,</div>
<div class="line">      &quot;1280x800C15T&quot;</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_mcp"></a>
Appendix: MAC Control Panel</h1>
<p>MAC Control panel contains a set of system tools to view, configure and diagnose the system. MAC Control panel can be activated using <a class="el" href="namespacevfimac.html#a395a73335aa92641a3ac0967fc0bb200">vfimac::sysShowControlPanel</a> API or activated from the MAC desktop.</p>
<p>The MAC desktop may be protected by a password. See the detailed description in the <a class="el" href="pg_mac_users_guide.html#sec_mac_desktop">Appendix: Desktop</a>.</p>
<dl class="section note"><dt>Note</dt><dd>MAC Control Panel functions may be different on different platforms. On VOS3 there is no more a Sysmode we had on VOS1/VOS2 devices. On VOS3 there are new Control Panels that provide similar functionality as the Sysmode on VOS1/VOS2.</dd></dl>
<p>Below is the mapping of the Control Panel and the platform.</p>
<h2><a class="anchor" id="sec_mac_cp_list"></a>
MAC Control Panels</h2>
<table class="doxtable">
<tr>
<th rowspan="2">MAC Control Panel </th><th rowspan="2">Description </th><th colspan="3">Platforms </th><th rowspan="2">Note  </th></tr>
<tr>
<th>VOS1</th><th>VOS2</th><th>VOS3  </th></tr>
<tr>
<td><div class="image">
<img src="notifications_icon.png" alt="" width="150</td>"/>
</div>
 <br  />
 </td><td>The <a class="el" href="pg_mac_users_guide.html#sec_mac_system_notifications">System Notification service</a> allows to:<ul>
<li>show pop-up messages (info, warning, critical)</li>
<li>add a notification icon to the status bar</li>
<li>recall the notification message until it is cleared </li>
</ul>
</td><td>+</td><td>+</td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="vos2_system_info_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The System information panel that provides the main system information such as Model name, S/N, OS version, Part Number, etc. </td><td>+</td><td>+</td><td></td><td>Alternate in VOS3 - "Info panel"  </td></tr>
<tr>
<td><div class="image">
<img src="vos2_adk_info_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The ADK information panel that lists the ADK version and ADK component versions </td><td>+</td><td>+</td><td></td><td>Alternate in VOS3 - Info panel to get the ADK version.<br  />
 The installed ADK component versions on VOS3 are available in the "Software Control Panel" / "Software List"  </td></tr>
<tr>
<td><div class="image">
<img src="info_icon.png" alt="" width="150"/>
</div>
 </td><td>The Info panel displays the system information such as Model Name, S/N, OS/ADK version, Part Number, etc. </td><td></td><td></td><td>+ </td><td>Substitutes VOS2 "Info" and "ADK" panels  </td></tr>
<tr>
<td><div class="image">
<img src="transfer_logs_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>Log transfer button will generate the TGZ file that contains the following information: <ul>
<li>
System application logs </li>
<li>
User application logs </li>
<li>
System properties dump (VOS3) </li>
<li>
System information (S/N, HwId, Sponsor, etc.) (VOS3) </li>
<li>
System resource information (RAM, Flash, etc.) (VOS3) </li>
<li>
Software components + versions </li>
<li>
Application crash log (provided by launcher) (VOS3) </li>
<li>
Dump additional files/folders that are provided as symlinks to the default log directory /mnt/appdata/logs </li>
</ul>
The USB stick should be connected to the device before dumping logs! </td><td>+</td><td>+</td><td>+ </td><td>The difference: on VOS3 the Log transfer is outside the Log Control Panel for faster access  </td></tr>
<tr>
<td><div class="image">
<img src="log_control_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The <a class="el" href="pg_logging_users_guide.html#subsec_lcp">Log Control Panel (LCP)</a> provides:<ul>
<li>setting application logs</li>
<li>setting syslogs</li>
<li>setting log destination </li>
</ul>
</td><td>+</td><td>+</td><td>+ </td><td>The difference:<ul>
<li>on VOS1, VOS2 the LCP is outside the MAC Control Panel<br  />
</li>
<li>on VOS3 LCP operations are displayed as tiles, on VOS2 - as a list<br  />
</li>
<li>on VOS3 the Log transfer is outside the Log Control Panel for faster access  </li>
</ul>
</td></tr>
<tr>
<td><div class="image">
<img src="applications_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The Applications is a folder containing "Application List" and "Autolaunch". See below. </td><td></td><td></td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="application_list_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The Application List is a list of all SYS and USR applications installed on the device, running status, and the ability to stop the application </td><td></td><td>+</td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="autolaunch_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>Autolaunch stops all running applications and then executes standard applications autolaunch procedure. See <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">Application manifest file</a>, "autolaunch" section </td><td></td><td>+</td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="com_control_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The <a class="el" href="pg_ccp_users_guide.html">Communication Control Panel (CCP)</a> provides the following functions:<ul>
<li>Set / change the network configuration parameters</li>
<li>Run simple network diagnostics</li>
<li>Report the network status </li>
</ul>
</td><td>+</td><td>+</td><td>+ </td><td>The difference on VOS1, VOS2: the CCP is outside the MAC Control Panel  </td></tr>
<tr>
<td><div class="image">
<img src="power_panel_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The <a class="el" href="pg_syspm_users_guide.html#sec_pcp">Power Panel (PCP)</a> is used to restart or power off the device, or move the status of the device to a low-power mode.<br  />
Low-power modes (Deep Sleep, Hibernate) are available on devices that support Battery </td><td>+</td><td>+</td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="date_time_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The Date &amp; Time panel allows you to administrate Date, Time, Time Zone, and the 24H reboot time. </td><td></td><td></td><td>+ </td><td>Date &amp; Time change could trigger a system reboot if the new date/time delta between the current date/time is 24h and more.<br  />
The correct time change order is:<ul>
<li>set a correct Time Zone</li>
<li>check that the Time/Date value changes according to the new Time Zone</li>
<li>set the Time if needed  </li>
</ul>
</td></tr>
<tr>
<td><div class="image">
<img src="settings_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>Settings Panel allows changing following system settings:<ul>
<li>Display brightness</li>
<li>Audio settings: set beep on keypad, set beep on touch</li>
<li>Keyboard: enable/disable keypad backlight </li>
</ul>
</td><td></td><td></td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="diagnostic_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The <a class="el" href="pg_diag_cp.html#pg_diag_cp">Diagnostic Control Panel</a> provides simple system diagnostic tools:<ul>
<li>Display diagnostics</li>
<li>Keyboard diagnostics</li>
<li>Card diagnostics: Magnetic reader, Smart Card reader, CTLS Card reader</li>
<li>Buzzer / Audio and Microphone tests</li>
<li>LED diagnostics</li>
<li>Touch Panel diagnostics</li>
<li>SD card reading </li>
</ul>
</td><td></td><td></td><td>+ </td><td>The alternate on VOS2 sysmode: Diagnostics menu  </td></tr>
<tr>
<td><div class="image">
<img src="security_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The <a class="el" href="pg_scp_users_guide.html#scp_panel">Security Control Panel</a> provides the following functions:<ul>
<li>Key viewing/loading</li>
<li>Device tamper state viewing / getting tamper logs and tamper remove</li>
<li>Security Identification data viewing: Device Model / HW/ FW</li>
<li>Secure processor Date/Time viewing/editing</li>
<li>MIB viewing/loading</li>
<li>Password management </li>
</ul>
</td><td></td><td></td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="software_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The Software Control Panel allows to:<ul>
<li>Download and install the SW via: a USB stick, Netloader, ZonTalk</li>
<li>View the installation result</li>
<li>View the list of installed SW </li>
</ul>
</td><td></td><td></td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="vcl_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The VCL Control Panel to see the VCL status </td><td></td><td></td><td>+ </td><td></td></tr>
<tr>
<td><div class="image">
<img src="vhq_icon.png" alt="" width="150</td>"/>
</div>
 </td><td>The VHQ Agent Control Panel to do heartbeats and configuration </td><td></td><td></td><td>+ </td><td>On VOS1, VOS2 VHQ Agent configuration panel is in the Sysmode  </td></tr>
</table>
<h1><a class="anchor" id="sec_mac_cp_language"></a>
Appendix: MAC language setting</h1>
<p>The default MAC Control Panel language is English (en-US.ctlg ).</p>
<p>To launch MAC Control Panel with a different language, the language package can be provided as an argument for the MAC API:</p>
<div class="fragment"><div class="line">std::vector&lt;std::string&gt; args = { <span class="stringliteral">&quot;-l&quot;</span>, <span class="stringliteral">&quot;/home/usr1/www/de-DE.ctlg&quot;</span> };</div>
<div class="line"><span class="keyword">auto</span> res = <a class="code" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a>( <span class="stringliteral">&quot;mcp&quot;</span>, args );</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">std::vector&lt;std::string&gt; args = { <span class="stringliteral">&quot;-l&quot;</span>, <span class="stringliteral">&quot;de-DE.ctlg&quot;</span> };</div>
<div class="line"><span class="keyword">auto</span> res = <a class="code" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a>( <span class="stringliteral">&quot;mcp&quot;</span>, args );</div>
</div><!-- fragment --><p>in the last example, the file will be searched into the /home/sys13/www/mcp/default.</p>
<dl class="section note"><dt>Note</dt><dd>both arguments <code>"-l"</code> or <code>"--lang"</code> could be used.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>The provided catalog must contain all keywords. Otherwise the field will be displayed as label key value.</li>
<li>The catalog file is user-signed.</li>
<li>On VOS2 the language translation is available on MAC CP and Power CP only.</li>
<li>On VOS3 the language can be changed by setting it via the <b>MAC CP / Settings / Locale</b>.</li>
<li>The Control Panel name is encoded in the MAC manifest file that should be translated to a different language and then sys-signed and installed on the device.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="sec_mac_layout"></a>
Appendix: Layout</h1>
<p>Used screen layout can be adjusted. Layout is stored in layout.ini file together with other MAC resources. This file can be used to resize statusbar or virtual keyboard. Layout file can be modified using <a class="el" href="pg_mac_users_guide.html#sec_mac_res">custom MAC resources</a>. Application can set layout from file using <a class="el" href="namespacevfimac.html#aa54bee100e8df7bab8868a0c6b81bc67">vfimac::sysChangeLayout</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Layout can be locked using <a class="el" href="namespacevfimac.html#a1f0513c597f95e860f0d4e516d72b364">vfimac::sysLockLayout</a>. In this case all applications are not able to switch screen or layout anymore.</dd></dl>
<p>Layout file example: </p><div class="fragment"><div class="line">[default]</div>
<div class="line">appA=0 0 -1 -1</div>
<div class="line"> </div>
<div class="line">[default-sb]</div>
<div class="line">statusbar=0 0 -1 19</div>
<div class="line">appA=0 20 -1 -1</div>
<div class="line"> </div>
<div class="line">[default-kb]</div>
<div class="line">appA=0 0 -1 -321</div>
<div class="line">keyboard=0 -321 -1 -1</div>
<div class="line"> </div>
<div class="line">[default-sb-kb]</div>
<div class="line">statusbar=0 0 -1 19</div>
<div class="line">appA=0 20 -1 -321</div>
<div class="line">keyboard=0 -321 -1 -1</div>
<div class="line"> </div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_events"></a>
Appendix: MAC events</h1>
<p>Application can register for certain MAC events. All available MAC events are listed in <a class="el" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4b">enum</a>. Every event type can have its own processing callback.</p>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> event_callback( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4b">vfimac::macEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp; json )</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE(lh,<span class="stringliteral">&quot;MAC event recieved[%d] json[%s]&quot;</span>,<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, json.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str() ); </div>
<div class="line">}  </div>
<div class="line"> </div>
<div class="line"><span class="comment">// Application transitioned on foreground</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4ba5919ad4670c8e825ad53aba144805df5">vfimac::EVENT_FOREGROUND</a>, event_callback );</div>
<div class="line"><span class="comment">// Application transitioned to background</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4bac8f0e13a5042856ad22cc0ba40ac5062">vfimac::EVENT_BACKGROUND</a>, event_callback );</div>
<div class="line"><span class="comment">// Manifest list was refreshed</span></div>
<div class="line"><a class="code" href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a>( <a class="code" href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4baa4bcbb24c61f7b837ca19df0d94be56d">vfimac::EVENT_MANIFEST_UPDATE</a>, event_callback );</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_notify"></a>
Appendix: Notification interface</h1>
<p>MAC allows some commands to be invoked via ADK-IPC notifications. First applications needs to register callback for response notification. Then applications need to generate json with payload and send it to "_mac" application id. MAC will send response notification with corresponding payload.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Request notification </th><th class="markdownTableHeadNone">Response notification </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">_MacControlRequest </td><td class="markdownTableBodyNone">_MacControlResponse </td><td class="markdownTableBodyNone">These notifications can be used by payment applications and ADK components  </td></tr>
</table>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> cb( <span class="keywordtype">void</span> *data, </div>
<div class="line">    <span class="keyword">const</span> std::string &amp;from, </div>
<div class="line">    <span class="keyword">const</span> std::string &amp;to, </div>
<div class="line">    <span class="keyword">const</span> std::string &amp;notification_id, </div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj, </div>
<div class="line">    <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{   </div>
<div class="line">    <span class="comment">// Process response here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// init ADK-IPC</span></div>
<div class="line"><a class="code" href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a>( <span class="stringliteral">&quot;demo&quot;</span> );</div>
<div class="line"><span class="comment">// register response callback</span></div>
<div class="line"><a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( <span class="stringliteral">&quot;_MacControlResponse&quot;</span> , cb, NULL );  </div>
<div class="line"><span class="comment">// generate json payload</span></div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;device_info&quot;</span>;</div>
<div class="line"><span class="comment">// send json to MAC</span></div>
<div class="line"><a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(<span class="stringliteral">&quot;_mac&quot;</span>,<span class="stringliteral">&quot;_MacControlRequest&quot;</span>, jsobj, 0 ); </div>
</div><!-- fragment --><p>Supported command list: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command </th><th class="markdownTableHeadNone">Description </th><th class="markdownTableHeadNone">Request example </th><th class="markdownTableHeadNone">Response example  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">get_app_list </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a807e4d61017fe99f6f6c66a8bd37ad08">Get list of available applications</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;get_app_list&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;appList&quot;</span>:[ {<span class="stringliteral">&quot;Active&quot;</span>:<span class="keyword">true</span>, <span class="stringliteral">&quot;AppId&quot;</span>:<span class="stringliteral">&quot;ccp&quot;</span>, <span class="stringliteral">&quot;AppLabel&quot;</span>:<span class="stringliteral">&quot;Com Control&quot;</span>, <span class="stringliteral">&quot;AppName&quot;</span>:<span class="stringliteral">&quot;ccp&quot;</span>, <span class="stringliteral">&quot;AppVersion&quot;</span>:<span class="stringliteral">&quot;1.8.0-pre-103&quot;</span>,<span class="stringliteral">&quot;CPApp&quot;</span>:<span class="keyword">false</span>, <span class="stringliteral">&quot;Desktop&quot;</span>: {<span class="stringliteral">&quot;AppLabel&quot;</span>:<span class="stringliteral">&quot;Com Control&quot;</span>, <span class="stringliteral">&quot;Type&quot;</span>:<span class="stringliteral">&quot;app&quot;</span>}, <span class="stringliteral">&quot;Running&quot;</span>:<span class="keyword">false</span>, <span class="stringliteral">&quot;Type&quot;</span>:<span class="stringliteral">&quot;app&quot;</span>}, {<span class="stringliteral">&quot;Active&quot;</span>:<span class="keyword">true</span>,<span class="stringliteral">&quot;AppId&quot;</span>:<span class="stringliteral">&quot;cpdownloader&quot;</span>, <span class="stringliteral">&quot;AppLabel&quot;</span>:<span class="stringliteral">&quot;cpdownloader&quot;</span>, <span class="stringliteral">&quot;AppName&quot;</span>:<span class="stringliteral">&quot;cpdownloader&quot;</span>, <span class="stringliteral">&quot;AppVersion&quot;</span>:<span class="stringliteral">&quot;2.31.0&quot;</span>, <span class="stringliteral">&quot;CPApp&quot;</span>:<span class="keyword">false</span>, <span class="stringliteral">&quot;Desktop&quot;</span>:{<span class="stringliteral">&quot;AppLabel&quot;</span>:<span class="stringliteral">&quot;cpdownloader&quot;</span>, <span class="stringliteral">&quot;Type&quot;</span>:<span class="stringliteral">&quot;app&quot;</span>}, <span class="stringliteral">&quot;Running&quot;</span>:<span class="keyword">false</span>,<span class="stringliteral">&quot;Type&quot;</span>:<span class="stringliteral">&quot;app&quot;</span>}], <span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>, <span class="stringliteral">&quot;status&quot;</span>:0} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">version </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a2e646f58a5f98e1b01ccae0a576ab8cf">Get MAC version</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;version&quot;</span> } </div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>,<span class="stringliteral">&quot;status&quot;</span>:0,<span class="stringliteral">&quot;version&quot;</span>:<span class="stringliteral">&quot;3.71.5-Snapshot&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">set_env_data </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a3cb1620e29b7920b2b53560c1cae71fe">set CPR environment values</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;set_env_data&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>:{<span class="stringliteral">&quot;name1&quot;</span>:<span class="stringliteral">&quot;test1&quot;</span>,<span class="stringliteral">&quot;name2&quot;</span>:<span class="stringliteral">&quot;test2&quot;</span>} </div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">to_foreground </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a424b735dc0296a43429f6dfeab802fa4">Bring application to foreground</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;to_foreground&quot;</span>,<span class="stringliteral">&quot;appid&quot;</span>:<span class="stringliteral">&quot;demo1&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">show_prev_app </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a40e24a74e4f3dc63f080b34b0bb6c7de">Show previously visible application</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;show_prev_app&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">show_desktop </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a404d8e38300385724b2d2ed306df863e">Show MAC desktop</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;show_dekstop&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">launch_appid </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">Launch application</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;launch_appid&quot;</span>,<span class="stringliteral">&quot;appid&quot;</span>:<span class="stringliteral">&quot;demo1&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">stop_appid </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a57f7a1edb91c7479e4c2b2916a252822">Stop application</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;stop_appid&quot;</span>,<span class="stringliteral">&quot;appid&quot;</span>:<span class="stringliteral">&quot;demo1&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">autolaunch </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a5b63071e5232000be8cd04e2950b28b2">Relaunch applications</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;autolaunch&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">scan_manifests </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#aec38c483c58974ddb58d576d9f7ac2f0">Rescan manifest files</a> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;scan_manifests&quot;</span>}</div>
</div><!-- fragment --> </td><td class="markdownTableBodyNone"><div class="fragment"><div class="line">{<span class="stringliteral">&quot;status&quot;</span>: 0, <span class="stringliteral">&quot;result&quot;</span> : <span class="stringliteral">&quot;OK&quot;</span>} </div>
</div><!-- fragment -->  </td></tr>
</table>
<p>Return notification will always have two fields indicating request status. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Field name </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Values </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">result </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">"OK"/"FAIL" </td><td class="markdownTableBodyNone">General status  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">status </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone"><a class="el" href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216c">vfimac::macError</a> </td><td class="markdownTableBodyNone">Error code  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>if MAC is not running, you will receive notification unicast error. Please see ADK-IPC documentation for more information.</dd></dl>
<p>MAC notification interface usage example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> device_resp_callback( </div>
<div class="line">   <span class="keywordtype">void</span> *data,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;from,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;to,</div>
<div class="line">   <span class="keyword">const</span> std::string &amp;notification_id,</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;jsobj,</div>
<div class="line">   <span class="keywordtype">unsigned</span> flags)</div>
<div class="line">{</div>
<div class="line">    LOGF_TRACE( lh, <span class="stringliteral">&quot;trigger from[%s] to[%s] id[%s] flags[%d] jsobj[%s]&quot;</span>, </div>
<div class="line">            from.c_str(), </div>
<div class="line">            to.c_str(), </div>
<div class="line">            notification_id.c_str(), </div>
<div class="line">            flags, </div>
<div class="line">            jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str() );</div>
<div class="line">}  </div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> SUCCEED = 0;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacevfisdi.html#a28287671eaf7406afd604bd055ba4066a936c4a5547a9360243178f726f6b2715">FAIL</a> = -1;</div>
<div class="line"><span class="keyword">const</span> std::string one_receiver(<span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string appid( <span class="stringliteral">&quot;MACDEMO2&quot;</span> );</div>
<div class="line"><span class="keyword">const</span> std::string device_control_request_trigger(<span class="stringliteral">&quot;_MacControlRequest&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> std::string device_control_response_trigger(<span class="stringliteral">&quot;_MacControlResponse&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a>( appid );</div>
<div class="line"><a class="code" href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a>( device_control_response_trigger, device_resp_callback, NULL );</div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">jsobj(<span class="stringliteral">&quot;cmd&quot;</span>)=<span class="stringliteral">&quot;show_dekstop&quot;</span>;</div>
<div class="line"><a class="code" href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a>(one_receiver, device_control_request_trigger, jsobj, 0 ); </div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_system_notifications"></a>
Appendix: System Notifications interface</h1>
<p>System notification interface allows to:</p><ul>
<li>show pop-up messages of three priorities:<ul>
<li><b>Info</b>;</li>
<li><b>Warning</b>;</li>
<li><b>Critical</b>.</li>
</ul>
</li>
<li>add notification icon to statusbar;<ul>
<li>one for all notifications;</li>
<li>most critical is shown.</li>
</ul>
</li>
<li>possibility to recall the notification message until cleared;</li>
<li>client that rised the notification gets ID to clear it later. <dl class="section note"><dt>Note</dt><dd>Life length of notifications is limited by terminal reboot: client must request notification at every terminal startup.</dd></dl>
</li>
</ul>
<h2><a class="anchor" id="subsec_system_notifications_popup_messages"></a>
Pop-up messages and statusbar icons examples:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Info </th><th class="markdownTableHeadNone">Warning </th><th class="markdownTableHeadNone">Critical  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><div class="image">
<img src="system_notification_info.png" alt=""/>
</div>
     </td><td class="markdownTableBodyNone"><div class="image">
<img src="system_notification_warning.png" alt=""/>
</div>
     </td><td class="markdownTableBodyNone"><div class="image">
<img src="system_notification_error.png" alt=""/>
</div>
      </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>"Info" notification example shows "sticky" option: "Clear" button absent - notification can't be cleared via GUI.</dd></dl>
<h2><a class="anchor" id="subsec_system_notifications_messages_list"></a>
System Notifications List</h2>
<p>It is possible to recall all system notification messages via Control Panel -&gt; Notifications. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Control Panel </th><th class="markdownTableHeadNone">-&gt; </th><th class="markdownTableHeadNone">Notifications  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><div class="image">
<img src="control_panel_notifications.png" alt=""/>
</div>
     </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><div class="image">
<img src="system_notifications_list.png" alt=""/>
</div>
      </td></tr>
</table>
<h2><a class="anchor" id="subsec_system_notifications_usage_example"></a>
System Notifications usage example</h2>
<div class="fragment"><div class="line"><span class="comment">// add system notifications</span></div>
<div class="line"><span class="keywordtype">int</span> returnCode = <a class="code" href="namespacevfimac.html#ac4a12edca6083bfb03386f390d67bc3d">vfimac::systemNotificationAdd</a>(<a class="code" href="namespacevfimac.html#af8d28bc2c3fa0398b42f840088f59a4bae45a50bf56795bda968dfc1694ad2871">vfimac::systemNotificationPriority::SYSTEM_NOTIFICATION_INFO</a>, <span class="stringliteral">&quot;demo1 system notification&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span>(returnCode &gt; 0)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> lastSystemNotificationId = returnCode;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// check if it still exist</span></div>
<div class="line">    std::list&lt;int&gt; list;</div>
<div class="line">    returnCode = <a class="code" href="namespacevfimac.html#a49a2afa866d86f54ab20603abcb7eb45">vfimac::systemNotificationList</a>(list);</div>
<div class="line">    <span class="keywordflow">for</span> (std::list&lt;int&gt;::iterator it = list.begin(); it != list.end(); ++it)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span>(lastSystemNotificationId == (*it))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// remove our system notifications</span></div>
<div class="line">            returnCode = <a class="code" href="namespacevfimac.html#a4aa74ec3d2bd8a53334045452b21820f">vfimac::systemNotificationRemove</a>(lastSystemNotificationId);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_mac_recovery"></a>
Appendix: Application recovery</h1>
<p>If application crashes, MAC will initiate <a class="el" href="namespacevfimac.html#a5b63071e5232000be8cd04e2950b28b2">application relaunch</a>.<br  />
First it will stop all running applications, after that MAC will start all applications registered for autolaunch.<br  />
This should bring terminal to clean state (as after startup).<br  />
MAC maintains crashes counter for each application. To prevent looping relaunch, MAC stops application recovery after three application's crashes.<br  />
Application can disable recovery mechanism using recover field in <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>.</p>
<dl class="section note"><dt>Note</dt><dd>If application was terminated by SIGTERM or SIGKILL, recovery mechanism will not be initiated.</dd></dl>
<h1><a class="anchor" id="sec_mac_envs"></a>
Appendix: Environment variables</h1>
<p>When MAC launches application, it sets certain environment variables. Without these variables application will not operate correctly.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Environment name </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Required </th><th class="markdownTableHeadNone">Example </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GUI_REGION </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">+ </td><td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">ADK-GUI region id, which will be used to render application GUI  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GUI_DISPLAY </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">+ </td><td class="markdownTableBodyNone">192.168.50.1:0 </td><td class="markdownTableBodyNone">GUI_DISPLAY environments stores IP address in case of remote display. Please see ADK-GUI documentation for details  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC_APPID </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">ccp </td><td class="markdownTableBodyNone">Application id from <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GUIPRT_APPNAME </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">lcp </td><td class="markdownTableBodyNone">Name of the resource folder from <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LANGUAGE </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">- </td><td class="markdownTableBodyNone">en </td><td class="markdownTableBodyNone">Current system language (VOS3 only)  </td></tr>
</table>
<p>GUI_REGION environment notifies GUI in which region HTML should be rendered. If environment is not set, application will use region 0. This region is always hidden and never appear on the screen. GUI_DISPLAY is used to set communication method with GUI server. Please see ADK-GUI documentation for more details. APPID - unique application identifier from <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">manifest file</a>. It can be used by both application itself and MAC to process requests. GUIPRT_APPNAME - is used to avoid resource clash, when multiple applications are using same user. For example if application is using usr1 and GUIPRT_APPNAME is set to lcp, then resources located in /home/usr1/www/lcp will be used. If environment is not set /home/usr1/www will be used as a resource folder.</p>
<h1><a class="anchor" id="sec_mac_arrs"></a>
Appendix: Android Remote Rendering Service</h1>
<p>On dual chip solutions (e.g. M424, M440, CM5) MAC can run in remote rendering mode. In this mode, MAC will communicate with ARRS instead of GUI daemon. This is special application delivered as part of Android software stack, which renders HTML instead of GUI daemon. By default Android IP address is obtained from /etc/hosts, but it can be overrided by display field in MAC configuration file. If ARRS mode is enabled, service type applications, will be launched before connecting to ARRS. This speeds up boot time and allows Android to communicate to SDI and other critical services even if ARRS wasn't launched. If ARRS is not launched on Android, MAC will only start service applications and then wait for communication with ARRS. If ARRS is closed, MAC will stop all launched applications. It will automatically restart once ARRS is available.</p>
<dl class="section note"><dt>Note</dt><dd>ARRS is using webkit for HTML rendering. As a result, some of HTML tags will not be supported in this mode. Please check ADK-GUI documentation for details.</dd></dl>
<h1><a class="anchor" id="sec_mac_remote"></a>
Appendix: Remote display mode</h1>
<p>Terminal can remotely control GUI on other units via network. To do so both master and slave units needs to be configured accordingly. Slave units needs to operate in remote display mode. In this mode GUI window management will be disabled and only service type applications will be started. MAC desktop will not be available. MAC will create only one GUI region (region id - 0) and wait for incoming connection. <br  />
</p>
<div class="image">
<img src="remote_display.png" alt=""/>
<div class="caption">
Remote display mode</div></div>
<p>Slave unit configuration file example:</p>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">window_management=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
</div><!-- fragment --><p>This option would disable application autolaunch. MAC will create only one GUI region (GUI region id - 0) and wait for incoming connection. Master unit needs to list slave unit IP addresses.</p>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">display =:0 10.184.14.255:0 10.101.10.59:0</div>
</div><!-- fragment --><p>Listed units will be provided on all applications in GUI_DISPLAY environment. Application can use any of remote displays by passing display id to ADK-GUI API. This example will send hello text to unit 10.101.10.59.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> display = 2;</div>
<div class="line"><span class="keywordtype">int</span> region_id = 0;</div>
<div class="line">std::string text = <span class="stringliteral">&quot;hello world!&quot;</span></div>
<div class="line"><a class="code" href="namespacevfigui.html#a016ce5f26e09bf3f341484fe9b302491">vfigui::uiDisplay</a>( display, region_id, text);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>When system boots it will wait for remote displays to appear online, only after that applications will be started.</dd></dl>
<p>If connection to remote GUI server happens via unstable transport level, GUI keep alive can be configured. GUI invokes disconnect callback after certain amount of keep alive packets is lost.<br  />
Disconnect callback performs stopping of all MAC launched applications (except service applications with <code>resident=y</code> in autolaunch manifest section, see <a class="el" href="pg_mac_users_guide.html#sec_mac_mft">Appendix: Application manifest file</a>) before reinitialization of the MAC daemon.</p>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">keep_alive_count=3 </div>
<div class="line">keep_alive_interval=2 </div>
</div><!-- fragment --><p>VOS1/VOS2: Display IP addresses can also bet set using /mnt/flash/config/config.system system configuration file. Example configuration file sets two displays. First one the local one. Second - remote one, accessible by IP.</p>
<p>Example: </p><div class="fragment"><div class="line">[mac]</div>
<div class="line">gui_display = <span class="stringliteral">&quot;:0 10.184.14.255:0&quot;</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Value in system configuration file has higher priority than the one in MAC configuration file.</dd>
<dd>
After setting GUI_DISPLAY value terminal should be rebooted.</dd>
<dd>
Check GUI documentation for more details.</dd>
<dd>
Ux115 without Ux100 pinpad will operate in remote display mode by default.</dd></dl>
<h1><a class="anchor" id="sec_mac_battery"></a>
Appendix: Battery status control (VOS2 platform)</h1>
<p>During autolaunch MAC will check battery status. If status is NOK warning will be shown on display for 60 seconds and then boot will continue. This feature is enabled by default. It can be disabled in MAC config file. Example:</p>
<div class="fragment"><div class="line">[power_management]</div>
<div class="line">battery_status_control=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
</div><!-- fragment --><div class="image">
<img src="battery_fault_launcher.png" alt=""/>
<div class="caption">
Battery failure warning</div></div>
<p>During autolaunch MAC can also check battery level and prevent applications from starting if battery level is too low. Default battery level threshold is 3600 (3.6V). It can be changed in MAC configuration file. Battery level check is disabled by default.</p>
<div class="fragment"><div class="line">[power_management]</div>
<div class="line">battery_level_control=y</div>
<div class="line">battery_level_threshold_mV=3600</div>
</div><!-- fragment --><div class="image">
<img src="battery_low_launcher.png" alt=""/>
<div class="caption">
Battery level warning</div></div>
<div class="image">
<img src="battery_low_charging_launcher.png" alt=""/>
<div class="caption">
Battery is charging</div></div>
<h1><a class="anchor" id="sec_mac_devices"></a>
Appendix: Devices</h1>
<p><b>Ux115</b></p>
<p>On Ux115 MAC will check for Ux100 pinpad during startup. If MAC will detect pinpad - it will boot full ADK. If pinpad is not connected, MAC will assume that unit operates in remote display mode. MAC will disable most of the functionality (e.g. desktop, statusbar, GUI region management). It will create only one GUI region, which can be used by other connected terminals. Configuration file can be used to enforce or disable remote display mode.</p>
<div class="fragment"><div class="line">[gui]</div>
<div class="line">window_management=<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacevfimac_html_aff611b7f21a2748fdc138db0718a481b"><div class="ttname"><a href="namespacevfimac.html#aff611b7f21a2748fdc138db0718a481b">vfimac::sysLaunchCPAppFromDesktopSync</a></div><div class="ttdeci">MAC_API macError sysLaunchCPAppFromDesktopSync(const std::string &amp;trigger_id, const vfiipc::JSObject &amp;param, int flags=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_a5a32e6fc3ca601108ec200e0bebf10a1"><div class="ttname"><a href="namespacevfimac.html#a5a32e6fc3ca601108ec200e0bebf10a1">vfimac::sysGetGUIRegionId</a></div><div class="ttdeci">MAC_API macError sysGetGUIRegionId(const std::string &amp;appid, int &amp;gui_region_id)</div></div>
<div class="ttc" id="anamespacevfimac_html_a1f0513c597f95e860f0d4e516d72b364"><div class="ttname"><a href="namespacevfimac.html#a1f0513c597f95e860f0d4e516d72b364">vfimac::sysLockLayout</a></div><div class="ttdeci">MAC_API macError sysLockLayout(bool enable)</div></div>
<div class="ttc" id="anamespacevfimac_html_a6f771d3743e177bce7b7d79c26cf3036"><div class="ttname"><a href="namespacevfimac.html#a6f771d3743e177bce7b7d79c26cf3036">vfimac::sysStatusbarRefresh</a></div><div class="ttdeci">MAC_API macError sysStatusbarRefresh()</div></div>
<div class="ttc" id="anamespacevfimac_html_a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa70f8a1ce4507a2faab7727edee56f25b"><div class="ttname"><a href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa70f8a1ce4507a2faab7727edee56f25b">vfimac::MAC_KBD_NUMERIC</a></div><div class="ttdeci">@ MAC_KBD_NUMERIC</div><div class="ttdef"><b>Definition:</b> mac.h:84</div></div>
<div class="ttc" id="anamespacevfimac_html_ad5c53e66bd56f6368628fbbeaa514622"><div class="ttname"><a href="namespacevfimac.html#ad5c53e66bd56f6368628fbbeaa514622">vfimac::sysStopOtherApps</a></div><div class="ttdeci">MAC_API macError sysStopOtherApps()</div></div>
<div class="ttc" id="anamespacevfimac_html_a3bc43cdb5f4033e625bb6dc7e1579d4b"><div class="ttname"><a href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4b">vfimac::macEvent</a></div><div class="ttdeci">macEvent</div><div class="ttdef"><b>Definition:</b> mac.h:91</div></div>
<div class="ttc" id="anamespacevfigui_html_af8b1a2c34408a1c5b1267c0a43e4f4ee"><div class="ttname"><a href="namespacevfigui.html#af8b1a2c34408a1c5b1267c0a43e4f4ee">vfigui::uiPrint</a></div><div class="ttdeci">DllSpec std::string uiPrint(const char *format,...)</div></div>
<div class="ttc" id="anamespacevfimac_html_a424b735dc0296a43429f6dfeab802fa4"><div class="ttname"><a href="namespacevfimac.html#a424b735dc0296a43429f6dfeab802fa4">vfimac::sysToForeground</a></div><div class="ttdeci">MAC_API macError sysToForeground(const std::string &amp;appid)</div></div>
<div class="ttc" id="anamespacevfiipc_html_a3ad101cda0c973d26791bd8f194d4b80"><div class="ttname"><a href="namespacevfiipc.html#a3ad101cda0c973d26791bd8f194d4b80">vfiipc::ipcNotify</a></div><div class="ttdeci">DllSpec enum NotifyResult ipcNotify(const std::string &amp;to, const std::string &amp;notification_id, const vfiipc::JSObject &amp;param, unsigned flags=0, const std::string &amp;from=&quot;&quot;)</div></div>
<div class="ttc" id="anamespacevfimac_html_a4aa74ec3d2bd8a53334045452b21820f"><div class="ttname"><a href="namespacevfimac.html#a4aa74ec3d2bd8a53334045452b21820f">vfimac::systemNotificationRemove</a></div><div class="ttdeci">MAC_API macError systemNotificationRemove(int id)</div></div>
<div class="ttc" id="anotify_8h_html"><div class="ttname"><a href="notify_8h.html">notify.h</a></div></div>
<div class="ttc" id="anamespacevfimac_html_a0d95ca7aac6a37040b0e2135d9f134d1"><div class="ttname"><a href="namespacevfimac.html#a0d95ca7aac6a37040b0e2135d9f134d1">vfimac::sysGetCPAppRootDir</a></div><div class="ttdeci">MAC_API macError sysGetCPAppRootDir(std::string &amp;path)</div></div>
<div class="ttc" id="anamespacevfimac_html_ac3325831385c4e7755c3d96575db9496"><div class="ttname"><a href="namespacevfimac.html#ac3325831385c4e7755c3d96575db9496">vfimac::sysStatusbarState</a></div><div class="ttdeci">MAC_API macError sysStatusbarState(bool &amp;visible)</div></div>
<div class="ttc" id="anamespacevfimac_html_a9145ab384964062fa95dd07ad6cc7480"><div class="ttname"><a href="namespacevfimac.html#a9145ab384964062fa95dd07ad6cc7480">vfimac::sysLibMac_GetVersion</a></div><div class="ttdeci">const MAC_API char * sysLibMac_GetVersion()</div></div>
<div class="ttc" id="anamespacevfimac_html_aec38c483c58974ddb58d576d9f7ac2f0"><div class="ttname"><a href="namespacevfimac.html#aec38c483c58974ddb58d576d9f7ac2f0">vfimac::sysScanManifests</a></div><div class="ttdeci">MAC_API macError sysScanManifests()</div></div>
<div class="ttc" id="a_web_service_wrappers_8c_html_a6e248376c0290338633d8137822eb209"><div class="ttname"><a href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a></div><div class="ttdeci">char value(char c)</div><div class="ttdef"><b>Definition:</b> WebServiceWrappers.c:86</div></div>
<div class="ttc" id="anamespacevfimac_html_a085b2f637d5f82e4ee2812baf24eba46"><div class="ttname"><a href="namespacevfimac.html#a085b2f637d5f82e4ee2812baf24eba46">vfimac::sysShowPowerControlPanel</a></div><div class="ttdeci">MAC_API macError sysShowPowerControlPanel()</div></div>
<div class="ttc" id="anamespacevfimac_html_abb5ddef3187ac018cda433a3aec2c6fb"><div class="ttname"><a href="namespacevfimac.html#abb5ddef3187ac018cda433a3aec2c6fb">vfimac::sysShowProgress</a></div><div class="ttdeci">MAC_API macError sysShowProgress(const std::string &amp;info, size_t percent)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download_html_a304112f7ef47146835af811ec803c9b0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">vficom::cmdparam::in::stk_write::msg::env::event_download::event</a></div><div class="ttdeci">const COM3_DllSpec char event[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevfimac_html_a56bd229ab93be9b2ee7ae2f95d10c166"><div class="ttname"><a href="namespacevfimac.html#a56bd229ab93be9b2ee7ae2f95d10c166">vfimac::sysFullscreenMode</a></div><div class="ttdeci">MAC_API macError sysFullscreenMode(bool enable)</div></div>
<div class="ttc" id="anamespacevfimac_html_a3bc43cdb5f4033e625bb6dc7e1579d4baa4bcbb24c61f7b837ca19df0d94be56d"><div class="ttname"><a href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4baa4bcbb24c61f7b837ca19df0d94be56d">vfimac::EVENT_MANIFEST_UPDATE</a></div><div class="ttdeci">@ EVENT_MANIFEST_UPDATE</div><div class="ttdef"><b>Definition:</b> mac.h:94</div></div>
<div class="ttc" id="agroup__vfigui_html_gga83f7c4e297519549c9a54137e2eab4fea2ee7809161321af15ef84d5655faeb38"><div class="ttname"><a href="group__vfigui.html#gga83f7c4e297519549c9a54137e2eab4fea2ee7809161321af15ef84d5655faeb38">UI_ERR_CONNECTION_LOST</a></div><div class="ttdeci">@ UI_ERR_CONNECTION_LOST</div><div class="ttdef"><b>Definition:</b> gui_error.h:33</div></div>
<div class="ttc" id="anamespacevfimac_html_a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f"><div class="ttname"><a href="namespacevfimac.html#a343256ae5f150542a1f6a38fcaca216cae7c1d68ad552537bb450a291714bc71f">vfimac::MAC_ERR_OK</a></div><div class="ttdeci">@ MAC_ERR_OK</div><div class="ttdef"><b>Definition:</b> mac.h:34</div></div>
<div class="ttc" id="anamespacevfigui_html"><div class="ttname"><a href="namespacevfigui.html">vfigui</a></div><div class="ttdef"><b>Definition:</b> gui.h:27</div></div>
<div class="ttc" id="anamespacevfimac_html_a5b63071e5232000be8cd04e2950b28b2"><div class="ttname"><a href="namespacevfimac.html#a5b63071e5232000be8cd04e2950b28b2">vfimac::sysRelaunchApps</a></div><div class="ttdeci">MAC_API macError sysRelaunchApps()</div></div>
<div class="ttc" id="anamespacevfigui_html_a98d3ffe172afda1fbc4586f09af7606c"><div class="ttname"><a href="namespacevfigui.html#a98d3ffe172afda1fbc4586f09af7606c">vfigui::uiMenu</a></div><div class="ttdeci">DllSpec int uiMenu(int display, int region_id, const std::string &amp;templateName, const std::string &amp;text, const struct UIMenuEntry menu[], int menusize, int preselect, uiCallback cb=0, void *cbdata=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_a3d1d0138ae66b9a9e03ae518de7ecf63a365b0d10413f98eb889815324f8baa8c"><div class="ttname"><a href="namespacevfimac.html#a3d1d0138ae66b9a9e03ae518de7ecf63a365b0d10413f98eb889815324f8baa8c">vfimac::KEEP_IN_BACKGROUND</a></div><div class="ttdeci">@ KEEP_IN_BACKGROUND</div><div class="ttdef"><b>Definition:</b> mac.h:75</div></div>
<div class="ttc" id="anamespacevfimac_html_a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa55c180fc86b4f765cabde2dd43046205"><div class="ttname"><a href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa55c180fc86b4f765cabde2dd43046205">vfimac::MAC_KBD_ON</a></div><div class="ttdeci">@ MAC_KBD_ON</div><div class="ttdef"><b>Definition:</b> mac.h:82</div></div>
<div class="ttc" id="anamespacevfimac_html_a2e646f58a5f98e1b01ccae0a576ab8cf"><div class="ttname"><a href="namespacevfimac.html#a2e646f58a5f98e1b01ccae0a576ab8cf">vfimac::sysMac_GetVersion</a></div><div class="ttdeci">const MAC_API char * sysMac_GetVersion()</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1stk__status_html_ab4544ed7ac29b175d220bc3866c13d2c"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">vficom::cmdparam::out::stk_status::status</a></div><div class="ttdeci">const COM3_DllSpec char status[]</div><div class="ttdoc">string - returns &quot;on&quot; or &quot;off&quot;</div></div>
<div class="ttc" id="anamespacevfimac_html_a395a73335aa92641a3ac0967fc0bb200"><div class="ttname"><a href="namespacevfimac.html#a395a73335aa92641a3ac0967fc0bb200">vfimac::sysShowControlPanel</a></div><div class="ttdeci">MAC_API macError sysShowControlPanel()</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_a23bdc20544ca28878b1ffea144ac2730"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#a23bdc20544ca28878b1ffea144ac2730">vfiipc::JSObject::getString</a></div><div class="ttdeci">std::string getString() const</div></div>
<div class="ttc" id="anamespacevfimac_html_a807e4d61017fe99f6f6c66a8bd37ad08"><div class="ttname"><a href="namespacevfimac.html#a807e4d61017fe99f6f6c66a8bd37ad08">vfimac::sysGetAppList</a></div><div class="ttdeci">MAC_API macError sysGetAppList(vfiipc::JSObject &amp;applist)</div></div>
<div class="ttc" id="anamespacevfigui_html_af5812cac4b8cd48873fcac4608f3082d"><div class="ttname"><a href="namespacevfigui.html#af5812cac4b8cd48873fcac4608f3082d">vfigui::uiInvokeURL</a></div><div class="ttdeci">DllSpec int uiInvokeURL(int display, int region_id, stringmap &amp;value, const char *url, uiCallback cb=0, void *cbdata=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_a443df02ff6897b4a9e6cb5973f5842b2"><div class="ttname"><a href="namespacevfimac.html#a443df02ff6897b4a9e6cb5973f5842b2">vfimac::sysGetStatusbarValues</a></div><div class="ttdeci">MAC_API macError sysGetStatusbarValues(std::map&lt; std::string, std::string &gt; &amp;values)</div></div>
<div class="ttc" id="anamespacevfimac_html_a77748eeae43d8b50145564d0022ad886"><div class="ttname"><a href="namespacevfimac.html#a77748eeae43d8b50145564d0022ad886">vfimac::sysLaunchAppid</a></div><div class="ttdeci">MAC_API macError sysLaunchAppid(const std::string &amp;appid, const std::vector&lt; std::string &gt; &amp;args, const std::map&lt; std::string, std::string &gt; &amp;envs, int params=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_ae4108c74c16f2f512405ba326843109a"><div class="ttname"><a href="namespacevfimac.html#ae4108c74c16f2f512405ba326843109a">vfimac::sysSetEventCallback</a></div><div class="ttdeci">MAC_API macError sysSetEventCallback(macEvent event, macEventCallback cb)</div></div>
<div class="ttc" id="anamespacevfimac_html_a3cb1620e29b7920b2b53560c1cae71fe"><div class="ttname"><a href="namespacevfimac.html#a3cb1620e29b7920b2b53560c1cae71fe">vfimac::sysSetCPEnvData</a></div><div class="ttdeci">MAC_API macError sysSetCPEnvData(const vfiipc::JSObject &amp;envs)</div></div>
<div class="ttc" id="anamespacevfimac_html_a9dea7108a3a1efc9a1cc087e18548c59"><div class="ttname"><a href="namespacevfimac.html#a9dea7108a3a1efc9a1cc087e18548c59">vfimac::sysStopAllCPApps</a></div><div class="ttdeci">MAC_API macError sysStopAllCPApps()</div></div>
<div class="ttc" id="anamespacevfiipc_html_a88455cb389891217791604f188ac0fa5"><div class="ttname"><a href="namespacevfiipc.html#a88455cb389891217791604f188ac0fa5">vfiipc::ipcSetAppID</a></div><div class="ttdeci">DllSpec void ipcSetAppID(const std::string &amp;app_id)</div></div>
<div class="ttc" id="anamespacevfimac_html_af8d28bc2c3fa0398b42f840088f59a4bae45a50bf56795bda968dfc1694ad2871"><div class="ttname"><a href="namespacevfimac.html#af8d28bc2c3fa0398b42f840088f59a4bae45a50bf56795bda968dfc1694ad2871">vfimac::SYSTEM_NOTIFICATION_INFO</a></div><div class="ttdeci">@ SYSTEM_NOTIFICATION_INFO</div><div class="ttdef"><b>Definition:</b> mac.h:122</div></div>
<div class="ttc" id="anamespacevfigui_html_a0c064fcc5409b0845e11925a55f324bdaf9c20f0de4be24280c450e8e7872e8bd"><div class="ttname"><a href="namespacevfigui.html#a0c064fcc5409b0845e11925a55f324bdaf9c20f0de4be24280c450e8e7872e8bd">vfigui::UI_PROP_CIRCULAR_MENU</a></div><div class="ttdeci">@ UI_PROP_CIRCULAR_MENU</div><div class="ttdef"><b>Definition:</b> gui.h:581</div></div>
<div class="ttc" id="anamespacevfimac_html_a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa1897eb426573ca469062c0af6ffe0db2"><div class="ttname"><a href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fa1897eb426573ca469062c0af6ffe0db2">vfimac::MAC_KBD_AUTO</a></div><div class="ttdeci">@ MAC_KBD_AUTO</div><div class="ttdef"><b>Definition:</b> mac.h:83</div></div>
<div class="ttc" id="anamespacevfimac_html_a49a2afa866d86f54ab20603abcb7eb45"><div class="ttname"><a href="namespacevfimac.html#a49a2afa866d86f54ab20603abcb7eb45">vfimac::systemNotificationList</a></div><div class="ttdeci">MAC_API macError systemNotificationList(std::list&lt; int &gt; &amp;list)</div></div>
<div class="ttc" id="anamespacevfisdi_html_a28287671eaf7406afd604bd055ba4066a936c4a5547a9360243178f726f6b2715"><div class="ttname"><a href="namespacevfisdi.html#a28287671eaf7406afd604bd055ba4066a936c4a5547a9360243178f726f6b2715">vfisdi::FAIL</a></div><div class="ttdeci">@ FAIL</div><div class="ttdef"><b>Definition:</b> sdi_enum.h:12</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_a535976112a5480b2957b0030cff36b68"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">vfiipc::JSObject::dump</a></div><div class="ttdeci">void dump(std::string &amp;s, bool(*filter_cb)(const std::string &amp;key)) const</div></div>
<div class="ttc" id="anamespacevfigui_html_a016ce5f26e09bf3f341484fe9b302491"><div class="ttname"><a href="namespacevfigui.html#a016ce5f26e09bf3f341484fe9b302491">vfigui::uiDisplay</a></div><div class="ttdeci">DllSpec int uiDisplay(int display, int region_id, const std::string &amp;text)</div></div>
<div class="ttc" id="anamespacevfimac_html_a57f7a1edb91c7479e4c2b2916a252822"><div class="ttname"><a href="namespacevfimac.html#a57f7a1edb91c7479e4c2b2916a252822">vfimac::sysStopAppid</a></div><div class="ttdeci">MAC_API macError sysStopAppid(const std::string &amp;appid)</div></div>
<div class="ttc" id="anamespacevfigui_html_a30b5d12037b46ee2ab8261bd9edcc047"><div class="ttname"><a href="namespacevfigui.html#a30b5d12037b46ee2ab8261bd9edcc047">vfigui::uiConfirm</a></div><div class="ttdeci">DllSpec int uiConfirm(int display, int region_id, const std::string &amp;templateName, const std::string &amp;text, uiCallback cb=0, void *cbdata=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_a6c72ec8391307ac42e3c9d044eac36e2"><div class="ttname"><a href="namespacevfimac.html#a6c72ec8391307ac42e3c9d044eac36e2">vfimac::sysSetStatusbarValues</a></div><div class="ttdeci">MAC_API macError sysSetStatusbarValues(const std::map&lt; std::string, std::string &gt; &amp;values)</div></div>
<div class="ttc" id="anamespacevfiipc_html_a625ae82cd0bc99851ccb8a8ffdcaea1e"><div class="ttname"><a href="namespacevfiipc.html#a625ae82cd0bc99851ccb8a8ffdcaea1e">vfiipc::ipcRegisterNotificationCB</a></div><div class="ttdeci">DllSpec enum NotifyResult ipcRegisterNotificationCB(const std::string &amp;notification_id, NotifyCallback cb, void *data, int priority=0, const std::string &amp;to=&quot;&quot;)</div></div>
<div class="ttc" id="anamespacevfimac_html"><div class="ttname"><a href="namespacevfimac.html">vfimac</a></div><div class="ttdef"><b>Definition:</b> mac.h:19</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_a024d40cda59916fb9470299c7338d3e3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">vficom::cmdparam::in::ussd_write::n</a></div><div class="ttdeci">const COM3_DllSpec char n[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevfimac_html_a45f53838cafde90263046e5844717399"><div class="ttname"><a href="namespacevfimac.html#a45f53838cafde90263046e5844717399">vfimac::sysInvokeCPAppAction</a></div><div class="ttdeci">MAC_API macError sysInvokeCPAppAction(const std::string &amp;appid, const std::string &amp;name, int display_id=0, unsigned int flags=0)</div></div>
<div class="ttc" id="anamespacevfimac_html_a9c942ac576c34a0e8dbd8cd69935a807"><div class="ttname"><a href="namespacevfimac.html#a9c942ac576c34a0e8dbd8cd69935a807">vfimac::sysStatusbar</a></div><div class="ttdeci">MAC_API macError sysStatusbar(bool visible)</div></div>
<div class="ttc" id="anamespacevfimac_html_a3bc43cdb5f4033e625bb6dc7e1579d4ba5919ad4670c8e825ad53aba144805df5"><div class="ttname"><a href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4ba5919ad4670c8e825ad53aba144805df5">vfimac::EVENT_FOREGROUND</a></div><div class="ttdeci">@ EVENT_FOREGROUND</div><div class="ttdef"><b>Definition:</b> mac.h:98</div></div>
<div class="ttc" id="anamespacevfimac_html_a404d8e38300385724b2d2ed306df863e"><div class="ttname"><a href="namespacevfimac.html#a404d8e38300385724b2d2ed306df863e">vfimac::sysShowDesktop</a></div><div class="ttdeci">MAC_API macError sysShowDesktop()</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys_html_afd95b3d6f9333bb89f82ba0c38dccfd3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#afd95b3d6f9333bb89f82ba0c38dccfd3">vficom::cmdparam::out::wlan_scan::json_keys::group</a></div><div class="ttdeci">const COM3_DllSpec char group[]</div><div class="ttdoc">Int, group cipher, com_WLANCipherTypes.</div></div>
<div class="ttc" id="anamespacevfimac_html_a6b24cb5e42ba92f571a4f000e2ed0230"><div class="ttname"><a href="namespacevfimac.html#a6b24cb5e42ba92f571a4f000e2ed0230">vfimac::sysStopAllUserApps</a></div><div class="ttdeci">MAC_API macError sysStopAllUserApps()</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> tlv.h:13</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a></div><div class="ttdef"><b>Definition:</b> jsobject.h:28</div></div>
<div class="ttc" id="anamespacevfimac_html_a7ecd7d8b8c98bd60b3a7d95dc5da7c5faacf7fd09da851474c48e57ae2b9246d5"><div class="ttname"><a href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5faacf7fd09da851474c48e57ae2b9246d5">vfimac::MAC_KBD_ALPHANUMERIC</a></div><div class="ttdeci">@ MAC_KBD_ALPHANUMERIC</div><div class="ttdef"><b>Definition:</b> mac.h:85</div></div>
<div class="ttc" id="aipc_2src_2ipc_2jsobject_8h_html"><div class="ttname"><a href="ipc_2src_2ipc_2jsobject_8h.html">jsobject.h</a></div></div>
<div class="ttc" id="amac_8h_html"><div class="ttname"><a href="mac_8h.html">mac.h</a></div></div>
<div class="ttc" id="anamespacevfigui_html_structvfigui_1_1_u_i_menu_entry"><div class="ttname"><a href="namespacevfigui.html#structvfigui_1_1_u_i_menu_entry">vfigui::UIMenuEntry</a></div><div class="ttdef"><b>Definition:</b> gui_template.h:253</div></div>
<div class="ttc" id="anamespacevfimac_html_abcf911819fbee784ef245fe34aa9572c"><div class="ttname"><a href="namespacevfimac.html#abcf911819fbee784ef245fe34aa9572c">vfimac::sysSetAppid</a></div><div class="ttdeci">MAC_API macError sysSetAppid(const std::string &amp;appid)</div></div>
<div class="ttc" id="anamespacevfigui_html_a7144a4bea5f4f98d9b3c45d95959389b"><div class="ttname"><a href="namespacevfigui.html#a7144a4bea5f4f98d9b3c45d95959389b">vfigui::uiInvokeURLAsync</a></div><div class="ttdeci">DllSpec int uiInvokeURLAsync(int display, int region_id, const stringmap &amp;value, const char *url, uiAsyncCallback cb=0, void *data=0)</div></div>
<div class="ttc" id="anamespacevfigui_html_a1b6f8628a0f9ae48eafa86f55315ba7e"><div class="ttname"><a href="namespacevfigui.html#a1b6f8628a0f9ae48eafa86f55315ba7e">vfigui::uiScreenshotPNG</a></div><div class="ttdeci">DllSpec int uiScreenshotPNG(int display, const char *filename)</div></div>
<div class="ttc" id="agui_8h_html"><div class="ttname"><a href="gui_8h.html">gui.h</a></div></div>
<div class="ttc" id="anamespacevfimac_html_a738e18eb97f53b402e01c6ee391b2607"><div class="ttname"><a href="namespacevfimac.html#a738e18eb97f53b402e01c6ee391b2607">vfimac::sysUnSetAppid</a></div><div class="ttdeci">MAC_API macError sysUnSetAppid()</div></div>
<div class="ttc" id="anamespacevfimac_html_a3bc43cdb5f4033e625bb6dc7e1579d4bac8f0e13a5042856ad22cc0ba40ac5062"><div class="ttname"><a href="namespacevfimac.html#a3bc43cdb5f4033e625bb6dc7e1579d4bac8f0e13a5042856ad22cc0ba40ac5062">vfimac::EVENT_BACKGROUND</a></div><div class="ttdeci">@ EVENT_BACKGROUND</div><div class="ttdef"><b>Definition:</b> mac.h:99</div></div>
<div class="ttc" id="anamespacevfimac_html_a438d8362980527e345759c52a2615071"><div class="ttname"><a href="namespacevfimac.html#a438d8362980527e345759c52a2615071">vfimac::sysInForeground</a></div><div class="ttdeci">MAC_API macError sysInForeground(std::string &amp;appid)</div></div>
<div class="ttc" id="anamespacevfigui_html_ac94648784fbac056c2d259dbfc3e50aa"><div class="ttname"><a href="namespacevfigui.html#ac94648784fbac056c2d259dbfc3e50aa">vfigui::uiSetPropertyInt</a></div><div class="ttdeci">DllSpec int uiSetPropertyInt(int display, enum UIPropertyInt property, int value)</div></div>
<div class="ttc" id="anamespacevfigui_html_a99fb83031ce9923c84392b4e92f956b5ab7c758bc6ba3fd0e57fbb46ee178b43f"><div class="ttname"><a href="namespacevfigui.html#a99fb83031ce9923c84392b4e92f956b5ab7c758bc6ba3fd0e57fbb46ee178b43f">vfigui::UI_REGION_DEFAULT</a></div><div class="ttdeci">@ UI_REGION_DEFAULT</div><div class="ttdef"><b>Definition:</b> gui.h:118</div></div>
<div class="ttc" id="anamespacevfimac_html_a287906c2724d813bb1eb0ad1f3b4f18a"><div class="ttname"><a href="namespacevfimac.html#a287906c2724d813bb1eb0ad1f3b4f18a">vfimac::sysVirtualKeyboard</a></div><div class="ttdeci">MAC_API macError sysVirtualKeyboard(macKeyboard mode)</div></div>
<div class="ttc" id="anamespacevfimac_html_a509d985b46d2fe8d772bd749888fd1ab"><div class="ttname"><a href="namespacevfimac.html#a509d985b46d2fe8d772bd749888fd1ab">vfimac::sysLaunchCPAppFromDesktop</a></div><div class="ttdeci">MAC_API macError sysLaunchCPAppFromDesktop(const std::string &amp;trigger_id, const std::vector&lt; std::string &gt; &amp;param)</div></div>
<div class="ttc" id="anamespacevfimac_html_ac4a12edca6083bfb03386f390d67bc3d"><div class="ttname"><a href="namespacevfimac.html#ac4a12edca6083bfb03386f390d67bc3d">vfimac::systemNotificationAdd</a></div><div class="ttdeci">MAC_API int systemNotificationAdd(systemNotificationPriority p, const std::string &amp;message, bool sticky=false)</div></div>
<div class="ttc" id="anamespacevfimac_html_a7ecd7d8b8c98bd60b3a7d95dc5da7c5fad6499892dc5c2341c9a29774e4a5b8ae"><div class="ttname"><a href="namespacevfimac.html#a7ecd7d8b8c98bd60b3a7d95dc5da7c5fad6499892dc5c2341c9a29774e4a5b8ae">vfimac::MAC_KBD_CAPITALIZED</a></div><div class="ttdeci">@ MAC_KBD_CAPITALIZED</div><div class="ttdef"><b>Definition:</b> mac.h:86</div></div>
<div class="ttc" id="anamespacevfimac_html_aae05286692566c22ef2d18a69748c5fe"><div class="ttname"><a href="namespacevfimac.html#aae05286692566c22ef2d18a69748c5fe">vfimac::sysIsRunning</a></div><div class="ttdeci">MAC_API macError sysIsRunning(const std::string &amp;appid, bool &amp;running)</div></div>
<div class="ttc" id="amain_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> main.cpp:1237</div></div>
<div class="ttc" id="anamespacevfimac_html_a86f520239eb2af7b49b1bc31dfc20906"><div class="ttname"><a href="namespacevfimac.html#a86f520239eb2af7b49b1bc31dfc20906">vfimac::sysInstallCPApp</a></div><div class="ttdeci">MAC_API macError sysInstallCPApp(const std::string &amp;path)</div></div>
<div class="ttc" id="anamespacevfimac_html_a86cff41093ff1ab578ff1c54f47c5062"><div class="ttname"><a href="namespacevfimac.html#a86cff41093ff1ab578ff1c54f47c5062">vfimac::sysLaunchCPAppByTrigger</a></div><div class="ttdeci">MAC_API macError sysLaunchCPAppByTrigger(const std::string &amp;appid, const std::string &amp;trigger_id, const vfiipc::JSObject &amp;param, unsigned int flags)</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="system_overview.html">System Overview</a></li><li class="navelem"><a class="el" href="pg_all_components.html">ADK Components</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:04:01 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
