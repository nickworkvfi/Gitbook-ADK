<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: sdi/src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;svcsec.h&gt;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="madk__pp__protocol_8h_source.html">madk_pp_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e2_e___e_m_v___c_t___serialize_8h_source.html">emv/E2E_EMV_CT_Serialize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e2_e___e_m_v___c_t_l_s___serialize_8h_source.html">emv/E2E_EMV_CTLS_Serialize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t___link_8h_source.html">emv/EMV_CT_Link.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t_l_s___link_8h_source.html">emv/EMV_CTLS_Link.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btlv__helper_8h_source.html">btlv_helper.h</a>&quot;</code><br />
<code>#include &quot;epp/counterTop.h&quot;</code><br />
<code>#include &quot;epp/epp.h&quot;</code><br />
<code>#include &quot;pthread.h&quot;</code><br />
<code>#include &quot;emv.h&quot;</code><br />
<code>#include &quot;emv_ctls.h&quot;</code><br />
<code>#include &quot;card_dt.h&quot;</code><br />
<code>#include &quot;cardranges.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_8h_source.html">sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2ped_8h_source.html">ped.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disp_8h_source.html">disp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="msr_8h_source.html">msr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crypt_8h_source.html">crypt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sysinfo_8h_source.html">sysinfo/sysinfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui__mode_8h_source.html">ui_mode.h</a>&quot;</code><br />
<code>#include &quot;data.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sec_8h_source.html">sec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nfc_8h_source.html">nfc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2prt_8h_source.html">prt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vcl__ser_8h_source.html">vcl_ser.h</a>&quot;</code><br />
<code>#include &quot;vcl_client.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2hexutil_8h_source.html">hexutil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="__logf_8h_source.html">_logf.h</a>&quot;</code><br />
<code>#include &quot;version.h&quot;</code><br />
<code>#include &quot;msr/msr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="tec_8h_source.html">tec/tec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;config/sdi_sysconfig.h&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2sdi__tags_8h_source.html">sdi_tags.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="loadplugin_8h_source.html">loadplugin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pthreadutil_8h_source.html">pthreadutil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filesystem_8h_source.html">filesystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libsec_8h_source.html">sec/libsec.h</a>&quot;</code><br />
<code>#include &quot;csd.h&quot;</code><br />
<code>#include &quot;csd-version.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sdikeyservice_8h_source.html">sdikeyservice.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tracefilter_8h_source.html">tracefilter.h</a>&quot;</code><br />
<code>#include &quot;filterconfig.h&quot;</code><br />
<code>#include &quot;emv_common.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae27eea42be89a6e50555732afafcfb8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ae27eea42be89a6e50555732afafcfb8f">SET_RESULT</a>(sw1,  sw2)&#160;&#160;&#160;{ rsp[0] = sw1; rsp[1] = sw2; rspSize = 2; }</td></tr>
<tr class="separator:ae27eea42be89a6e50555732afafcfb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d73028d6db233c7834cca0de7ab7792"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a3d73028d6db233c7834cca0de7ab7792">CHECK_MAXSIZE</a>(maxsize)</td></tr>
<tr class="separator:a3d73028d6db233c7834cca0de7ab7792"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeeb65deaf7e0b30961e4cb56c8105b41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aeeb65deaf7e0b30961e4cb56c8105b41">sdi_exit</a> (int status)</td></tr>
<tr class="separator:aeeb65deaf7e0b30961e4cb56c8105b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2640a9e85a15b5c3a3e800e532939c67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a2640a9e85a15b5c3a3e800e532939c67">pm_criticalSection</a> ()</td></tr>
<tr class="separator:a2640a9e85a15b5c3a3e800e532939c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c5a1b173cf19d42db73a73a1ad6d90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a11c5a1b173cf19d42db73a73a1ad6d90">pm_setCriticalSection</a> (bool enable)</td></tr>
<tr class="separator:a11c5a1b173cf19d42db73a73a1ad6d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2d81ce0635e8bfeaae7cb9134309ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#adc2d81ce0635e8bfeaae7cb9134309ec">checkLibraryVersion</a> ()</td></tr>
<tr class="separator:adc2d81ce0635e8bfeaae7cb9134309ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14410a47bc85fc785f5b90cfaaae8c4c"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a14410a47bc85fc785f5b90cfaaae8c4c">check_mac_decrypt</a> (unsigned char *cmd, unsigned &amp;cmdSize, vector&lt; unsigned char &gt; &amp;out)</td></tr>
<tr class="separator:a14410a47bc85fc785f5b90cfaaae8c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbfee7a8a87cdb842e06759f4f2bb40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a9dbfee7a8a87cdb842e06759f4f2bb40">dispatch</a> (vector&lt; unsigned char &gt; &amp;cmd)</td></tr>
<tr class="separator:a9dbfee7a8a87cdb842e06759f4f2bb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4892e1b795462119ef4d6fa87c860b90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4892e1b795462119ef4d6fa87c860b90">process_side_command</a> (unsigned char *cmd, unsigned size)</td></tr>
<tr class="separator:a4892e1b795462119ef4d6fa87c860b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaaba1a94d121b39429bb3696a654492b"><td class="memItemLeft" align="right" valign="top">SDITrxData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aaaba1a94d121b39429bb3696a654492b">sdiData</a></td></tr>
<tr class="separator:aaaba1a94d121b39429bb3696a654492b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8518ee19337dc0debb1f831ada96dd6"><td class="memItemLeft" align="right" valign="top">LibLogHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ab8518ee19337dc0debb1f831ada96dd6">logHandle</a> = 0</td></tr>
<tr class="separator:ab8518ee19337dc0debb1f831ada96dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8680a87737255cae9f7249240818f118"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8680a87737255cae9f7249240818f118">g_mutexEppSendReceive</a></td></tr>
<tr class="separator:a8680a87737255cae9f7249240818f118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3d73028d6db233c7834cca0de7ab7792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d73028d6db233c7834cca0de7ab7792">&#9670;&nbsp;</a></span>CHECK_MAXSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_MAXSIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">maxsize</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <span class="keywordflow">if</span> (<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">size</a> &gt; maxsize) {    \</div>
<div class="line">     _LOGF_ERROR(<span class="stringliteral">&quot;%s(cmd=%p,size=%u): failed, max. message size %lu exceeded&quot;</span>, __FUNCTION__, cmd, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">size</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)maxsize); \</div>
<div class="line">     rspSize = 2;          \</div>
<div class="line">     if (rsp.size() &lt; rspSize)\</div>
<div class="line">       rsp.resize(rspSize);\</div>
<div class="line">     rsp[0] = 0x64;        \</div>
<div class="line">     rsp[1] = 0xFE;        \</div>
<div class="line">     break; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae27eea42be89a6e50555732afafcfb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae27eea42be89a6e50555732afafcfb8f">&#9670;&nbsp;</a></span>SET_RESULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_RESULT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sw1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sw2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ rsp[0] = sw1; rsp[1] = sw2; rspSize = 2; }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a14410a47bc85fc785f5b90cfaaae8c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14410a47bc85fc785f5b90cfaaae8c4c">&#9670;&nbsp;</a></span>check_mac_decrypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short check_mac_decrypt </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned &amp;&#160;</td>
          <td class="paramname"><em>cmdSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>see <a class="el" href="main_8h.html">main.h</a> for details description </p>

</div>
</div>
<a id="adc2d81ce0635e8bfeaae7cb9134309ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc2d81ce0635e8bfeaae7cb9134309ec">&#9670;&nbsp;</a></span>checkLibraryVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkLibraryVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9dbfee7a8a87cdb842e06759f4f2bb40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbfee7a8a87cdb842e06759f4f2bb40">&#9670;&nbsp;</a></span>dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dispatch </td>
          <td>(</td>
          <td class="paramtype">vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="crdsync-demo_8cpp-example.html#a1">crdsync-demo.cpp</a>, <a class="el" href="demo-sysinfo_8cpp-example.html#a4">demo-sysinfo.cpp</a>, <a class="el" href="mac_demo1_8cpp-example.html#a4">mac_demo1.cpp</a>, <a class="el" href="mac_demo2_8cpp-example.html#a4">mac_demo2.cpp</a>, <a class="el" href="mac_demo3_8cpp-example.html#a2">mac_demo3.cpp</a>, and <a class="el" href="pm-demo_8cpp-example.html#a9">pm-demo.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a2640a9e85a15b5c3a3e800e532939c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2640a9e85a15b5c3a3e800e532939c67">&#9670;&nbsp;</a></span>pm_criticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pm_criticalSection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>check if SDI has entered critical PM section with <a class="el" href="main_8h.html#a11c5a1b173cf19d42db73a73a1ad6d90">pm_setCriticalSection()</a>. </p><dl class="section return"><dt>Returns</dt><dd>true if SDI has entered critical PM section, else false. </dd></dl>

</div>
</div>
<a id="a11c5a1b173cf19d42db73a73a1ad6d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c5a1b173cf19d42db73a73a1ad6d90">&#9670;&nbsp;</a></span>pm_setCriticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pm_setCriticalSection </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enter/leave critical section of power management (PM). If true is passed for parameter <em>enable</em>, it invokes <a class="el" href="namespacevfisyspm.html#ac46060410ba78b557470d51eb9c90feb">sys_CriticalSectionEnter()</a>, in case of false <a class="el" href="namespacevfisyspm.html#a1fe354c573d66613fbae37897509cf04">sys_CriticalSectionExit()</a> is called. For more details please refer to documentation of ADKPM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>true to enter critical PM section false to leave critical PM section </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4892e1b795462119ef4d6fa87c860b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4892e1b795462119ef4d6fa87c860b90">&#9670;&nbsp;</a></span>process_side_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool process_side_command </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to process a command as a side command, which was triggered by a side connection with protocol type 'C' asynchronously or by an asynchronous command with protocol type 'D'. The function is invoked by SDI connection thread (such as invoking <a class="el" href="classm_a_d_k___p_p___prot.html#ab390ac45aaaa013d33bcef40d625f142">mADK_PP_Prot::set_command()</a>), thus, these threads are fully decoupled from SDI main thread processing (see function <a class="el" href="main_8h.html#afdcd133c96d68afb81d874f88786367e">dispatch()</a>). Subfunctions invoked by <a class="el" href="main_8h.html#a4892e1b795462119ef4d6fa87c860b90">process_side_command()</a> are invoked simultaneously, thus, they must be implemented thread-safe!!! If the command is not supported to be executed as a side command, the function returns false, which means that the command requires execution of <a class="el" href="main_8h.html#afdcd133c96d68afb81d874f88786367e">dispatch()</a> with the SDI main thread. Side commands just have restricted access to SDI function scope and do not support intermediate messages like requests (callbacks) or aborts, they just use internal function <a class="el" href="classm_a_d_k___p_p___prot.html#a1f13b08d59a38adeb5d755179befa6b8">mADK_PP_Prot::send()</a> to reply the command. Therefore, side commands are usually short-term in nature. </p><dl class="section note"><dt>Note</dt><dd>This function is not allowed to use protocol function like <a class="el" href="classm_a_d_k___p_p___prot.html#ab2e55bafa77bcbdbeda4258ecadd5357">mADK_PP_Prot::receive()</a>, <a class="el" href="classm_a_d_k___p_p___prot.html#a345e47376ab38e76aa77b2bd774b104d">mADK_PP_Prot::command()</a>, <a class="el" href="classm_a_d_k___p_p___prot.html#a1630f914c3dbf9ebc62ad6a5c7f9ebd9">mADK_PP_Prot::request()</a> or <a class="el" href="classm_a_d_k___p_p___prot.html#a0bb666307a7aa15fc7aae63d454e4394">mADK_PP_Prot::recv_response()</a>. These APIs are only allowed for SDI application threads (main thread and siblings), which process commands received on the main connection (see function <a class="el" href="main_8h.html#afdcd133c96d68afb81d874f88786367e">dispatch()</a>). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>pointer to command buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of command buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was executed and rsp contains a response, false in case invocation is not allowed by a side command and requires execution of <a class="el" href="main_8h.html#afdcd133c96d68afb81d874f88786367e">dispatch()</a> with the SDI main thread. </dd></dl>

</div>
</div>
<a id="aeeb65deaf7e0b30961e4cb56c8105b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb65deaf7e0b30961e4cb56c8105b41">&#9670;&nbsp;</a></span>sdi_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sdi_exit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>depending on platform SDI must call exit() or _exit(). This function ensures to use the correct variant, therefore, it shall be used instead of using functions of stdlib directly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>exit code of SDI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8680a87737255cae9f7249240818f118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8680a87737255cae9f7249240818f118">&#9670;&nbsp;</a></span>g_mutexEppSendReceive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t g_mutexEppSendReceive</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8518ee19337dc0debb1f831ada96dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8518ee19337dc0debb1f831ada96dd6">&#9670;&nbsp;</a></span>logHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LibLogHandle logHandle = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaaba1a94d121b39429bb3696a654492b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaba1a94d121b39429bb3696a654492b">&#9670;&nbsp;</a></span>sdiData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SDITrxData sdiData</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_ae0d180616fe53dddd61f70c62526b0db"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">vficom::cmdparam::in::ping::size</a></div><div class="ttdeci">const COM3_DllSpec char size[]</div><div class="ttdoc">integer - [optional] use &quot;size&quot; as number of data bytes to be sent, default 56</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_44d926a17fc606d3c25449ba60427c63.html">sdi</a></li><li class="navelem"><a class="el" href="dir_048f823fee1bfb22502a8732b9a001aa.html">src</a></li><li class="navelem"><a class="el" href="main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:57 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
