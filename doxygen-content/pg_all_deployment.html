<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: ADK Runtime System Deployment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_all_deployment.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADK Runtime System Deployment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document details the deployment of ADK component on run-time systems. ADK components can be composed of a daemon or server process and link libraries for applications. Client (application) link libraries are provided as static and shared libraries. Other ADK components just offer a static or shared library and do not require a daemon process.</p>
<h1><a class="anchor" id="sec_deploy_daemons"></a>
Daemons and Servers</h1>
<p>Daemons implement shared services that can be used by multiple applications concurrently. These are independent run-time binaries and need to be installed in the terminal. Please note that not all ADK components have a daemon process depending on the service they offer.</p>
<p>Access to the services of a ADK daemon/server is provided through an application client library (either shared or static). These client libraries provides a programming API for applications and hide the interprocess communication between the application process and the daemon/server process.</p>
<p>The ADK daemons and servers are system signed. This is to enable the loading of the ADK components during production as a static factory image.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Component </th><th class="markdownTableHeadNone">Ports </th><th class="markdownTableHeadNone">Purpose  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EMV CT </td><td class="markdownTableBodyNone">5801, 5803 </td><td class="markdownTableBodyNone">EMV CT server port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EMV CT </td><td class="markdownTableBodyNone">5803 </td><td class="markdownTableBodyNone">EMV CT server callback port  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EMV CT </td><td class="markdownTableBodyNone">5811/5813 </td><td class="markdownTableBodyNone">stunnel  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EMV CTLS </td><td class="markdownTableBodyNone">5802 </td><td class="markdownTableBodyNone">EMV CTLS server port (changed from 5902)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EMV CTLS </td><td class="markdownTableBodyNone">5804 </td><td class="markdownTableBodyNone">EMV CTLS server callback port (changed from 5904)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EMV CTLS </td><td class="markdownTableBodyNone">5812/5814 </td><td class="markdownTableBodyNone">stunnel  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MSR </td><td class="markdownTableBodyNone">5820 </td><td class="markdownTableBodyNone">MSR server port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MSR </td><td class="markdownTableBodyNone">5821..5824 </td><td class="markdownTableBodyNone">stunnel  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TEC </td><td class="markdownTableBodyNone">5825 </td><td class="markdownTableBodyNone">TEC server port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TEC </td><td class="markdownTableBodyNone">5826..5829 </td><td class="markdownTableBodyNone">stunnel  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GUI </td><td class="markdownTableBodyNone">5900..5909 </td><td class="markdownTableBodyNone">10 internal displays  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GUI </td><td class="markdownTableBodyNone">5910..5919 </td><td class="markdownTableBodyNone">10 external displays  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PRT </td><td class="markdownTableBodyNone">5950..5959 </td><td class="markdownTableBodyNone">10 internal printers  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PRT </td><td class="markdownTableBodyNone">5960..5969 </td><td class="markdownTableBodyNone">10 external printers  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADKCPR </td><td class="markdownTableBodyNone">8888 </td><td class="markdownTableBodyNone">HTTP Proxy server port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SDI </td><td class="markdownTableBodyNone">12000 </td><td class="markdownTableBodyNone">SDI server port  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPC </td><td class="markdownTableBodyNone">5899 </td><td class="markdownTableBodyNone">Notification server port (VOS/VOS2 only)  </td></tr>
</table>
<h1><a class="anchor" id="sec_deploy_sharedlibs"></a>
Shared Libraries</h1>
<p>Shared libraries are provided to share ADK code between multiple applications running on the terminal. These libraries can be linked with different applications and are installed as separate binaries on the terminal. Shared libraries are installed at shared location so that applications running under different user accounts can use those.</p>
<p>The ADK shared libraries are system signed, to</p><ul>
<li>store it once at a common location and share it from different applications</li>
<li>to enable the loading of ADK components in production as a static factory image</li>
</ul>
<h1><a class="anchor" id="sec_deploy_staticlibs"></a>
Static Libraries</h1>
<p>Some ADK components are also delivering static link libraries. This allows applications to link ADK code statically with their applications. However, this duplicates code in case multiple applications are using the same static library.</p>
<dl class="section note"><dt>Note</dt><dd>Applications need to link with either static or shared library of an ADK component, but not both!</dd></dl>
<h1><a class="anchor" id="sec_deploy_variants"></a>
Variants and Options</h1>
<p>Beside static and shared libraries, some ADK components offer different implementations of the same API or require to select a particular implementation based on regulation and certifications.</p>
<p>Examples:</p><ul>
<li>EMV CT: there are different EMV contact L2 kernels and version that can be used with the same EMV CT Framework library.</li>
<li>EMV CTLS: there are different L2 kernels and payment schemes that can be used with the same EMV CTLS Framework library.</li>
<li>COM: different implementations of client library to use XML or Information Database</li>
<li>GUI, PRT: different versions of the GUI</li>
<li>VATS: there are VATS test-framework enabled variants of some ADK components (e.g. GUI, PRT, EMV)</li>
</ul>
<p>Depending on the use case users need to pick the correct variant of the ADK library or daemon/server.</p>
<h1><a class="anchor" id="sec_deploy_users"></a>
OS User Assignment</h1>
<p>V/OS </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">User </th><th class="markdownTableHeadNone">Components </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Sys6 </td><td class="markdownTableBodyNone">AGT User ID reserved for VHQ services </td><td class="markdownTableBodyNone">Sys6 is reserved for VHQ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Sys13 </td><td class="markdownTableBodyNone">GUIPRT server, MAC (SYS), CCP </td><td class="markdownTableBodyNone">Sys13 (browser user) applications are deactivated on sysmode start  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Sys12 </td><td class="markdownTableBodyNone">COM daemon, All ADK shared libraries </td><td class="markdownTableBodyNone">Sys12 is the general user ID for ADK components if no special behaviour is needed.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">UsrX </td><td class="markdownTableBodyNone">Security Service, EMV libs and services </td><td class="markdownTableBodyNone">These components are provided with the default user ID and need to be signed with a sponsor certificate  </td></tr>
</table>
<h1><a class="anchor" id="sec_deploy_config"></a>
System Startup and Configuration</h1>
<p>The default system configuration is to start the MAC on top of all other required ADK services (GUIPRT, COM, LOG). As a background service, the VHQ Terminal Agent is running on top of its ADK dependencies (COM, LOG). The Communication Control Panel (CCP) and Log Control Panel are present on the MAC desktop as a default system application.</p>
<p><b>V/OS:</b></p><ul>
<li>All ADK services are started from Secure Installer, if they are installed in the system.</li>
<li>Modifying the default system startup configuration is done by de-installing the respective service from the system. That's why all system signed ADK packages need to provide a removal package. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="system_deployment_and_configuration.html">System Deployment and Configuration</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:58 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
