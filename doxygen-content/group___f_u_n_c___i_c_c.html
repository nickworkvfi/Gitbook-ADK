<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: Functions for transparent ICC access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___f_u_n_c___i_c_c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions for transparent ICC access<div class="ingroups"><a class="el" href="group___a_d_k___i_c_c___i_f.html">ICC Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Functions for transparent ICC access:</div>
<div class="dyncontent">
<div class="center"><img src="group___f_u_n_c___i_c_c.png" border="0" usemap="#group______f__u__n__c______i__c__c" alt=""/></div>
<map name="group______f__u__n__c______i__c__c" id="group______f__u__n__c______i__c__c">
<area shape="rect" href="group___a_d_k___i_c_c___i_f.html" title="Definitions used for functions EMV_CT_SmartISO(), EMV_CT_SmartReset(), EMV_CT_SmartPowerOff(),..." alt="" coords="5,13,112,38"/>
<area shape="rect" title=" " alt="" coords="160,5,345,45"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5290215f61c323842d712a8ad130c758"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga5290215f61c323842d712a8ad130c758">EMV_CTLS_TransparentCommand</a> (unsigned short usInDataLen, unsigned char *pucDataIn, unsigned short *pusOutDataLen, unsigned char *pucDataOut)</td></tr>
<tr class="memdesc:ga5290215f61c323842d712a8ad130c758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparently send a command to the reader and receive it's response.  <a href="group___f_u_n_c___i_c_c.html#ga5290215f61c323842d712a8ad130c758">More...</a><br /></td></tr>
<tr class="separator:ga5290215f61c323842d712a8ad130c758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91409ddd42bd277e1be3157f6c3bd445"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga91409ddd42bd277e1be3157f6c3bd445">EMV_CTLS_TransparentSend</a> (unsigned short usInDataLen, unsigned char *pucDataIn)</td></tr>
<tr class="memdesc:ga91409ddd42bd277e1be3157f6c3bd445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparently send a command to the reader.  <a href="group___f_u_n_c___i_c_c.html#ga91409ddd42bd277e1be3157f6c3bd445">More...</a><br /></td></tr>
<tr class="separator:ga91409ddd42bd277e1be3157f6c3bd445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13fd81242d6f2012ffade242f069a7f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga13fd81242d6f2012ffade242f069a7f0">EMV_CTLS_TransparentReceive</a> (unsigned short *pusOutDataLen, unsigned char *pucDataOut)</td></tr>
<tr class="memdesc:ga13fd81242d6f2012ffade242f069a7f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent VFI reader access: Receive a response.  <a href="group___f_u_n_c___i_c_c.html#ga13fd81242d6f2012ffade242f069a7f0">More...</a><br /></td></tr>
<tr class="separator:ga13fd81242d6f2012ffade242f069a7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbcdb0278723b9629eb7c12532119e2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#gafbcdb0278723b9629eb7c12532119e2d">EMV_CTLS_SmartISO</a> (unsigned char ucOptions, unsigned short usInDataLen, unsigned char *pucDataIn, unsigned short *pusOutDataLen, unsigned char *pucDataOut, unsigned short usOutBufferLength)</td></tr>
<tr class="memdesc:gafbcdb0278723b9629eb7c12532119e2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send chip card command and receive response.  <a href="group___f_u_n_c___i_c_c.html#gafbcdb0278723b9629eb7c12532119e2d">More...</a><br /></td></tr>
<tr class="separator:gafbcdb0278723b9629eb7c12532119e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2c93f30f24ceb94c930a7cae2b36116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#gae2c93f30f24ceb94c930a7cae2b36116">EMV_CTLS_SmartReset</a> (unsigned char ucOptions, unsigned char *pucCardInfo, unsigned long *pnInfoLength)</td></tr>
<tr class="memdesc:gae2c93f30f24ceb94c930a7cae2b36116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect if card is present in the RF field (read ATR)  <a href="group___f_u_n_c___i_c_c.html#gae2c93f30f24ceb94c930a7cae2b36116">More...</a><br /></td></tr>
<tr class="separator:gae2c93f30f24ceb94c930a7cae2b36116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd0716253a50b2791ac4e2a1627d1e8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#gadd0716253a50b2791ac4e2a1627d1e8d">EMV_CTLS_SmartPowerOff</a> (unsigned char ucOptions)</td></tr>
<tr class="memdesc:gadd0716253a50b2791ac4e2a1627d1e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate chip card.  <a href="group___f_u_n_c___i_c_c.html#gadd0716253a50b2791ac4e2a1627d1e8d">More...</a><br /></td></tr>
<tr class="separator:gadd0716253a50b2791ac4e2a1627d1e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga728923e6e6be8867cf954b7c8d4414d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga728923e6e6be8867cf954b7c8d4414d5">EMV_CT_SmartISO</a> (unsigned char ucOptions, unsigned short usInDataLen, unsigned char *pucDataIn, unsigned short *pusOutDataLen, unsigned char *pucDataOut, unsigned short usOutBufferLength)</td></tr>
<tr class="memdesc:ga728923e6e6be8867cf954b7c8d4414d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">send chip card command and receive response  <a href="group___f_u_n_c___i_c_c.html#ga728923e6e6be8867cf954b7c8d4414d5">More...</a><br /></td></tr>
<tr class="separator:ga728923e6e6be8867cf954b7c8d4414d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62577d8d938685a65dd2b326cb03522d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga62577d8d938685a65dd2b326cb03522d">EMV_CT_SmartDetect</a> (unsigned char ucOptions)</td></tr>
<tr class="memdesc:ga62577d8d938685a65dd2b326cb03522d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect if chip card is inserted in card reader (in readable position)  <a href="group___f_u_n_c___i_c_c.html#ga62577d8d938685a65dd2b326cb03522d">More...</a><br /></td></tr>
<tr class="separator:ga62577d8d938685a65dd2b326cb03522d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa63515431ea6f33b113fa7af5562db11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#gaa63515431ea6f33b113fa7af5562db11">EMV_CT_SmartReset</a> (unsigned char ucOptions, unsigned char *pucATR, unsigned long *pnATRLength)</td></tr>
<tr class="memdesc:gaa63515431ea6f33b113fa7af5562db11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect if chip card is inserted in card reader (read ATR)  <a href="group___f_u_n_c___i_c_c.html#gaa63515431ea6f33b113fa7af5562db11">More...</a><br /></td></tr>
<tr class="separator:gaa63515431ea6f33b113fa7af5562db11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab99f6946bd7815a64a54be66652c2840"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#gab99f6946bd7815a64a54be66652c2840">EMV_CT_SmartPowerOff</a> (unsigned char ucOptions)</td></tr>
<tr class="memdesc:gab99f6946bd7815a64a54be66652c2840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate chip card.  <a href="group___f_u_n_c___i_c_c.html#gab99f6946bd7815a64a54be66652c2840">More...</a><br /></td></tr>
<tr class="separator:gab99f6946bd7815a64a54be66652c2840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1399e33e4c57a10554adbb2aa16d4dcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_u_n_c___i_c_c.html#ga1399e33e4c57a10554adbb2aa16d4dcb">EMV_CT_SmartPIN</a> (const unsigned char *INICCRandom, const unsigned char *PubKeyData, int PubKeyLen, int Exponent, unsigned char *pucPINResultData)</td></tr>
<tr class="memdesc:ga1399e33e4c57a10554adbb2aa16d4dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encipher PIN and send VERIFY command.  <a href="group___f_u_n_c___i_c_c.html#ga1399e33e4c57a10554adbb2aa16d4dcb">More...</a><br /></td></tr>
<tr class="separator:ga1399e33e4c57a10554adbb2aa16d4dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga62577d8d938685a65dd2b326cb03522d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62577d8d938685a65dd2b326cb03522d">&#9670;&nbsp;</a></span>EMV_CT_SmartDetect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char EMV_CT_SmartDetect </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect if chip card is inserted in card reader (in readable position) </p>
<p>Explanation in programmers guide: <a class="el" href="pg_emv_contact_users_guide.html#anchor_emv_ct_Detecting_a_Smart_Card">Detecting a Smart Card</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td><a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga587dd4015878756c25a1d9ffebf0d1c5" title="L1 reader options  ucOptions in EMV_CT_SmartISO()">TAG_DF06_CARDREADER_NUM</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a>, additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
</dd></dl>

</div>
</div>
<a id="ga728923e6e6be8867cf954b7c8d4414d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga728923e6e6be8867cf954b7c8d4414d5">&#9670;&nbsp;</a></span>EMV_CT_SmartISO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char EMV_CT_SmartISO </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usInDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>pusOutDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usOutBufferLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send chip card command and receive response </p>
<p>Explanation in programmers guide: <a class="el" href="pg_emv_contact_users_guide.html#anchor_emv_ct_Send_an_ISO_Command_to_a_Smart_Card">ISO Command to a Smart Card</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td><a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga587dd4015878756c25a1d9ffebf0d1c5" title="L1 reader options  ucOptions in EMV_CT_SmartISO()">TAG_DF06_CARDREADER_NUM</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">usInDataLen,pucDataIn</td><td>Chip card command <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga1b30281b8c35ec19eff77088f39e3cc4" title="Tag for ISO data.">TAG_ISO_DATA</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">usOutBufferLength</td><td>Length of output buffer <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gaeaaf508a20730c94b9be9320a9bdb17a" title="RFU.">TAG_DF3B_PARAMETER_1</a>, optional, length 2, default 512 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pusOutDataLen,pucDataOut</td><td>Chip card response (with leading status word SW1/2) <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga1b30281b8c35ec19eff77088f39e3cc4" title="Tag for ISO data.">TAG_ISO_DATA</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a>, additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucDataIn, pucDataOut or pusOutDataLen input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
</dd></dl>

</div>
</div>
<a id="ga1399e33e4c57a10554adbb2aa16d4dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1399e33e4c57a10554adbb2aa16d4dcb">&#9670;&nbsp;</a></span>EMV_CT_SmartPIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char EMV_CT_SmartPIN </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>INICCRandom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>PubKeyData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PubKeyLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Exponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucPINResultData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encipher PIN and send VERIFY command. </p>
<p>This function extends the transparent card access function group. It is only required if the control flow is outside the framework. Otherwise you should call EMV_CT_Send_PIN_Offline, no matter if PIN is enciphered or plain because this function will not be allowed.</p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">INICCRandom</td><td>ICC random number extracted from Get Challenge response (8 bytes) <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gaeaaf508a20730c94b9be9320a9bdb17a" title="RFU.">TAG_DF3B_PARAMETER_1</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PubKeyData</td><td>PIN verification public key modulus <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gaf84423fc102deeb813ec75aa301facca" title="CAP Key Modulus  Tag, Struct, XML Reference:   TLV tag TAG_KEY_KEY,   Key in EMV_CT_CAPKEY_STRUCT::Ke...">TAG_KEY_KEY</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PubKeyLen</td><td>length of PubKeyData in bytes <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gaf84423fc102deeb813ec75aa301facca" title="CAP Key Modulus  Tag, Struct, XML Reference:   TLV tag TAG_KEY_KEY,   Key in EMV_CT_CAPKEY_STRUCT::Ke...">TAG_KEY_KEY</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Exponent</td><td>PIN verification public key exponent (0 for 2, 1 for 3, 16 for 65537) <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga3301dc858f4033e7100dae7d71a7e1e0" title="CAP Key Exponent  Tag, Struct, XML Reference:   TLV tag TAG_KEY_EXPONENT,   Exponent in EMV_CT_CAPKEY...">TAG_KEY_EXPONENT</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pucPINResultData</td><td>PIN result data (usually 2 bytes length + status word SW12, buffer size 4 bytes) <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga1b30281b8c35ec19eff77088f39e3cc4" title="Tag for ISO data.">TAG_ISO_DATA</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a>, additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
</dd></dl>

</div>
</div>
<a id="gab99f6946bd7815a64a54be66652c2840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab99f6946bd7815a64a54be66652c2840">&#9670;&nbsp;</a></span>EMV_CT_SmartPowerOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char EMV_CT_SmartPowerOff </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivate chip card. </p>
<p>Explanation in programmers guide: <a class="el" href="pg_emv_contact_users_guide.html#anchor_emv_ct_Deactivate_a_Smart_Card">Deactivate a Smart Card</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td><a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga587dd4015878756c25a1d9ffebf0d1c5" title="L1 reader options  ucOptions in EMV_CT_SmartISO()">TAG_DF06_CARDREADER_NUM</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a>, additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
</dd></dl>

</div>
</div>
<a id="gaa63515431ea6f33b113fa7af5562db11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa63515431ea6f33b113fa7af5562db11">&#9670;&nbsp;</a></span>EMV_CT_SmartReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t___interface_8h.html#aba0ead6baeabe51c5f4fe870feb9ec16">DLL_CTC</a> unsigned char EMV_CT_SmartReset </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucATR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>pnATRLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect if chip card is inserted in card reader (read ATR) </p>
<p>Explanation in programmers guide: <a class="el" href="pg_emv_contact_users_guide.html#anchor_emv_ct_Activating_a_Smart_Card">Activating a Smart Card</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td><a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#ga587dd4015878756c25a1d9ffebf0d1c5" title="L1 reader options  ucOptions in EMV_CT_SmartISO()">TAG_DF06_CARDREADER_NUM</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pucATR</td><td>ATR (min. 40 bytes must be allocated) <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gab1407242b600fb767fd9fba4cbee2221" title="Answer to Reset from ICC (EMV_CT_SmartReset in call of EMV_CT_SmartReset()), n byte binary.">TAG_ATR</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pnATRLength</td><td>ATR length <br  />
 TLV tag <a class="el" href="group___v_e_r_i___p_r_i_m___t_a_g_s.html#gab1407242b600fb767fd9fba4cbee2221" title="Answer to Reset from ICC (EMV_CT_SmartReset in call of EMV_CT_SmartReset()), n byte binary.">TAG_ATR</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a>, additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucATR or pnATRLength input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
</dd></dl>

</div>
</div>
<a id="gafbcdb0278723b9629eb7c12532119e2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbcdb0278723b9629eb7c12532119e2d">&#9670;&nbsp;</a></span>EMV_CTLS_SmartISO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_SmartISO </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usInDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>pusOutDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usOutBufferLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send chip card command and receive response. </p>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#gabca70fa6b551edc49bd98ac79f50bfbf" title="Instruction byte for EMV_CT_SmartISO, used with CLA_CRD.">INS_ICC_ISO</a></p>
<p><a class="el" href="pg_emv_contactless_users_guide.html#anchor_emv_ctls_Send_an_ISO_Command_to_a_Contactless_Smart_Card">Explanation in programmers guide</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td>... <a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">usInDataLen,pucDataIn</td><td>... chip card command </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">usOutBufferLength</td><td>... max length of output buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pusOutDataLen,pucDataOut</td><td>... chip card response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a> <br  />
 additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucDataIn, pusOutDataLen or pucDataOut input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
</dd></dl>

</div>
</div>
<a id="gadd0716253a50b2791ac4e2a1627d1e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd0716253a50b2791ac4e2a1627d1e8d">&#9670;&nbsp;</a></span>EMV_CTLS_SmartPowerOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_SmartPowerOff </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivate chip card. </p>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#gad4ec43d9380ec71d8c396270b5d34bc2" title="Instruction byte for EMV_CT_SmartPowerOff, used with CLA_CRD.">INS_ICC_OFF</a></p>
<p><a class="el" href="pg_emv_contactless_users_guide.html#anchor_emv_ctls_Deactivate_a_Smart_Card">Explanation in programmers guide</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td>... <a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a> <br  />
 additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
</dd></dl>

</div>
</div>
<a id="gae2c93f30f24ceb94c930a7cae2b36116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2c93f30f24ceb94c930a7cae2b36116">&#9670;&nbsp;</a></span>EMV_CTLS_SmartReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_SmartReset </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucCardInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>pnInfoLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect if card is present in the RF field (read ATR) </p>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga93317ba7df100e161844932dbd20698f" title="Instruction byte for EMV_CT_SmartReset, used with CLA_CRD.">INS_ICC_RESET</a></p>
<p><a class="el" href="pg_emv_contactless_users_guide.html#anchor_emv_ctls_Activating_a_Contactless_Smart_Card">Explanation in programmers guide</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucOptions</td><td><a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html">Options for ICC access</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pucCardInfo</td><td>Card type, 0: No card, 1: ISO14443A, 2: ISO14443B, for non-EMV values see OS header picc.h <br  />
 appended if available and option <a class="el" href="group___a_d_k___i_c_c___o_p_t_i_o_n.html#gaf76e7512eb2306d14e6ffead7564b399" title="(Vel: y VFI: n) EMV_CTLS_SmartReset() ucOptions: Provide card type plus UID if available as card info...">EMV_CTLS_RESET_NO_EMV</a>: UID (1 byte data length, n byte data) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pnInfoLength</td><td>in: allocated size of pucCardInfo, out: Number of bytes written to pucCardInfo</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="group___s_m_a_r_t___s_t_a_t_u_s.html">Smart status</a> <br  />
 additionally possible:<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucCardInfo or pnInfoLength input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
</dd></dl>

</div>
</div>
<a id="ga5290215f61c323842d712a8ad130c758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5290215f61c323842d712a8ad130c758">&#9670;&nbsp;</a></span>EMV_CTLS_TransparentCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_TransparentCommand </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usInDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>pusOutDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transparently send a command to the reader and receive it's response. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000062">Deprecated:</a></b></dt><dd>except for VFI reader on VOS-1</dd></dl>
<p>This function has limited functionality. <br  />
 In case the restrictions are not acceptable for your need: <br  />
 Use <a class="el" href="group___f_u_n_c___i_c_c.html#ga91409ddd42bd277e1be3157f6c3bd445" title="Transparently send a command to the reader.">EMV_CTLS_TransparentSend()</a> and <a class="el" href="group___f_u_n_c___i_c_c.html#ga13fd81242d6f2012ffade242f069a7f0" title="Transparent VFI reader access: Receive a response.">EMV_CTLS_TransparentReceive()</a> instead. <br  />
 Restrictions: </p><ul>
<li>Internal timeout to wait for a response is 3 seconds. </li>
<li>Protocol 1 commands not supported. As these commands have (sometimes) double responses.</li>
</ul>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#gaa274137086fb28a0e9697deb17555113" title="Instruction byte for EMV_CTLS_TransparentCommand, used with CLA_CRD.">INS_ICC_TRANS</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usInDataLen,pucDataIn</td><td>... reader command </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pusOutDataLen,pucDataOut</td><td>... reader response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga1456bb13b42906927f8a8942169b62e7" title="Function successful, no error.">EMV_ADK_OK</a>: success<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucDataIn, pusOutDataLen or pucDataOut input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga7ffea44a30b0451d393487eae4035b4e" title="CT &amp; CTLS: not executable.">EMV_ADK_NO_EXEC</a>: not VFI reader<br  />
</dd></dl>

</div>
</div>
<a id="ga13fd81242d6f2012ffade242f069a7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13fd81242d6f2012ffade242f069a7f0">&#9670;&nbsp;</a></span>EMV_CTLS_TransparentReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_TransparentReceive </td>
          <td>(</td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>pusOutDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transparent VFI reader access: Receive a response. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000064">Deprecated:</a></b></dt><dd>except for VFI reader on VOS-1</dd></dl>
<p>A command can be sent with help of <a class="el" href="group___f_u_n_c___i_c_c.html#ga91409ddd42bd277e1be3157f6c3bd445" title="Transparently send a command to the reader.">EMV_CTLS_TransparentSend()</a></p>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#gab3ddc4213a9aaf815a80fcf39dffa699" title="Instruction byte for EMV_CTLS_TransparentReceive, used with CLA_CRD.">INS_ICC_RECEIVE</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pusOutDataLen,pucDataOut</td><td>... reader response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga1456bb13b42906927f8a8942169b62e7" title="Function successful, no error.">EMV_ADK_OK</a>: success<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pusOutDataLen or pucDataOut input params<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga7ffea44a30b0451d393487eae4035b4e" title="CT &amp; CTLS: not executable.">EMV_ADK_NO_EXEC</a>: not VFI reader<br  />
</dd></dl>

</div>
</div>
<a id="ga91409ddd42bd277e1be3157f6c3bd445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91409ddd42bd277e1be3157f6c3bd445">&#9670;&nbsp;</a></span>EMV_CTLS_TransparentSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_m_v___c_t_l_s___interface_8h.html#a0c075561565f443dd054da7871da8462">DLL_CLC</a> unsigned char EMV_CTLS_TransparentSend </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>usInDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pucDataIn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transparently send a command to the reader. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000063">Deprecated:</a></b></dt><dd>except for VFI reader on VOS-1</dd></dl>
<p>Use <a class="el" href="group___f_u_n_c___i_c_c.html#ga13fd81242d6f2012ffade242f069a7f0" title="Transparent VFI reader access: Receive a response.">EMV_CTLS_TransparentReceive()</a> to fetch the response.</p>
<p>Transport tags used for serialization: <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga5bba87bf3fef52692566815cace38934" title="Class for ICC functions.">CLA_CRD</a> <a class="el" href="group___a_d_k___t_r_a_n_s_p_o_r_t___t_a_g_s.html#ga25d2323eddf0061e3eadabbbfe766638" title="Instruction byte for EMV_CTLS_TransparentSend, used with CLA_CRD.">INS_ICC_SEND</a></p>
<dl class="section author"><dt>Author</dt><dd>GSS R&amp;D Germany</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usInDataLen,pucDataIn</td><td>... reader command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga1456bb13b42906927f8a8942169b62e7" title="Function successful, no error.">EMV_ADK_OK</a>: success<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga89c11346e5e636e7c9d42c6a772674bf" title="CT &amp; CTLS: Parameter error (wrong parameter was passed to the function)">EMV_ADK_PARAM</a>: bad pucDataIn input param<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga4837e54c589150debdef49afb8f9b5db" title="CT &amp; CTLS: Error in TLV data object = internal error.">EMV_ADK_TLV_BUILD_ERR</a>: TLV processing problem<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#gab0e8158b5e7019f0da44c5cbc37bae3d" title="CT &amp; CTLS: e.g. erroneous communication to PINPad, internal error, not (completely) initialized (func...">EMV_ADK_INTERNAL</a>: internal communication problem, illegal file content, memory allocation<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga3a1d800696b9d7a86c0e39068d3fde57" title="Parallel function call not allowed.">EMV_ADK_NOT_ALLOWED</a>: function not allowed in a concurrent call or not allowed within callback<br  />
 <a class="el" href="group___a_d_k___r_e_t___c_o_d_e.html#ga7ffea44a30b0451d393487eae4035b4e" title="CT &amp; CTLS: not executable.">EMV_ADK_NO_EXEC</a>: not VFI reader<br  />
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 16 2025 16:04:03 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
