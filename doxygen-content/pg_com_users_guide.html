<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: ADK-COM Programmers Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_com_users_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADK-COM Programmers Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Preface"></a>
Preface</h1>
<p>This document is for programmers and developers who want to understand and use the ADK Communication Service.</p>
<h2><a class="anchor" id="subsec_com_audience"></a>
Audience</h2>
<p>This guide provides information on the usage of the ADK Communication Service (ADK-COM). Only parts relating to the application programming interface (API) of ADK-COM are discussed here. The API is implemented by the libcom library. Operations implemented inside libcom require a service (also referred to as "comdaemon") to be running on the local machine. For information on the Com Control Panel (CCP), which is also part of ADK-COM, please refer to its own documentation.</p>
<h2><a class="anchor" id="subsec_com_organization"></a>
Organization</h2>
<p>This guide is organized as follows:</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_introduction">Chapter 1, Introduction</a>: Introduction to ADK-COM.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_getting_started">Chapter 2, Getting Started</a>: Shows the framework concepts.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_programming">Chapter 3, Programming</a>: Presents common uses.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_extended_cpp_interface">Chapter 4, Extended C++ interface</a>: Description of the extended API interface</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_platformsupport">Chapter 5, System Setup and Requirements</a>: Compiler and linker settings, dependencies to other components, environment setup.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_troubleshooting">Chapter 6, Troubleshooting</a>: Solutions for possible issues.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A_Migrating">Appendix A: Migrating Between Releases</a>: Information regarding migrating from version 1.x to 2.x and from 2.x to 3.x</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_B_Bluetooth">Appendix B: Bluetooth</a>: Information regarding various Bluetooth topics</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_C_Glossary">Appendix C: Glossary</a>: Listing and definitions of various acronyms and terms</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_D_Devices">Appendix D: Devices</a>: Device-specific information.</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_E_Modem_profiles">Appendix E: Modem country profiles</a>: Modem country settings</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_F_Sysmode">Appendix F: Sysmode</a>: Information about triggering sysmode while ADKCOM app is running</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_G_Bluetooth_GATT">Appendix G: GATT Server functionality</a>: Information about setting up a GATT server and reading/writing GATT characteristics</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_H_Bluetooth_Extended">Appendix H: Extended Bluetooth pairing</a>: Information about the extended Bluetooth pairing functionality</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_I_Beacons">Appendix I: Beacons</a>: Information about iBeacons/Eddystone beacons</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_J_Virtual_Channels">Appendix J: Virtual channels</a>: Information about virtual channel functionality</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_K_FF_Base_Configuration">Appendix K: BT FF Base Configuration</a>: Information about configuring FF base mode for BT PAN</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_L_CM5">Appendix L: CM5 Raptor configuration</a>: Information about configuring the CM5 (SDI-Server)</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_M_GPRS_ALWAYS_ON">Appendix M: GPRS Always ON - Best Practices</a>: information about keeping a GPRS connection alive, even with network-side idle disconnects</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_N_WLAN_Regulations">Appendix N: WLAN country specific regulations</a>: Information about setting the terminals WLAN country code</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_O_EVENTS_CHEAT_SHEET">Appendix O: Network Events cheat sheet</a>: Information about how to handele ADK-COM network events on different interfaces</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_P_POWER_MODE">Appendix P: Powering Devices behaviour</a>: Information on automatic / manual powering of communication devices</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_Q_TETHERING">Appendix Q: Tethering</a>: Information on tethering a network (NAT / Masquerading)</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_R_AUTO_RECONNECT">Appendix R: Automatic Reconnect BT / Mobile networks</a>: Information on automatic reconnection of BT and Mobile networks</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_S_SIM_SLOT_SWITCHING">Appendix S: Sim Slot Switching</a>: Information on switching the current SIM-Slot</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_T_LIMITED_ANDROID_SUPPORT">Appendix T: Limited Android support</a>: Information on supported APIs on Android platforms</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_U_SIM_TOOLKIT_USSD">Appendix U: SIM Toolkit / USSD support</a>: Information on the SIM Toolkit / USSD</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_V_Preferred_operator_list">Appendix V: Mobile Radio: Preferred Operator Lists</a>: Information about POL usage</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_W_COMDEMO">Appendix W: COMdemo</a>: COMdemo, the ADK-COM demo application</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_X_Neighbor_list">Appendix X: Neighbor Lists</a>: Information about ARP / NDP</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_Y_VOS3">Appendix Y: VOS3</a>: Information about the new VOS3 Operating System</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_Z_Radio_Net_Restart">Appendix Z: Radio Reconfiguration</a>: Information about restarting / connecting to Radio Networks</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication</a>: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A2_WAKE_ON_WLAN">Appendix A2: Wake on WLAN</a></p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A3_IPV6_CONFIGURATION">Appendix A3: IPv6 Protocol Configuration</a></p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A4_SIM_ACCESS">Appendix A4: Restricted SIM Access</a></p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A5_ORANGE_DONGLES">Appendix A5: Orange Dongle Support</a></p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A6_FAST_ROAMING">Appendix A6: WiFi Fast Roaming (IEEE 802.11 k/v/r)</a></p>
<p><a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A7_ORANGE_UPLINK">Appendix A7: Orange Dongle Link Events</a></p>
<h1><a class="anchor" id="sec_com_introduction"></a>
Introduction</h1>
<p>This guide provides information on the usage of the ADK Communication Component (ADK-COM). Only parts relating to the application programming interface (API) of ADK-COM are discussed here. The API is implemented by the libcom library. Operations implemented inside the libcom require a remote service (comdaemon) to be running on the machine. For information on the Com Control Panel (CCP), which is also part of ADK-COM, please refer to its own documentation.</p>
<p>The library part of ADK-COM, including its header API, will be referred to as <b>"libcom"</b> throughout this document.</p>
<div class="image">
<img src="com_image_component_overview_01.png" alt=""/>
<div class="caption">
Component Overview</div></div>
<h2><a class="anchor" id="sec_com_concepts"></a>
Concepts</h2>
<p>The application interface is a simple programming interface in combination with configuration profiles. The ADK-COM API is found in <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a>. This header specifies a common API to send and receive data across devices and provides a high-level connection setup based on logical connection profiles.</p>
<div class="image">
<img src="com_image_architecture_overview_02.png" alt=""/>
<div class="caption">
Architecture Overview</div></div>
<p>ADK-COM profiles are a common set of connection and network specific settings. Through these profiles the application can define all major parts of a connection establishment:</p>
<ul>
<li>connection specific information (target host, ..) called the <b>"connection profile"</b> </li>
<li>network specific setup information (as a prerequisite for the above connection) called the <b>"network profile"</b> </li>
</ul>
<p>There are two different types of connection profiles, network-based and raw-data connections.</p>
<p>There are two possibilities how the application tells ADK-COM about the location of the profile:</p>
<ul>
<li>Database node name inside an ADKINF database</li>
<li>Filename to an XML-file with an ADK-COM specific configuration</li>
</ul>
<p>Both approaches end up in a file stored on the Terminal's file system. There is no special or recommended place to store those files. It is up to the application to specify the storage place. You can either use a fully qualified absolute path to the profile files or a relative path to it (but then depending on the current working directory of your application process). The files will be opened by the libcom in the application context. ADK-COM (libcom) will not change any working directory.</p>
<p>IP based connections are handled through a standard BSD socket API. After setting up a IP based connection by opening an ADK connection profile, the application can either request the socket-descriptor or use ADK-COM functions to send and receive data.</p>
<p>Network-based connections are always associated to a network profile, which is used by the comdaemon to activate the underlying network as a prerequisite.</p>
<p>Raw data connections are raw, serial connections. As such they do not depend on a network profile. All connection related settings are handled and stored inside the connection profile itself. From an user interface point of view there is no difference between raw data connections and IP based connections. Both are using a socket based API.</p>
<p>While raw data connections are completely handled by the connection profiles, all IP based connections require a network profile to start-up and maintain an underlying network. Each IP based connection defined in a connection profile must have exactly one assigned network profile. Per definition, a network profile must define all <em>required</em> network parameters for this type of network. Network parameters differ between different <em>types</em> of network profiles. The type of network is also stored within the set of parameters.</p>
<p>The following figure shows how the different protocol layers are concerned by the connection profile and network profile definition:</p>
<div class="image">
<img src="com_image004_Network_Profiles.png" alt=""/>
<div class="caption">
Profiles and Protocols</div></div>
<p>This component encapsulates construction and control of technology stacks supporting dialup and radio (GPRS, GSM, 2G/3G, BT) communications, including PPP, and fixed networks like Ethernet and WiFi. It also provides support for SSL secured TCP/IP connections and raw serial connections over UART or emulated serial over USB or Bluetooth. The above listed devices can be used to build up communication links with the following protocols:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Protocol </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>TCP/IP</b>  </td><td class="markdownTableBodyNone">TCP data stream  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>UDP/IP</b>  </td><td class="markdownTableBodyNone">User Datagram Protocol  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SSL/TCP/IP</b>  </td><td class="markdownTableBodyNone">Secure Socket Layer on top of a TCP/IP connection.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>raw</b>  </td><td class="markdownTableBodyNone">raw data transfer between entities (typically serial connections or raw modem connections)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Websockets</b>  </td><td class="markdownTableBodyNone">Websocket (WS) or secure Websockets (WSS)  </td></tr>
</table>
<p>ADK-COM allows interworking with the following portable standard APIs by providing low-level handles to use the following:</p>
<ul>
<li>BSD socket API, see <a href="https://en.wikipedia.org/wiki/Berkeley_sockets">https://en.wikipedia.org/wiki/Berkeley_sockets</a></li>
<li>OpenSSL programming API, see <a href="https://www.openssl.org/docs/ssl/ssl.html,">https://www.openssl.org/docs/ssl/ssl.html,</a> SSL Programming Tutorial</li>
</ul>
<p>BSD socket and OpenSSL APIs are available on V/OS platforms.</p>
<p>ADK-COM does only support transport layer protocols. For any higher level protocols (e.g. FTP, HTTP), applications might need to use the ADK provided cUrl library.</p><ul>
<li>libcurl - the multiprotocol file transfer library, see <a href="https://curl.se/libcurl">https://curl.se/libcurl</a></li>
</ul>
<h1><a class="anchor" id="sec_com_getting_started"></a>
Getting Started</h1>
<p>ADK-COM provides a sample application that demonstrates features of the system and can be used as starting point for application developers.</p>
<p>ADK-COM is provided on different target platforms. The following sections describe how to use the sample application on these platforms.</p>
<h2><a class="anchor" id="subsec_com_setup"></a>
Setup</h2>
<h3><a class="anchor" id="subsubsec_com_running_on_v_os"></a>
Running on V/OS</h3>
<ul>
<li>Install ADK-COM bundle</li>
<li>Start Application</li>
</ul>
<h2><a class="anchor" id="subsec_com_simple_example_73"></a>
Simple Example</h2>
<p>Let’s say you want to connect to a host, send and receive data, and eventually terminate the connection. For sake of simplicity let us further assume you want do a simple Ethernet connection, and the transport protocol you choose is TCP without any SSL layer on top. We will not use the database but plain XML files. To keep it simple we will also be using the synchronous connection-establishment interface.</p>
<p>The steps you will need to take are the following:</p>
<ul>
<li>Create the XML files</li>
<li>Initialize libcom from your application</li>
<li>Optionally use com_AttachNetwork to attach the Network</li>
<li>Connect to the host by calling com_Connect with the XML file specified</li>
<li>Use com_Send/Receive to send and receive data</li>
<li>Use com_ConnectClose to close the connection</li>
<li>Possibly use com_DetachNetwork if you have attached it previously</li>
<li>Once you are done with libcom you MUST call com_Destroy in order for libcom to release allocated resources</li>
</ul>
<p>For this example we will not use the asynchronous functions. First create the connection and network profiles. First let’s look at the connection profile:</p>
<div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt; &lt;!-- Transport protocol--&gt;</div>
<div class="line">        &lt;NETWORK&gt;LOCAL_NET.xml&lt;/NETWORK&gt; &lt;!--The network profile which will be referenced--&gt;</div>
<div class="line">        &lt;ADDRESS&gt;bhelvbuild2.verifone.com&lt;/ADDRESS&gt; &lt;!--Host address--&gt;</div>
<div class="line">        &lt;PORT&gt;1200&lt;/PORT&gt; &lt;!--Host port--&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;10000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt; &lt;!--This is the socket connection <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a>. 10000 milliseconds. 10 seconds.--&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Here is a possible network profile, which is called LOCAL_NET.xml (this is referenced in the connection profile above):</p>
<div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;LAN&lt;/TYPE&gt; &lt;!--We want to use ethernet--&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;ETH0&lt;/DEVICE_NAME&gt; &lt;!--We want to use Ethernet port 0--&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;AUTO&lt;/STARTUP_MODE&gt; &lt;!--We want the network to be automatically setup at boot--&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt; &lt;!--The <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> <span class="keywordflow">for</span> setting up the network (60 seconds)--&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt; &lt;!--Get an automatic IP address--&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_initializing_adkcom"></a>
Initializing ADK-COM</h3>
<p>To initialize ADK-COM you simply need to call the init function, which is <a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a>. <a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a> is successful if the function returns 0. The optional parameter, which in this case is NULL, is the com_Errno. We will cover this parameter later.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL)){</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Be sure to also call com_Destroy if com_Init has succeeded!</p>
<dl class="section note"><dt>Note</dt><dd>The library may return -1 with com_errno (parameter to com_Init) set to COM_ERR_DAEMON_COM. In this case the service is not ready yet. As not to stall the application the function itself will not block, but return immediatly. It is a good idea to take care of other things while the service is initializing. If there is nothing left to do, please use a simple loop to determine when the service is ready to go. It is recommended to check around every 0.5 seconds.</dd></dl>
<h3><a class="anchor" id="subsubsec_com_connecting_to_a_host_and_closing_the_connection"></a>
Connecting to a Host and Closing the Connection</h3>
<p>Use com_Connect to connect to a host. If the host is available a non-null handle will be returned.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(){</div>
<div class="line">    com_ConnectHandle *<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>;</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL)){</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a> = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;profile_name.xml&quot;</span>, NULL, NULL, 10000, NULL);</div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>) printf(<span class="stringliteral">&quot;error\n&quot;</span>); <span class="comment">//Connection didn’t work</span></div>
<div class="line">    <span class="keywordflow">else</span> <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, NULL); <span class="comment">//Connection did work, but now close the connection</span></div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The currently running comdaemon will remember that a client is currently connected to the specified network. It will keep track of the client until the client has called ConnectClose or until the client-process has exited.</p>
<h3><a class="anchor" id="subsubsec_com_registering_a_callback"></a>
Registering a Callback</h3>
<p>You <em>may</em> register a callback to the com_Connect function, which will inform you about the status of the connection as well as any errors.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> connection_callback (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40f">com_ConnectionEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a> type, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">void</span> *priv, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno){</div>
<div class="line">    (void) <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>;</div>
<div class="line">    (void) priv;</div>
<div class="line">    <span class="keywordflow">switch</span>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>){</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40faf6a88224f3a2b5849158d946dc3090d0">COM_EVENT_CONNECTION_ESTABLISHED</a>:</div>
<div class="line">            printf(<span class="stringliteral">&quot;Connection established!\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa6d8216bd52bb2d6dd8934962d43bfe13">COM_EVENT_CONNECTION_NEXT</a>:</div>
<div class="line">            printf(<span class="stringliteral">&quot;Trying new connection\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa0fce86b65d98a83d795ba4f8dee4944f">COM_EVENT_CONNECTION_FAILED</a>:</div>
<div class="line">            printf(<span class="stringliteral">&quot;Connection failed %d\n&quot;</span>, com_errno);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa7ba08d06fab43ae5774d8eccbbd8ab65">COM_EVENT_PROFILE_FAILED</a>:</div>
<div class="line">            printf(<span class="stringliteral">&quot;Entire profile failed %d\n&quot;</span>, com_errno);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(){</div>
<div class="line">    com_ConnectHandle *<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>;</div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL)){</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a> = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;profile_name.xml&quot;</span>, connection_callback, NULL, 10000, NULL);</div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>) printf(<span class="stringliteral">&quot;error\n&quot;</span>); <span class="comment">//Connection didn’t work</span></div>
<div class="line">    <span class="keywordflow">else</span> <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, NULL); <span class="comment">//Connection did work, but now close the connection</span></div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_obtaining_error_information"></a>
Obtaining Error information</h3>
<p>To all libcom functions except <code>com_GetErrorCodes</code> you may pass an address to an integer variable as the last parameter. If the function should fail and the address is not NULL, an error code will be written into the specified address.</p>
<p>When calling on of the com_Connect* functions the ADK-COM will iterate through all the connections of the specified profile. Each of the connections may have different errors. Because you can specify only one address to an error code only the last-known error will be written, which may not be useful to you. Thusly if you want to know each and every reason why a connection inside a profile failed you will need to use a callback as described above. For any other operation, which does not do multiple operations at a time, it is sufficient to pass an address to an integer to obtain error information as described above.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line">    </div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;Libcom Version: %s&quot;</span>, <a class="code" href="libcom_8h.html#ab88f9728460434908b808e34a856b6af">com_GetVersion</a>());</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL)){</div>
<div class="line">        LOGF_TRACE( <span class="stringliteral">&quot;Could not init com&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Not a valid handle (NULL) so the function will fail</span></div>
<div class="line">    ret = <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(NULL, &amp;com_errno);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(ret != 0){</div>
<div class="line">        printf(<span class="stringliteral">&quot;Close failed %s, [%d]\n&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno), com_errno);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output: "Close failed Handle is invalid (NULL), [1]"</p>
<p>Above we have additionally put the error-code into the com_GetErrorString function in order to obtain a textual representation of the error code.</p>
<h3><a class="anchor" id="subsubsec_com_attach_network__optional_"></a>
Attach Network</h3>
<p>Once you have created the profiles you are ready to use them with libcom. One <b>optional</b> step you can take before using com_Connect is to attach a network via the com_AttachNetwork. Attaching a network is only necessary if you do not want a network to go down after all connections through that network have been shut down. This step is optional as the connection profile always references a network-profile, and that network will be setup implicitly, if it has not been previously.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(){</div>
<div class="line">    com_ConnectHandle *<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>;</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL)){</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="libcom_8h.html#a10cdfc0c9edf6383c69f8ac03d84131e">com_AttachNetwork</a>(<span class="stringliteral">&quot;network_name.xml&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a> = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(&quot;profile_name.xml&quot;, NULL, NULL, 10000, NULL);</div>
<div class="line">    <a class="code" href="_v_h_q__vfisyspm__wrapper_8cpp.html#a70aa738d3c50b0bbed156ee52c84679d">if</a>(!<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>) printf(&quot;error\<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">n</a>&quot;); <span class="comment">//Connection didn’t work</span></div>
<div class="line">    else <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, NULL); <span class="comment">//Connection did work, but now close the connection</span></div>
<div class="line">    </div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><p>In the example above the network is not detached. This means the network will stay up, even if the connection going through it has disconnected!</p>
<p>Also, please note network_name.xml having the ".xml" ending. This is unlike when specifying it in a connection profile (which does not have the .xml ending)</p>
<p>The comdaemon, who is responsible for automatically setting networks up/down, has a very simple counter in order to count attach/detach operations. Every time an application calls attach on a network the network counter will be incremented by one. Every time an application calls detach on a network it will be decremented by one. The counter is not automatically decremented when a client exits. Applications should communicate between each other in order to synchronize attach/detach on a network.</p>
<h3><a class="anchor" id="subsubsec_com_automatic_disconnection_of_the_network"></a>
Automatic Disconnection of the Network</h3>
<p>All three conditions, which are all shown in the sections above, have to be met for the automatic disconnection of the network. They are as follows:</p>
<ul>
<li>No connections are currently going through the network</li>
<li>The network profile has autostart disabled</li>
<li>The network is not attached</li>
</ul>
<h3><a class="anchor" id="subsubsec_com_sending_receiving_data"></a>
Sending/Receiving Data</h3>
<p>With an obtained com-handle you may send and receive data.</p>
<p>You can do sending/receiving data in two ways: Either you use the getFD/getSSLFD function of libcom to obtain the socket descriptor, which you can use like a normal BSD socket, or you can use the functions receive/send function which libcom provides.</p>
<dl class="section note"><dt>Note</dt><dd>Socket behavior will change depending on the type of socket it is. If, for example, you have a socket for sending datagrams (such as UDP datagrams) then you will have a different behavior than a streaming socket (such as a TCP stream).</dd></dl>
<p>In the example below we assume that the server we are contacting to is a simple echo server. We will send data and then receive the data back.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> isCritical(com_ConnectHandle *<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>,<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno) {</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a> type = <a class="code" href="libcom_8h.html#a0279909b652b8a01fb4662a5b15d7612">com_GetConnectionType</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(type == <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75ca709d8e521b4d6235f4a9b9a794386c17">COM_CONNECTION_TYPE_SSL</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (com_errno == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58aa5ebfb6628ed6cb432f26b181b44da1b">COM_ERR_CON_SSL_BUSY</a>) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// All other connection types go in here</span></div>
<div class="line">    <span class="keywordflow">if</span> (com_errno == (<a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58afcf0ee625b03c6a4b801a701c67cc270">COM_SYSTEM_ERRNO_BASE</a>+EAGAIN) || com_errno == (<a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58afcf0ee625b03c6a4b801a701c67cc270">COM_SYSTEM_ERRNO_BASE</a>+EWOULDBLOCK)) {</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;Uncritical socket error&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;Critical socket error&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> testSendReceive(<span class="keyword">struct</span> com_ConnectHandle *<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> len, <span class="keyword">const</span> <span class="keywordtype">char</span>* profile) {</div>
<div class="line">    <span class="keywordtype">char</span> *rBuffer;</div>
<div class="line">    ssize_t ret;</div>
<div class="line">    <span class="keywordtype">size_t</span> hasSent = 0;</div>
<div class="line">    <span class="keywordtype">size_t</span> gotLen = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> selectRet;</div>
<div class="line">    <span class="keywordtype">int</span> retval = -1;</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno = <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a> || !data || len &lt;= 0) <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    rBuffer = (<span class="keywordtype">char</span> *)malloc(len);</div>
<div class="line">    <span class="keywordflow">if</span>(!rBuffer) {</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    memset(rBuffer, 0, (<span class="keywordtype">size_t</span>)len);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(hasSent != len) {</div>
<div class="line">        ret = <a class="code" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, (<span class="keywordtype">char</span>*)data + hasSent, len - hasSent, &amp;com_errno);</div>
<div class="line">        <span class="keywordflow">if</span>(ret == -1) {</div>
<div class="line">            <span class="keywordflow">if</span>(isCritical(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, com_errno))</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/*Output buffer is full, so wait until writeable*/</span></div>
<div class="line">            <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, <a class="code" href="libcom_8h.html#a08da6ce26a387cf4487f4a50dc0f4773">COM_SELECT_WRITE</a>, 10000, &amp;selectRet, 0) != 1)</div>
<div class="line">                <span class="keywordflow">break</span>;  <span class="comment">// timeout</span></div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">continue</span>;  <span class="comment">// writeable again</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        hasSent += ret;</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;@@ %d bytes sent&quot;</span>, hasSent);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;%s: Sent %d bytes, %s&quot;</span>, __func__, hasSent, profile);</div>
<div class="line">    <span class="comment">//LOGAPI_HEXDUMP_TRACE( &quot;SEND Data DUMP&quot;, data, len);</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(hasSent == len) {</div>
<div class="line">        <span class="keywordflow">while</span>(1) {</div>
<div class="line">            <span class="keywordtype">bool</span> error = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">switch</span>(<a class="code" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, <a class="code" href="libcom_8h.html#a814f3a2e74ce0a12bc89cd1a1b1b86f8">COM_SELECT_READ</a>, 10000, &amp;selectRet, &amp;com_errno)) {</div>
<div class="line">            <span class="keywordflow">case</span> 0:</div>
<div class="line">                LOGF_TRACE( <span class="stringliteral">&quot;%s: We can&#39;t wait any longer to get our data back...break, %s&quot;</span>, __func__, profile);</div>
<div class="line">                error = <span class="keyword">true</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 1:</div>
<div class="line">                LOGF_TRACE(<span class="stringliteral">&quot;%s: Select OK [%d], %s&quot;</span>, __func__, selectRet, profile);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> -1:</div>
<div class="line">                LOGF_TRACE(<span class="stringliteral">&quot;%s: Select failed [com_errno %d] %s&quot;</span>, __func__, com_errno, profile);</div>
<div class="line">                error = <span class="keyword">true</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(error) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            ret = <a class="code" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive</a>(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, rBuffer + gotLen, len - gotLen, &amp;com_errno);</div>
<div class="line">            <span class="keywordflow">if</span>(ret == -1) {</div>
<div class="line">                <span class="keywordflow">if</span>(isCritical(<a class="code" href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">handle</a>, com_errno)) {</div>
<div class="line">                    LOGF_TRACE( <span class="stringliteral">&quot;%s: Receive failed (%d)[com_errno %d], %s&quot;</span>, __func__, ret, com_errno, profile);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">continue</span>;  <span class="comment">// wait until it is readable again</span></div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ret == 0) {</div>
<div class="line">                LOGF_TRACE( <span class="stringliteral">&quot;%s: Remote has closed connection too soon, %s&quot;</span>, __func__, profile);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">//LOGAPI_HEXDUMP_TRACE( &quot;RECV Data DUMP&quot;, rBuffer + gotLen, ret);</span></div>
<div class="line"> </div>
<div class="line">            gotLen += ret;</div>
<div class="line">            LOGF_TRACE(<span class="stringliteral">&quot;%d bytes read so far&quot;</span>, gotLen);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(gotLen &gt;= len) {</div>
<div class="line">                <span class="keywordflow">if</span> (memcmp(data, rBuffer, len) == 0) {</div>
<div class="line">                    retval = 0;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    retval = -2;</div>
<div class="line">                    LOGF_TRACE( <span class="stringliteral">&quot;%s: Received Data != Sent Data, %s&quot;</span>, __func__, profile);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    free(rBuffer);</div>
<div class="line">    <span class="keywordflow">return</span> retval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">    <span class="keyword">struct </span>com_ConnectHandle *handle;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* profile = <span class="stringliteral">&quot;tcp.xml&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a>(NULL) == -1) {</div>
<div class="line">        LOGF_TRACE( <span class="stringliteral">&quot;Could not init com, probably comdaemon not yet up, try again&quot;</span>);</div>
<div class="line">        sleep(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(profile, NULL, NULL, 10000, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(handle != NULL) {</div>
<div class="line">        </div>
<div class="line">        testSendReceive(handle, <span class="stringliteral">&quot;mydata&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;mydata&quot;</span>), profile);</div>
<div class="line">        <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(handle, NULL);</div>
<div class="line">    </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Failed to connect\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a>(NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_programming"></a>
Programming</h1>
<h2><a class="anchor" id="programming_and_api_principles"></a>
Programming and API Principles</h2>
<p>The libcom library provides several types of functions. Special consideration has to be taken when calling a function with the "async" postfix. These types of functions will return a handle which you will need to pass to a wait function in order to poll the status of the operation or wait for an operation to complete. A handle returned by a synchronous function (not marked with async) does not need to be handled in this way. <b>In either case if you obtain a handle you MUST pass it to the corresponding close function. Otherwise you will leak resources.</b></p>
<p>Before any other libcom functions can be called the libcom library must be initialized using <a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a> function.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a> MUST always be called before any other libcom function. If this function fails, no communication with the comdaemon is possible and all other libcom functions will fail.</dd>
<dd>
<br  />
 When the system is still booting a call to <a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a> may fail. In most cases this is because the comdaemon process is not yet launched by the OS. It is strongly recommended to retry the call to <a class="el" href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init()</a> after in a loop.</dd></dl>
<p>Once libcom is no longer needed in your application you may free all its allocated resources by calling <a class="el" href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy()</a>. com_Destroy <b>must</b> be called before the main thread of your application exits.</p>
<h2><a class="anchor" id="subsec_com_library_and_service_version"></a>
Library and Service Version</h2>
<p>To identify the current version of libcom, the <a class="el" href="libcom_8h.html#ab88f9728460434908b808e34a856b6af">com_GetVersion()</a> API can be used.<br  />
To identify the current version of the currently running service (comdaemon), the <a class="el" href="libcom_8h.html#a8b4969ca794633232fdfc9605ae95c6e">com_GetSvcVersion()</a> API can be used.</p>
<dl class="section note"><dt>Note</dt><dd>In early releases there was the possibility of the library and service version being different, due to the possibility of linking static libraries into applications. As static libraries are no longer supported, both versions <em>should</em> be identical.</dd></dl>
<h2><a class="anchor" id="subsec_com_device_initialization"></a>
Device Initialization</h2>
<p>Some devices require setting of device properties for correct initialization. See the corresponding device properties lists in chapter <a class="el" href="pg_com_users_guide.html#subsec_com_device_configuration">Device Configuration</a>. </p><dl class="section note"><dt>Note</dt><dd>Some network interfaces may be accessible/inaccessible depending on device-configuration. For example setting the USB-Port role to "device" may enable using USB-Gadget networks via this port, while setting the same port to "host"-role may enable using an ethernet-dongle. The role cannot be device and host at the same time, meaning both networks cannot be enabled at the same time either. The application/user must make a decision about what to configure for which use-case.</dd></dl>
<h2><a class="anchor" id="subsec_com_communication_interface_detection"></a>
Communication Interface Detection</h2>
<p>libcom provides a mechanism to detect the supported communication interfaces of the device it runs on. This mechanism can be used by the application to select suitable profiles.</p>
<p>To request all the available communication interfaces of the device, the COM_PROP_SUPP_INTERFACES device property can be used. It delivers a bit-list indicating the available communication interfaces. Please refer to chapter <a class="el" href="pg_com_users_guide.html#subsec_com_device_configuration">Device Configuration</a> for a detailed description of the property.</p>
<h2><a class="anchor" id="subsec_com_connection_establishment"></a>
Connection Establishment</h2>
<p>ADK-COM provides a connection-type agnostic setup of connections.</p>
<h3><a class="anchor" id="subsubsec_com_blocking_connection_setup"></a>
Synchronous Connection Setup</h3>
<p>The simplest connection setup is via the blocking <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a> call. This reads the specified connection profile and establishes a connection according to the defined connection and network properties. The function is blocks until the given timeout is expired. On success the function returns a handle that can be used with <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> and <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a>. When no longer needed the connection handle must be closed using <a class="el" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose()</a>.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>com_ConnectHandle *handle;</div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;tcp.xml&quot;</span>, NULL, NULL, 10000, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(handle != NULL) </div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Connection is established, now send and receive data</span></div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// close the connection</span></div>
<div class="line">com_ConnectClose(handle, NULL);</div>
<div class="line">}</div>
<div class="line">...</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The first parameter of the <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a> specifies the location of the connection profile to be used. This is either a path to a file containing a XML structure or an entry-point of an INFOSVC database and its name.</dd></dl>
<h3><a class="anchor" id="subsec_com_asynchronous_connection_setup"></a>
Asynchronous Connection Setup</h3>
<p>Connections can also be established asynchronously. This method allows the calling thread to continue with other tasks while network and connection are established in the background. Use <a class="el" href="libcom_8h.html#a65f3a6e7059cb1dfa3a924aad3122c90">com_ConnectAsync()</a> to start the asynchronous connection setup and <a class="el" href="libcom_8h.html#ad6270f5c1d4a16369395040b6e2d69f6">com_ConnectWait()</a> to complete the connection setup.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>com_ConnectHandle *handle;</div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a65f3a6e7059cb1dfa3a924aad3122c90">com_ConnectAsync</a>(<span class="stringliteral">&quot;tcp.xml&quot;</span>, NULL, NULL, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(handle == NULL) </div>
<div class="line">{</div>
<div class="line">  <span class="comment">// starting async connection handling failed</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//</span></div>
<div class="line">Do something <span class="keywordflow">else</span></div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// now wait 10 sec to complete the async connection setup</span></div>
<div class="line">if(<a class="code" href="libcom_8h.html#ad6270f5c1d4a16369395040b6e2d69f6">com_ConnectWait</a>(handle, 10000, NULL) == <a class="code" href="libcom_8h.html#a02ed137c38a7f529440af3d68d17a740ad3f448426bd402fcb46e5a869958703a">COM_CONNECTION_STATUS_CONNECT</a>){ </div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Connection is established, now send and receive data</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">  <span class="comment">// setting up connection failed within 10 sec</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(handle, NULL);</div>
</div><!-- fragment --><p>Obtaining the value COM_CONNECTION_STATUS_TIMEOUT from com_ConnectWait does not mean the connection-process is now canceled. The process is still active in the background, meaning com_ConnectWait can be called with the same handle again.</p>
<h3><a class="anchor" id="subsubsec_com_connection_status_callback"></a>
Connection Status Callback</h3>
<p>Both synchronous and asynchronous connection setups support a callback mechanism that informs the application about the progress and status of the connection establishment process.</p>
<p>The callback function can be registered with <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a> or com_ConnectAsyc() functions and needs to be of type comCallbackConnectionType.</p>
<p>The callback provides information on the most recent event in connection setup procedure and the type of the connection that is currently being tried out or finally established. With the *priv parameter, an application may pass connection specific information for their own use to the callback function.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> conn_cb (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40f">com_ConnectionEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a> type, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">void</span> *priv, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//callback actions</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// register the callback with the connect function</span></div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;tcp.xml&quot;</span>, conn_cb, NULL, 10000, NULL);</div>
<div class="line"><a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(handle, 0);</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_connection_callback_information"></a>
Determine Connection specific Information from Connection Status Callback</h3>
<p>From within the code of the connection status callback function you are able to obtain certain specific information and status of the current connection. To easily achieve this, ADKCOM provides two function which are designed to only be used from within this callback function:</p><ul>
<li><a class="el" href="libcom_8h.html#a8629e7051f4be75c131b23de2f461591">com_GetProfilePropertyString()</a></li>
<li><a class="el" href="libcom_8h.html#a256e125f12ac7cda21afa82e25b6229d">com_GetProfilePropertyInt()</a></li>
</ul>
<p>The parameter "data" of the callback function can be used as a handle for these two functions. Please refer to the com_ProfilePropertyInt and com_ProfilePropertyString enums in order to ascertain which properties can be determined by which function. Simply pass the data and type parameters, which should be present in your callback-function, as the first two parameters of the correct function. As the next parameter pass the property which you want to obtain, as fourth parameter specify the location of the return value, and as the last parameter specify the address of com_errno.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> conn_cb (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40f">com_ConnectionEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a> type, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">void</span> *priv, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *network_profile_name = NULL;</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> error;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(type == <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75cab09a9a1f2f9175f89b8b99d91b9e498a">COM_CONNECTION_TYPE_TCP</a> &amp;&amp; <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a> == <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40faf6a88224f3a2b5849158d946dc3090d0">COM_EVENT_CONNECTION_ESTABLISHED</a>){</div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#a8629e7051f4be75c131b23de2f461591">com_GetProfilePropertyString</a>(data,type,<a class="code" href="libcom_8h.html#a7cdb798185fb1a08554a3c3eb1a49987aa9a3dbfa7d73e16466752122310951a2">COM_PROFILE_PROP_STRING_NETWORKNAME_FULL</a>, &amp;network_profile_name, &amp;error) || !network_profile_name){</div>
<div class="line">            printf(<span class="stringliteral">&quot;Could not get network-name from data-block!\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot;%s\n&quot;</span>, network_profile_name);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Through this callback function you are also able to determine the exact socket error code for failed socket connections. In case the connection could not be established because of any socket / IP layer issue, the event parameter will be set to COM_EVENT_CONNECTION_FAILED and the parameter com_errno will be set to COM_ERR_CON_SOCKET. Now you are able to read the actual socket error via COM_PROFILE_PROP_LAST_SOCKET_ERROR profile property.</p>
<p>Following sample code shows how to obtain the socket error code (the errno being set when connect() is called):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> conn_cb(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40f">com_ConnectionEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a> type, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">void</span> *priv, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a> == <a class="code" href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa0fce86b65d98a83d795ba4f8dee4944f">COM_EVENT_CONNECTION_FAILED</a> &amp;&amp; com_errno == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a9f5ebb44174d8848313ea66fe81fd111">COM_ERR_CON_SOCKET</a>) {</div>
<div class="line">        <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> localErr;</div>
<div class="line">        <span class="keywordtype">int</span> socketError = 0;  <span class="comment">// for example EHOSTUNREACH, ECONNREFUSED, ...,</span></div>
<div class="line">        <span class="keywordtype">int</span> ret         = <a class="code" href="libcom_8h.html#a256e125f12ac7cda21afa82e25b6229d">com_GetProfilePropertyInt</a>(data, type, <a class="code" href="libcom_8h.html#a330addccc1f771e357c7640fda3e6687a55545d6cf3e7c87e5ffe6a2aef6577c9">COM_PROFILE_PROP_LAST_SOCKET_ERROR</a>, &amp;socketError, &amp;localErr);</div>
<div class="line">        <span class="keywordflow">if</span>(ret == 0) {</div>
<div class="line">            printf(GRN <span class="stringliteral">&quot;Socket Error Occurred: &quot;</span> RESET RED <span class="stringliteral">&quot;%s&quot;</span> RESETNL, strerror(socketError));</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            printf(RED <span class="stringliteral">&quot;Failed to determine the real socket error&quot;</span> RESETNL);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_closing_connections"></a>
Closing Connections</h3>
<p>The <a class="el" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose()</a> function has to be used to close a communication connection. </p><dl class="section note"><dt>Note</dt><dd>Any handle obtained from libcom MUST be passed to a *Close function at some point. This includes asynchronous handles in which the *Wait functions has signaled the operation to have failed.</dd></dl>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>com_ConnectHandle *handle;</div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;tcp.xml&quot;</span>, NULL, NULL, 10000, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// close the connection</span></div>
<div class="line"><span class="keywordflow">if</span>(handle) <a class="code" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a>(handle, NULL);</div>
</div><!-- fragment --><p>Once a connection is established, the generic functions <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a> and <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> can be used to transmit and receive data.</p>
<p>Only if you have set the connection type to <b>UDP</b> for your connection profile the according datagram functions <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a> and <a class="el" href="libcom_8h.html#a5d8b92257989b0842af3a49a1cc0ac0e">com_SendTo()</a> must be used to transmit or receive data. If you call those functions on a non-UDP connection the error COM_ERR_CON_SOCKET is returned. As <b>UDP</b> is connectionless the user is not required to specifiy a hostname / IP address and port in the connection profile but in the actual function call. The usage is based on the standard functions sendto() and recvfrom() used for UDP datagram transmissions.</p>
<p>The default behaviour of the communication sockets provided by ADK-COM is non-blocking which means <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a> and <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a> will return immediately - even if no data can be read. To switch sockets back to blocking mode you may call operating-system specific functions on the file-descriptor of the connection. Please refer to your operating system manual for more information.</p>
<h3><a class="anchor" id="subsubsec_com_avoid_polling"></a>
Avoiding Data Polling</h3>
<p>In order to avoid the polling of the <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a> and <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a> interface, the application may use the OS function select() (available on V/OS and V/OS2) to wait for incoming data. To make this easier the <a class="el" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select()</a> function may be used. Please refer to the function reference for more information.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line">char sBuffer[] = <span class="stringliteral">&quot;hello 4&quot;</span>;</div>
<div class="line"><span class="keywordtype">char</span> rBuffer[<span class="keyword">sizeof</span>(sBuffer)+1];</div>
<div class="line">ssize_t len=0;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> waitForData(com_ConnectHandle *handle){</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags_out;</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> ret = <a class="code" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select</a>(handle, <a class="code" href="libcom_8h.html#a814f3a2e74ce0a12bc89cd1a1b1b86f8">COM_SELECT_READ</a>, 3*60000, &amp;flags_out, &amp;com_errno);</div>
<div class="line">    <span class="keywordflow">if</span>(ret == -1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;com_Select failed with erro %s&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == 0) {</div>
<div class="line">        printf( <span class="stringliteral">&quot;com_Select timed out\n, %s&quot;</span>, __func__, profile);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!(flags_out &amp; <a class="code" href="libcom_8h.html#a814f3a2e74ce0a12bc89cd1a1b1b86f8">COM_SELECT_READ</a>)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;com_Select: wrong flag detected&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;Data has arrived. Ready to read...\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// send data</span></div>
<div class="line">len=<a class="code" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send</a>(handle, sBuffer,<span class="keyword">sizeof</span>(sBuffer), NULL);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// wait for received data</span></div>
<div class="line"><span class="keywordflow">if</span> (waitForData(handle) == 0) </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// receive data</span></div>
<div class="line">    len=<a class="code" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive</a>(handle, rBuffer, <span class="keyword">sizeof</span>(rBuffer)-1, NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_overlapped_sending"></a>
Send / Receive while bringing up a 2nd interface connected to same network</h3>
<p>In case you have a valid connection established to a host via one of the supported network interfaces (for ex. Ethernet) and while transferring data you bring up a second network interface (for ex. WiFi) which is connected to the same network as interface 1, you might loose packets / connectivity of your 1st connection.</p>
<p><b>Explanation:</b> </p>
<p>First you establish one connection with IP1 through one interface (Eth0) to host A which works fine.</p>
<p>While transferring data you bring up a 2nd network interface (WLAN0 with IP2) which is also able to reach the host A through it's own routing table entry. At this point the Linux kernel thinks that all traffic for Host A should no longer be routed through the Eth0 interface, but instead through the WLAN0. So all packets you want to send to the host A are suddenly no longer being sent through ETH0 but WLAN0 instead. Both of course have different MAC hardware addresses.</p>
<p>All new data is now being transmitted through WLAN0 but still with IP1 as sender address + MAC2 as sender address on link layer. But the ARP cache in the remote host has still a correlation of IP1 &lt;&mdash;&gt; MAC1, while frames now come in with IP1 – MAC2. So the reply packages are still sent to IP1, but with MAC1 as recipient link layer address. The kernel in the terminal expects the frames coming in on MAC2 (WLAN0) network interface, but sees them on MAC1 (ETH0) interface. So the kernel seems to drop those Ethernet frames as they are not valid for it. As a result the reply from your host is no longer received on terminal side.</p>
<p>The connection can be "fixed" by just clearing the ARP cache on the host side, so that the host will create a new IP to MAC address correlation.</p>
<h2><a class="anchor" id="subsec_com_controllingnetworks"></a>
Controlling Networks</h2>
<h3><a class="anchor" id="subsubsec_com_automated_network_start"></a>
Automated Network Start</h3>
<p>Typically networks are either automatically started at boot or are created temporarily on the behest of a connection request. The networks are only started if not already active.</p>
<p>To control the autostart capability of a network, the "startup_mode" property in the network profile is used.</p>
<h3><a class="anchor" id="subsubsec_com_manual_start_stop_of_networks"></a>
Manual Start / Stop of a Network</h3>
<p>libcom provides functions to manually start and stop networks. This allows applications to start e.g. a temporary network already prior to connection attempts or reuse the network for multiple connections before the network is stopped again.</p>
<p>The function com_NetworkAttach() allows to attach an application to a network. This will start the network if not already active. A call to com_NetworkDetach() will detach the application from the network. This will stop the network if no other connection is pending and no other application is still attached to the network.</p>
<p>libcom contains a blocking API (as described above) and an asynchronous API to control the network attach / detach.</p>
<p>To control the network attach / detach in an asynchronous way, the following set of function can be used:</p><ul>
<li><a class="el" href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync()</a></li>
<li><a class="el" href="libcom_8h.html#a300e60c2174e268dcf17e2767b0c3a68">com_DetachNetworkAsync()</a></li>
<li><a class="el" href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait()</a></li>
<li><a class="el" href="libcom_8h.html#a984ace436d24619b860cb6c44e0a42eb">com_CloseNetworkHandle()</a></li>
</ul>
<p>The <a class="el" href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync()</a> / <a class="el" href="libcom_8h.html#a300e60c2174e268dcf17e2767b0c3a68">com_DetachNetworkAsync()</a> functions return a handle to be used with the <a class="el" href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait()</a> in order to supervise the attach / detach progress.</p>
<dl class="section note"><dt>Note</dt><dd>The handle is valid for the requested attach/detach operation and needs to be returned with the <a class="el" href="libcom_8h.html#a984ace436d24619b860cb6c44e0a42eb">com_CloseNetworkHandle()</a> function after the process is completed.</dd></dl>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line">com_NetworkHandle *handle;</div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line">    </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// start network async</span></div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync</a>(lan_net_profile, NULL);</div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">if(<a class="code" href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait</a>(handle, 100000, &amp;com_errno) != <a class="code" href="libcom_8h.html#a0fa9ee525de984dfdb924e450ba8fbd3ad179702710159b7c1bf09ab748a23c29">COM_NET_STATUS_OK</a>){</div>
<div class="line">    <span class="comment">//ERROR or TIMEOUT</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a984ace436d24619b860cb6c44e0a42eb">com_CloseNetworkHandle</a>(handle, NULL);</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"><span class="comment">// stop network async</span></div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a300e60c2174e268dcf17e2767b0c3a68">com_DetachNetworkAsync</a>(lan_net_profile, NULL);</div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">if(<a class="code" href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait</a>(handle, 100000, &amp;com_errno) != <a class="code" href="libcom_8h.html#a0fa9ee525de984dfdb924e450ba8fbd3ad179702710159b7c1bf09ab748a23c29">COM_NET_STATUS_OK</a>){</div>
<div class="line">    <span class="comment">//ERROR or TIMEOUT</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a984ace436d24619b860cb6c44e0a42eb">com_CloseNetworkHandle</a>(handle, NULL);</div>
<div class="line">    </div>
<div class="line">...</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_forcing_restart_of_a_network"></a>
Forcing Restart of a Network</h3>
<p>The <a class="el" href="libcom_8h.html#a820193ecb965f10c494a1393fbe9bd3b">com_NetworkRestart()</a> function forces the restart of a network. This may be necessary after changing network settings. The restart will be unconditional and interrupting active connections on this network. For mobile networks (2G/3G/4G) it is possible to set which layers should be restarted, for more information on this please see <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_Z_Radio_Net_Restart">Appendix Z: Radio Reconfiguration: Information about restarting / connecting to Mobile Networks</a>.</p>
<p>There is an asynchronous function to force a network restart as well: <a class="el" href="libcom_8h.html#ad21aa775c950864715037a697a63efd1">com_RestartNetworkAsync()</a>. This function can be used in the same way as the asynchronous attach / detach API shown in the example above.</p>
<h3><a class="anchor" id="subsubsec_com_retrieving_network_status"></a>
Retrieving Network Status</h3>
<p><em>Polling Network Status</em></p>
<p>The <a class="el" href="libcom_8h.html#af8cabb81d2ebc6a005e5b39239866870">com_GetNetworkStatus()</a> function can be used the retrieve the status of a network. Given a network profile name, this function returns either the network is started or stopped.</p>
<p><em>Network Status Callback</em></p>
<p>Applications can register a callback function for network status changes using <a class="el" href="libcom_8h.html#ac86c6411e3a7f50c61d552f06fda58e9">com_NetworkSetCallback()</a> function. This callback mechanism informs the application about the changes in the network status of any of the active networks such as network up, down or any other status change together with the type of the network.</p>
<p>A complete list of all supported network events plus description can be found in the <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> header file. They are defined as enum com_NetworkEvent.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> netw_cb (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67">com_NetworkEvent</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">event</a>, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#aec0f538a04656ee7da7fa126128d3047">com_NetworkType</a> type, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">void</span>* priv, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//do your callback actions here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// register the network status callback</span></div>
<div class="line"><a class="code" href="libcom_8h.html#ac86c6411e3a7f50c61d552f06fda58e9">com_NetworkSetCallback</a>(netw_cb, NULL, NULL);</div>
</div><!-- fragment --><p>COM_EVENT_NETWORK_SIGNAL_EXT data is provided by the OS in JSON format and just forwarded to the application as is. This type of event is provided only for WiFi, BT and mobile data (2G/3G/4G) interfaces. The following shows how the data is structured per wireless radio type. </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;GSM&quot;</span>:    {                          <span class="comment">/* event interface GSM/GPRS/3G/4G                                                                         */</span></div>
<div class="line">        <span class="stringliteral">&quot;RSSI&quot;</span>:    {                     <span class="comment">/* signal object                                                                                           */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_rssi&quot;</span>:            20,   <span class="comment">/* signal quality RSSI (RSSI 0-31/99/-1 if not registered). Identical equal to COM_PROP_GSM_SIGNAL_RSSI                         */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_rssi_percent&quot;</span>:    59,   <span class="comment">/* Percentage value (gsm_rssi scaled to 0-100). Identical equal to COM_PROP_GSM_SIGNAL_PERCENTAGE */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_rssi_dbm&quot;</span>:        -73   <span class="comment">/* dBm level based on RSSI value. Identical equal to COM_PROP_GSM_SIGNAL_DBM                                          */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_signal_strength&quot;</span>: 3,    <span class="comment">/* (applicable to 2G, 3G and 4G networks) Universal signal strength indicator (0-5) which is based on a    */</span></div>
<div class="line">                                         <span class="comment">/* signal strength and / or quality indicators depending on the RAT. It should be used instead of          */</span></div>
<div class="line">                                         <span class="comment">/* &quot;gsm_rssi&quot; to draw signal bars.                                                                         */</span></div>
<div class="line">                                         <span class="comment">/* Identical equal to COM_PROP_GSM_SIGNAL_STRENGTH                                                         */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_signal_rscp&quot;</span>:     0,    <span class="comment">/* (3G networks) Received Signal Code Power in dBm.                                                        */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_signal_ec_no&quot;</span>:    0,    <span class="comment">/* (3G networks) Carrier to noise ratio in dB = measured Ec/Io value in dB. Please refer to 3GPP 25.133,    */</span></div>
<div class="line">                                         <span class="comment">/* section 9.1.2.3, Table 9.9 for details on the mapping from EC/n0 to EC/Io.                              */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_signal_rsrp&quot;</span>:     0,    <span class="comment">/* (4G networks) Reference Signal Received Power (see 3GPP 36.214 Section 5.1.1.).                         */</span></div>
<div class="line">            <span class="stringliteral">&quot;gsm_signal_rsrq&quot;</span>:     0     <span class="comment">/* (4G networks) Reference Signal Received Quality (see 3GPP 36.214 Section 5.1.2.).                       */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>GSM only: Since the value ranges for RSSI, percent and dBm heavily depend on the underlying access technology and/or hardware it is no longer recommended to use these values.</dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;BT&quot;</span>:    {                         <span class="comment">/* event interface BT                                                  */</span></div>
<div class="line">        <span class="stringliteral">&quot;RSSI&quot;</span>:    {                   <span class="comment">/* signal strength object                                              */</span></div>
<div class="line">            <span class="stringliteral">&quot;bt_rssi&quot;</span>:         20,     <span class="comment">/* signal strength (plain). Same as COM_PROP_GSM_SIGNAL_RSSI           */</span></div>
<div class="line">            <span class="stringliteral">&quot;bt_rssi_percent&quot;</span>: 59,     <span class="comment">/* signal strength in percent. Same as COM_PROP_GSM_SIGNAL_PERCENTAGE  */</span></div>
<div class="line">            <span class="stringliteral">&quot;bt_rssi_dbm&quot;</span>:    -73,     <span class="comment">/* signal strength in dbm. Same as COM_PROP_GSM_SIGNAL_DBM             */</span></div>
<div class="line">            <span class="stringliteral">&quot;bt_event_type&quot;</span>: <span class="stringliteral">&quot;fall&quot;</span>,   <span class="comment">/* signal level &quot;rise&quot; or &quot;fall&quot;                                       */</span></div>
<div class="line">            <span class="stringliteral">&quot;MAC&quot;</span>: <span class="stringliteral">&quot;60:C7:98:D1:43:A4&quot;</span> <span class="comment">/* BT MAC address associated with these signal values                  */</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;WIFI&quot;</span>:    {                      <span class="comment">/* event interface WiFi                                                */</span></div>
<div class="line">        <span class="stringliteral">&quot;RSSI&quot;</span>:    {                  <span class="comment">/* signal strength object                                              */</span></div>
<div class="line">            <span class="stringliteral">&quot;wifi_rssi&quot;</span>:         5,   <span class="comment">/* signal strength (plain). Same as COM_PROP_GSM_SIGNAL_RSSI           */</span></div>
<div class="line">            <span class="stringliteral">&quot;wifi_rssi_percent&quot;</span>: 84,  <span class="comment">/* signal strength in percent. Same as COM_PROP_GSM_SIGNAL_PERCENTAGE  */</span></div>
<div class="line">            <span class="stringliteral">&quot;wifi_rssi_dbm&quot;</span>:    -62,  <span class="comment">/* signal strength in dbm. Same as COM_PROP_GSM_SIGNAL_DBM             */</span></div>
<div class="line">            <span class="stringliteral">&quot;wifi_event_type&quot;</span>: <span class="stringliteral">&quot;fall&quot;</span>,<span class="comment">/* signal level &quot;rise&quot; or &quot;fall&quot;                                       */</span></div>
<div class="line">            <span class="stringliteral">&quot;ESSID&quot;</span>: <span class="stringliteral">&quot;OpenWrt_WPA2&quot;</span>   <span class="comment">/* ESSID associated with these signal values                           */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>COM_EVENT_REG_STATUS_CHANGE is a special event dedicated for only mobile data networks (GSM, GPRS, ...). Everytime a network registration change is detected it is sent to listening applications. Content of the data passed by the callback function is as follows:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;GSM&quot;</span>:    {                      <span class="comment">/* event interface  GSM/GPRS/3G/4G                                                              */</span></div>
<div class="line">        <span class="stringliteral">&quot;reg_status&quot;</span>:    {           <span class="comment">/* registration status object                                                                   */</span></div>
<div class="line">            <span class="stringliteral">&quot;status&quot;</span>:     4,         <span class="comment">/* registration status. Details below                                                           */</span></div>
<div class="line">            <span class="stringliteral">&quot;lac&quot;</span>:       <span class="stringliteral">&quot;0BD1&quot;</span>,     <span class="comment">/* location/tracking area code                                                                  */</span></div>
<div class="line">            <span class="stringliteral">&quot;cell_id&quot;</span>:   <span class="stringliteral">&quot;00169DA7&quot;</span>, <span class="comment">/* 2-/4-byte cell ID in HEX. Same as COM_PROP_GSM_CELL_ID                                       */</span></div>
<div class="line">            <span class="stringliteral">&quot;rat&quot;</span>:        8          <span class="comment">/* DEPRECATED - USE &quot;rat_mapped&quot; INSTEAD! radio access technology. Details below                */</span></div>
<div class="line">            <span class="stringliteral">&quot;rat_mapped&quot;</span>: 2          <span class="comment">/* radio access technology mapped to enum com_RadioACT                                          */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Possible values for reg_status::status (See enum com_MobileOperatorRegistrationEvent) </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Not registered  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Registration denied  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Searching for new operator  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">Registered to foreign network  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Registered to home network  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">Status unknown  </td></tr>
</table>
<p>Possible values for reg_status::rat </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-1 </td><td class="markdownTableBodyNone">Not connected  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">GSM  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">GSM / UMTS Dual Mode  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">UTRAN  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">GSM with EGPRS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">UTRAN with HSDPA  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">UTRAN with HSUPA  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">UTRAN with HSDPA / HSUPA  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">GSM / LTE  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">LTE  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">E-UTRAN  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10 </td><td class="markdownTableBodyNone">UTRAN / LTE  </td></tr>
</table>
<p>Possible values for reg_status::rat_mapped (See enum com_RadioACT) </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">COM_RADIO_ACCESS_TECHNOLOGY_2G  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">COM_RADIO_ACCESS_TECHNOLOGY_3G  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">COM_RADIO_ACCESS_TECHNOLOGY_4G  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">COM_RADIO_ACCESS_TECHNOLOGY_AUTO  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">COM_RADIO_ACCESS_TECHNOLOGY_LTE_CAT_M1  </td></tr>
</table>
<p>COM_EVENT_PD_REG_STATUS_CHANGE is a special event dedicated for only mobile data networks (GSM, GPRS, ...). Everytime a network packet domain registration change is detected it is sent to listening applications. Content of the data passed by the callback function is as follows:</p>
<p>{"GSM":{"pdreg_status":{"status":4}}}</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;GSM&quot;</span>:    {                      <span class="comment">/* event interface  GSM/GPRS/3G/4G    */</span></div>
<div class="line">        <span class="stringliteral">&quot;pdreg_status&quot;</span>:    {         <span class="comment">/* PD registration status object         */</span></div>
<div class="line">            <span class="stringliteral">&quot;status&quot;</span>:     4,         <span class="comment">/* PD registration status. Details below */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Possible values for pdreg_status::status (See enum com_MobilePacketDomainRegistration) </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ATTACH_NOT_REGISTERED  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ATTACH_HOME_NETWORK  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ATTACH_FOREIGN_NETWORK  </td></tr>
</table>
<p>COM_EVENT_PD_CHANGE is a special event dedicated for only mobile data networks (GSM, GPRS, ...). Everytime a network packet domain status change event is detected it is sent to listening applications. Content of the data passed by the callback function is as follows:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;GSM&quot;</span>:    {                      <span class="comment">/* event interface  GSM/GPRS/3G/4G    */</span></div>
<div class="line">        <span class="stringliteral">&quot;pdev_status&quot;</span>:    {          <span class="comment">/* PD Event status object         */</span></div>
<div class="line">            <span class="stringliteral">&quot;status&quot;</span>:     4,         <span class="comment">/* PD Event status. Details below */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Possible values for pdev_status::status (See enum com_MobilePacketDomainEvent) </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_NW_DEACT  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_NW_ACT  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ME_ACT  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ME_DEACT  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_PDN_ACT  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_PDN_DEACT  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_NW_DETACH  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_ME_DETACH  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">COM_MOBILE_PD_EVENT_UNKNOWN  </td></tr>
</table>
<h3><a class="anchor" id="subsubsec_com_retrieving_basic_network_information"></a>
Retrieving Basic Network Information</h3>
<p>The <a class="el" href="libcom_8h.html#af854f7b94462cbd1b7aa272f1113f567">com_GetNetworkInfo()</a> function can be used the retrieve information about an IP based network interface. Given a network profile name, this function returns a structure containing several IP-protocol information and the interface MAC address if applicable. Usually, this function is used on combination with the <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a>/com_ConnectAsync() callback function or with the <a class="el" href="libcom_8h.html#a10cdfc0c9edf6383c69f8ac03d84131e">com_AttachNetwork()</a>/com_AttachNetworkAsync() functions to get the network IP data the terminal is attached to.</p>
<p>Returned Information: When this function returns without error (check return value first), the struct <a class="el" href="libcom_8h.html#structcom___i_p_config">com_IPConfig</a> variable contains following information for the respective interface:</p><ul>
<li>DHCP enabled / disabled</li>
<li>IP address</li>
<li>Network Mask</li>
<li>Gateway address</li>
<li>DNS1 address</li>
<li>DNS2 address</li>
<li>MAC address</li>
</ul>
<p>All values are zero-terminated strings and have the usual format for IP addresses and MAC.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___i_p_config">com_IPConfig</a> config;</div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> error;</div>
<div class="line"> </div>
<div class="line">memset(&amp;config, 0x00, <span class="keyword">sizeof</span>(config));</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="libcom_8h.html#af854f7b94462cbd1b7aa272f1113f567">com_GetNetworkInfo</a>(<span class="stringliteral">&quot;netprofile.xml&quot;</span>, &amp;config, &amp;error) == 0) {</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;### Printing own IP information:&quot;</span>);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;DHCP enabled: %s&quot;</span>, config.dhcp?<span class="stringliteral">&quot;YES&quot;</span>:<span class="stringliteral">&quot;NO&quot;</span>);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN IP: %s&quot;</span>, config.ip_addr);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN NETMASK: %s&quot;</span>, config.netmask);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN GATEWAY: %s&quot;</span>, config.gateway);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN DNS1: %s&quot;</span>, config.dns1);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN DNS2: %s&quot;</span>, config.dns2);</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;OWN MAC: %s&quot;</span>, config.mac);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line"> LOGF_TRACE(<span class="stringliteral">&quot;com_GetNetworkInfo %s failed with com_errno [%d], %s&quot;</span>, <span class="stringliteral">&quot;netprofile.xml&quot;</span>, error, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(error));</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_retrieving_enhanced_network_information"></a>
Retrieving Enhanced Network Information</h3>
<p>A more sophisticated informational function for all kind of IP based interfaces is the <a class="el" href="libcom_8h.html#a93110e3419cc76be68ce6f4472150ccd">com_GetNetworkInterfaceInfo()</a> function. Especially on V/OS based terminals it offers much more interface information which can be compared to what is known as "ifconfig" on Linux computers. Also IPv6 and link layer statistics are provided. The biggest advantage of this function compared to <a class="el" href="libcom_8h.html#af854f7b94462cbd1b7aa272f1113f567">com_GetNetworkInfo()</a> is that it only needs the interface number (see enum com_Interfaces).</p>
<p>The function returns a complex structure carrying all collected information about the specified interface. IPv6 data are stored as a linked list which needs to be freed. For convenience ADK COM API provides a function to free all dynamically allocated memory inside of the returned structure. It must be called by the user as soon as the interface data are no longer required. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="libcom_8h.html#ae8a2fcfa86cc8570bac8fd005d1be77a">com_NetworkInterfaceInfo_Free</a>(<span class="keyword">struct</span> <a class="code" href="libcom_8h.html#structcom___network_interface_info">com_NetworkInterfaceInfo</a> *netinfo);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If <a class="el" href="libcom_8h.html#ae8a2fcfa86cc8570bac8fd005d1be77a">com_NetworkInterfaceInfo_Free()</a> function is not called, you risk leaking memory inside of your program!</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line"><span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___network_interface_info">com_NetworkInterfaceInfo</a> *netinfo = NULL;</div>
<div class="line"><span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* scope;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code" href="libcom_8h.html#a93110e3419cc76be68ce6f4472150ccd">com_GetNetworkInterfaceInfo</a>(<a class="code" href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea3eeba6cf57e2e793d47b5b8fc96ecb79">COM_INTERFACE_ETH0</a>, &amp;netinfo, &amp;com_errno);</div>
<div class="line"><span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;Failed to get the interface Info of ETH0&quot;</span>);</div>
<div class="line">    CHECK(0);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// print received data</span></div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;Interface status: \t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#aacde29b5fc4cac0c97745a39668d725d">status</a> == <a class="code" href="libcom_8h.html#ae04c2eda5b1eb746d9859a9bc0e2bc14af9d2097570453c43b6c0aa44eacf74b2">COM_NETWORK_STATUS_START</a> ? <span class="stringliteral">&quot;started&quot;</span> : <span class="stringliteral">&quot;stopped&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Address:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a5812b3ceaf6aa474bccf1845f3c604b0">IPV4_Addr</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Netmask:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#accd81dfb7ff0fe1bdf0e1265be6ee4bd">IPV4_Netmask</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Gateway:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a073773bac534ee574f7c3a7580ed162b">IPV4_Gateway</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Broadcast:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#ab7382762229be4575218e41454e6c7c5">IPV4_Broadcast</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Destination:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a4f5b7422b274b52c5946963ea7c789fa">IPV4_Destination</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 DHCP:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a0a8cb7d67f69b7514e51ee65ad8c2faf">IPV4_DHCP_Enabled</a> ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 DNS1:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a8aafe6cd47af9b465fdcee79f8cf5257">IPV4_DNS1</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV4 DNS2:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#ab92d9fa3397862c584a94d588e67dc92">IPV4_DNS2</a>);</div>
<div class="line"> </div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;HW Address:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a75f4fdddee4727f1598d5f4131a38f48">HW_Addr</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;Link Speed:\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a418f09ba474e63c1e96c2e1bc7fce78a">Link_Speed</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;Link Type:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a9c3e27fc0f94996248a792614a3d96df">Link_Type</a> == <a class="code" href="libcom_8h.html#a6410f90915118e2ac0ae7b543ef7c289a60e3574de888a60ff5fd65a6d125114a">COM_LINK_ETHERNET</a> ? <span class="stringliteral">&quot;ETHER&quot;</span> : <span class="stringliteral">&quot;OTHER&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;MTU Size:\t\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#ac2683534ca6c20d94d6a871f5f7ea012">MTU_Size</a>);</div>
<div class="line"> </div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;RX Bytes:\t\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#aede6b17a3932173738f7c5c0abfb138a">RX_Bytes</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;RX Errors:\t\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#ab3efbbdefd73b05f6028b54236b243a5">RX_Errors</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;RX Packets:\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a87f752a4097af5bd9510703bcbb9ab48">RX_Packets</a>);</div>
<div class="line"> </div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;TX Bytes:\t\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a2c7a3804c13765e22cec60ac8fcc8ca9">TX_Bytes</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;TX Errors:\t\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a79044de8cca540f1fa0cba3bd7dc6beb">TX_Errors</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;TX Packets:\t%d&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#ac8845f32b5c4bd4a6d63829209074377">TX_Packets</a>);</div>
<div class="line"> </div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Supported:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a0520a40e12b3f4231eebc6bb08848cb9">IPV6_Supported</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Enabled:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a221d4da9cbfccf59bedb74e4fb8bd8a9">IPV6_Enabled</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Gateway:\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a22e8fd1a6cfa4bf6a41a8eb38748ce14">IPV6_Gateway</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 DHCP:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a691163ffe05f666dbb61ea9ce810cdf0">IPV6_DHCP_Enabled</a> ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 DNS1:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#aae4a7ca85cf8d521b9e7eadcbd3c53c1">IPV6_DNS1</a>);</div>
<div class="line">LOGF_TRACE(<span class="stringliteral">&quot;IPV6 DNS2:\t\t%s&quot;</span>, netinfo-&gt;<a class="code" href="libcom_8h.html#a01ba5c54ee37743016e33d4b8b6189e4">IPV6_DNS2</a>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___i_pv6___data">com_IPv6_Data</a> *elem = netinfo-&gt;<a class="code" href="libcom_8h.html#a5f0094ca0ed2ec56ee038478984cc729">IPV6_Address_List</a>;</div>
<div class="line"><span class="keywordflow">while</span> (elem != NULL){</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;***&quot;</span>);</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Address:\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#acf7b51faba3c0f68c41aced22e8feac8">IPV6_Addr</a>);</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Prefixlen:\t%d&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a23c4e2ad22ebe7b8a5595e94ff49f969">IPV6_Addr_Prefixlen</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18ad9666206105c4fb2f883679b27a18cf5">COM_IPV6_SCOPE_LINK_LOCAL</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;LINK LOCAL&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a021ae3c4a270d55fcd1fb24e16c5ccdc">COM_IPV6_SCOPE_SITE_LOCAL</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;SITE LOCAL&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18ab94e9f679f7b707c520a84a091c9274f">COM_IPV6_SCOPE_V4MAPPED</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;V4 Mapped&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18afd18fd85b223ee1b856e44af6c23b138">COM_IPV6_SCOPE_V4COMPAT</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;V4 Compat&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a60b6f9d1a8ec5af810635d2c2eea67db">COM_IPV6_SCOPE_LOOPBACK</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;Loopback&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a50ecef5eb0009cb46d25646ed7c84e6a">COM_IPV6_SCOPE_UNSPECIFIED</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;Unspecified&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">IPV6_Addr_Scope</a> == <a class="code" href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a1c91f08d8ee9f085a512b70639fde41a">COM_IPV6_SCOPE_GLOBAL</a>) {</div>
<div class="line">      scope = <span class="stringliteral">&quot;Global&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Scope:\t\t%s&quot;</span>, scope);</div>
<div class="line">    elem = elem-&gt;<a class="code" href="libcom_8h.html#a67a7b4e8486f83b6ca30f8f86c559b5e">next</a>;</div>
<div class="line">    </div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;***&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// free memory</span></div>
<div class="line"><a class="code" href="libcom_8h.html#ae8a2fcfa86cc8570bac8fd005d1be77a">com_NetworkInterfaceInfo_Free</a>(netinfo);</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_using_native_os_interfaces_together_with_com_service"></a>
Using native OS Interfaces together with ADK-COM</h2>
<p>ADK-COM allows interworking with native OS communication APIs. The connection can still be established using libcom functionality, and afterwards but applications can retrieve underlying OS handles to continue communication using the native OS functions.</p>
<h3><a class="anchor" id="subsubsec_com_getting_bsd_socket_handle"></a>
Getting BSD Socket Handle</h3>
<p>For IP based connections, the application may use the standard BSD socket interface in order to send / receive data to / from the remote socket. The <a class="el" href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD()</a> returns the socket descriptor to be used for an opened socket type connection. This only works for plain TCP or UDP connections.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">struct com_ConnectHandle *handle;</div>
<div class="line"> </div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(hostname, NULL, NULL, 3 * 60000, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(handle != NULL)</div>
<div class="line">{</div>
<div class="line"><span class="comment">// retrieve socket descriptor for the open connection</span></div>
<div class="line">socket = <a class="code" href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD</a>(handle, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// send data to the remote socket</span></div>
<div class="line">send(socket, sBuffer,<span class="keyword">sizeof</span>(sBuffer),0);</div>
<div class="line">...</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line"><span class="comment">//Error</span></div>
<div class="line">...</div>
<div class="line">}</div>
</div><!-- fragment --><p> The default behavior of an IP socket provided by <a class="el" href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD()</a> function is non-blocking.</p>
<h3><a class="anchor" id="subsubsec_com_getting_raw_connection_handle"></a>
Getting Raw Connection Handle</h3>
<p>Raw connections could be used in the same way as IP based connections by sending and receiving data through a BSD socket interface. For the application it is completely transparent if the retrieved socket descriptor belongs to a raw data connection or an real IP based connection.</p>
<p>The socket descriptor is received with <a class="el" href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD()</a>. Please refer to the example in <a class="el" href="pg_com_users_guide.html#subsubsec_com_getting_bsd_socket_handle">Getting BSD Socket Handle</a>.</p>
<p>The default behavior of the an raw data socket provided by <a class="el" href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD()</a> function is non-blocking, as described in "Sending / Receiving Data".</p>
<h3><a class="anchor" id="subsubsec_com_getting_openssL_handle"></a>
Getting OpenSSL Handle</h3>
<p>For SSL connections, the application has two options to send and receive data through the SSL link:</p><ol type="1">
<li>The SSL connection on top of a TCP socket connection is establishment by libcom internally. Applications have to use <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> and <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a> in order to transmit and received data through the SSL link. <b>This is the recommended way to use SSL.</b></li>
<li>Manually open a SSL connection on top of an existing TCP socket in the application code. In this case, the application must using the standard interfaces of OpenSSL to setup the secure link.</li>
<li>An application can also retrieve the TCP socket descriptor of an established SSL connection using the <a class="el" href="libcom_8h.html#a5a31613d54ff87e6eaf134ba28229004">com_ConnectGetSslFD()</a> function. The default behavior of an SSL data socket provided by <a class="el" href="libcom_8h.html#a5a31613d54ff87e6eaf134ba28229004">com_ConnectGetSslFD()</a> function is non-blocking, as described in "Sending / Receiving Data". (EXPERIENCED USERS ONLY!)</li>
<li>An application can also retrieve the SSL handle of an established SSL connection using the <a class="el" href="libcom_8h.html#a883a247538d9db1a9075bde34fb2786b">com_ConnectGetSslObj()</a> function. You may use SSL functions on this handle during the lifetime of the obtained comhandle. Note that the function <a class="el" href="libcom_8h.html#a5a31613d54ff87e6eaf134ba28229004">com_ConnectGetSslFD()</a> only returns the SSL object of an already established connection. There is no way to modify the connection setup afterwards - as it is already up. (EXPERIENCED USERS ONLY!)</li>
</ol>
<dl class="section note"><dt>Note</dt><dd><b>It is strongly recommended to use (1) or (2) for all normal use cases. All others may cause damage to the COM connection handle if not used in the correct way.</b></dd></dl>
<h2><a class="anchor" id="subsec_com_ping_icmp_echo_interface"></a>
Ping / ICMP Echo interface</h2>
<p>The function <a class="el" href="libcom_8h.html#aa8873f893a11785bf2d04782ca86d4a2">com_Ping()</a> can be used to send one or more ICMP packets to a host (DNS name or IP address). It will fill a <a class="el" href="libcom_8h.html#structcom___ping_info">com_PingInfo</a> structure with statistical data:</p><ul>
<li>Number of transmitted packets</li>
<li>Number of received packets</li>
<li>Average round trip time in milliseconds</li>
<li>Max round trip time in milliseconds</li>
<li>Min round trip time in milliseconds</li>
</ul>
<p>One of following conditions must apply to stop the ping process and to return the statistical data:</p><ul>
<li>If the sent ICMP packets reaches the specified "count"</li>
<li>timeout expired</li>
</ul>
<p>In both cases all so far collected statistical data are returned. Timeout is not treated as an error, so make sure that the timeout is big enough to send the desired amount of ICMP packets, specified by count variable.</p>
<p>The interface can be specified in two manners:</p>
<ul>
<li>Use COM_INTERFACE_ANY if you just want to send a ping no matter which network interface it will use (the routing inside the OS will decide that). This is comparable with the ping command on a PC without adding the option "-I interface", e.g. "ping hostname.com"</li>
<li>Use any other value from enum com_Interfaces to specify the network interface which should be used to transmit the ICMP request packets. Can be compared to the "-I interface" option of the PC ping command, e.g. "ping –I eth0 hostname.com". This will only work for IP based network interfaces. Used on non-IP interfaces, it will return error COM_ERR_NET_NOSUPPORT.</li>
</ul>
<p>If any error occurs the function will return -1 and the com_errno variable is set accordingly.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#aa8873f893a11785bf2d04782ca86d4a2">com_Ping</a>(<span class="stringliteral">&quot;www.verifone.com&quot;</span>, <a class="code" href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea7b596c612d40d9611370b1cbcd242b0b">COM_INTERFACE_ANY</a>, 30, 10, &amp;info, &amp;com_errno)){</div>
<div class="line">  LOGF_TRACE( <span class="stringliteral">&quot;Ping failed[com_errno %d: %s]&quot;</span>, (<span class="keywordtype">int</span>)com_errno, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span>{</div>
<div class="line">  LOGF_TRACE( <span class="stringliteral">&quot;Ping Result: [S:%u/R:%u, TMax/Min/Avg: %lu, %lu, %lu]&quot;</span>, info.ntransmitted, info.nreceived, info.tmax, info.tmin, info.tavg);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#aa8873f893a11785bf2d04782ca86d4a2">com_Ping</a>(<span class="stringliteral">&quot;10.217.146.4&quot;</span>, <a class="code" href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea3eeba6cf57e2e793d47b5b8fc96ecb79">COM_INTERFACE_ETH0</a>, 30, 10, &amp;info, &amp;com_errno)){</div>
<div class="line">  LOGF_TRACE( <span class="stringliteral">&quot;Ping failed[com_errno %d: %s]&quot;</span>, (<span class="keywordtype">int</span>)com_errno, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span>{</div>
<div class="line">  LOGF_TRACE( <span class="stringliteral">&quot;Ping Result: [S:%u/R:%u, TMax/Min/Avg: %lu, %lu, %lu]&quot;</span>, info.ntransmitted, info.nreceived, info.tmax, info.tmin, info.tavg);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_routing"></a>
IP Routing Tables</h2>
<p>The function <a class="el" href="libcom_8h.html#aa8ba2a877f35517bc8cebd9bb5fe56a6">com_GetNetworkRouteInfo()</a> is used to retrieve the current IP routing tables from the terminal. Both routing tables - one for IPv4 and one for IPv6 - are stored in a linked list of routing table elements. Each of the elements consists of routing table information for exactly one route table entry. The information returned are very close to the well-known command line utility "ip -4 route" and "ip -6 route" respectively.</p>
<p>Each list element contains one member named "next". This is the pointer to the next element in the linked list - or NULL if the end of the list has been reached.</p>
<p><a class="el" href="libcom_8h.html#aa8ba2a877f35517bc8cebd9bb5fe56a6">com_GetNetworkRouteInfo()</a> returns two pointers, one for the IPv4 and one for the IPv6 routing list. If one of the output pointers is set to NULL, the associated routing table is not returned. This is useful if you are interested in only one of the tables.</p>
<dl class="section note"><dt>Note</dt><dd>IPv6 is not supported by most V/OS platform versions. The table will be empty (NULL pointer) in case of no IPv6 support.</dd></dl>
<p>Since both routing tables are returned as a linked list of elements which are stored in HEAP memory, the user is responsible to free the memory if the data is no longer required by the user. In order to simplify this procedure you have to use the function <a class="el" href="libcom_8h.html#a947a70004b4fbb64e170d537e3a9ce18">com_NetworkRouteInfo_Free()</a> to release all allocated dynamic memory. Input parameters are the pointers returned by the function <a class="el" href="libcom_8h.html#aa8ba2a877f35517bc8cebd9bb5fe56a6">com_GetNetworkRouteInfo()</a>, or NULL if you do not want to free one of the routing tables.</p>
<div class="fragment"><div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line"><span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___network_route_info___i_pv4">com_NetworkRouteInfo_IPv4</a> *info4;</div>
<div class="line"><span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___network_route_info___i_pv6">com_NetworkRouteInfo_IPv6</a> *info6;</div>
<div class="line"><span class="keywordtype">int</span> ret;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code" href="libcom_8h.html#aa8ba2a877f35517bc8cebd9bb5fe56a6">com_GetNetworkRouteInfo</a>(&amp;info4, &amp;info6, &amp;com_errno);</div>
<div class="line"><span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;Failed to get the routing Info: %s&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line">    CHECK(0);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (info4 == NULL) {</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;***** No IPv4 Table available&quot;</span>);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___network_route_info___i_pv4">com_NetworkRouteInfo_IPv4</a> *elem = info4;</div>
<div class="line">    <span class="keywordflow">while</span> (elem != NULL){</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Ifname:\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a4644a3837a0b7bca49190606f42a7900">ifName</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Src:\t\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#ae896b978ab432c98266983f332a92a59">srcAddr</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Dst:\t\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a152866fbf4a044141489d89cef1d8b56">dstAddr</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 GW:\t\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a4663f02589b264947722ef26848e3e19">gateWay</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Mask:\t\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#ab1290c7bdd7d5f0c21d2dd208bef2989">dstNetmask</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Prefix:\t%d&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a5c6dd61c0918cead8ec430b0ae328111">dstPrefixlen</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Proto:\t\t%d&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#a744eedee50fdd2228d733cdc238f5891">protocol</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 Scope:\t\t%d&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#ae71f8c85f41ae0866a3673565c343de4">scope</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV4 is default:\t%s&quot;</span>, elem-&gt;<a class="code" href="libcom_8h.html#abc6f285a899c507b77a94c8ce3b269af">isDefaultRoute</a> ? <span class="stringliteral">&quot;yes&quot;</span>: <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;******************************************&quot;</span>);</div>
<div class="line">        elem = elem-&gt;<a class="code" href="libcom_8h.html#a855e568119e7590d77d19f779d8573a4">next</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (info6 == NULL) {</div>
<div class="line">    LOGF_TRACE(<span class="stringliteral">&quot;***** No IPv6 Table available&quot;</span>);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="libcom_8h.html#structcom___network_route_info___i_pv6">com_NetworkRouteInfo_IPv6</a> *elem6 = info6;</div>
<div class="line">    <span class="keywordflow">while</span> (elem6 != NULL){</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Ifname:\t%s&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#a4644a3837a0b7bca49190606f42a7900">ifName</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Src:\t\t%s&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#a349d5a976cc39e5a11c8c6fa43b2f3f4">srcAddr</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Dst:\t\t%s&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#ad4fe3ddbd316afb8972ba2f2e5a5d5c9">dstAddr</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 GW:\t\t%s&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#a08fce84cac2667183743020a258fe5d0">gateWay</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Prefix:\t%d&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#a5c6dd61c0918cead8ec430b0ae328111">dstPrefixlen</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Proto:\t\t%d&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#a744eedee50fdd2228d733cdc238f5891">protocol</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 Scope:\t\t%d&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#ae71f8c85f41ae0866a3673565c343de4">scope</a>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;IPV6 is default:\t%s&quot;</span>, elem6-&gt;<a class="code" href="libcom_8h.html#abc6f285a899c507b77a94c8ce3b269af">isDefaultRoute</a> ? <span class="stringliteral">&quot;yes&quot;</span>: <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;******************************************&quot;</span>);</div>
<div class="line">        elem6 = elem6-&gt;<a class="code" href="libcom_8h.html#a94a1d6d004f668479644ad82ea1445e3">next</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// free memory</span></div>
<div class="line"><a class="code" href="libcom_8h.html#a947a70004b4fbb64e170d537e3a9ce18">com_NetworkRouteInfo_Free</a>(info4, info6);</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_error_and_recovery_handling"></a>
Error and Recovery Handling</h2>
<h3><a class="anchor" id="subsubsec_com_fallback_connection_handling"></a>
Fallback Connection Handling</h3>
<p>You may specify several connections in a connection profile. These connections will be tried one after another until either the entire profile fails, the overall timeout has expired, or a connection is successfully established.</p>
<p>Once a connection is setup successfully, there is no automatic process of re-initiating a lost connection. The connection loss is reported to the application by a suitable error code during a send / receive operation. In such a situation, the application needs to re-initiate the connection using the connect() API.</p>
<h3><a class="anchor" id="subsubsec_com_network_recovery_handling"></a>
Network Recovery Handling</h3>
<p>Depending on the error situation during connection setup, ADK-COM tries to repeat the connection setup or to re-initialize the next lower communication layer. We can differentiate between two cases: "Network Retry" and "Connection Retry".</p>
<p><em>Socket Connection Retry</em></p>
<p>The Socket Retry mechanism is used for any IP network based connection, depending on the error cause of the socket connection. A socket error indicating the remote host is reachable but the remote socket can’t be connected (e.g. CONNREFUSED), would not cause a recovery of the network connection. Any socket error indicating the network setup might not be correct (e.g. ENETUNREACH), is doing a network recovery.</p>
<p><em>Network Retry</em></p>
<p>The Network Retry mechanism does only apply for GPRS or other wireless networks, because setting up the link (and PPP) layer needs the actual wireless network availability as a precondition. And this would make sense to recover the underlying network layer on any error during network setup.</p>
<p>The following diagram shows the implemented connection principle for Wireless 3G / GPRS networks:</p>
<div class="image">
<img src="com_image005_Network_Retry_3G_GPRS.png" alt=""/>
<div class="caption">
Network connection principle 3G</div></div>
<p>There is no retry mechanism during terminal startup. If the network connection could not be established, it is kept disconnected until a transaction is initiated:</p>
<div class="image">
<img src="com_image006_Network_Connection_Startup.png" alt=""/>
<div class="caption">
Network connection at terminal startup</div></div>
<dl class="section note"><dt>Note</dt><dd>There is no minimum signal strength required for ADK-COM to start the GPRS network.</dd></dl>
<h3><a class="anchor" id="subsubsec_com_error_codes"></a>
Error Codes</h3>
<p>Most of the libcom functions indicate an error condition by their return values (e.g. negative returns, NULL pointer, etc.). For more detailed error information these functions provide an additional output parameter of enumeration type com_ErrorCodes. These error codes provide detailed information on the error condition.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line"><span class="keyword">struct </span>com_ConnectHandle *handle;</div>
<div class="line"> </div>
<div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;tcp.xml&quot;</span>, NULL, NULL, 10000, &amp;com_errno);</div>
<div class="line"> </div>
<div class="line">printf(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (com_errno == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ab6e00250e492bdcaef29ff6a44c54b2a">COM_ERR_CON_NOFILE</a>){</div>
<div class="line">    <span class="comment">// Connection XML or database could not be parsed*</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (com_errno == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a72f597a173f4df33b978aef78d7066c4">COM_ERR_NET_DENY</a>){</div>
<div class="line">    <span class="comment">// ....</span></div>
<div class="line">}</div>
<div class="line">...</div>
</div><!-- fragment --><p>ADK-COM distinguishes between the following groups of error codes:</p><ul>
<li>COM_ERR_ General Errors</li>
<li>COM_ERR_DAEMON_ Errors related to the runtime component (comdaemon)</li>
<li>COM_ERR_CON_ Errors related to the connection setup</li>
<li>COM_ERR_NET_ Errors related to network setup</li>
<li>COM_ERR_PROP_ Errors related to the get/set properties API</li>
<li>COM_ERR_DEV_ Low level errors of communication devices</li>
<li>COM_ERR_OP_ Logical, operational errors</li>
</ul>
<p>A complete list of all error codes can be found in the interface and API documentation.</p>
<p>A short human readable string of the error codes can be retrieved from application code through the function <a class="el" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString()</a>.</p>
<p>Since <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a>, <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a>, <a class="el" href="libcom_8h.html#a5d8b92257989b0842af3a49a1cc0ac0e">com_SendTo()</a> and <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a> functions use direct socket connections it is possible that the underlying socket throws any error which is relevant to applications to handle that type or error (as usual in network programming). This type of socket errors are also returned by libcom via a special offset value: COM_SYSTEM_ERRNO_BASE.</p>
<p>Whenever you get an error from <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a>, <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a>, <a class="el" href="libcom_8h.html#a5d8b92257989b0842af3a49a1cc0ac0e">com_SendTo()</a> or <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a> which is higher than COM_SYSTEM_ERRNO_BASE you should use following formula to determine the real error cause: </p><div class="fragment"><div class="line">errnocode = commerr - <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58afcf0ee625b03c6a4b801a701c67cc270">COM_SYSTEM_ERRNO_BASE</a></div>
<div class="line">with</div>
<div class="line">commerr = error returned by ADK-<a class="code" href="syslogcmd_8h.html#a3634f6fef0c62931e673162e0714d39caaaabad2553753eb2aceaa31ab2ad3d72">COM</a> <span class="keyword">function</span></div>
<div class="line">errnocode = socket errno</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Be aware that the errno values in both header files differ. Always use the macro definitions instead of pure values in your code!</dd></dl>
<h2><a class="anchor" id="subsec_com_timeouts"></a>
Timeouts</h2>
<p>The timeouts which can be set inside connect/network-profiles as well as some of the connection functions themselves are as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Timeout </th><th class="markdownTableHeadNone">Location </th><th class="markdownTableHeadNone">Use  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Connection timeout </td><td class="markdownTableBodyNone">Connection XML file between timeout tags </td><td class="markdownTableBodyNone">Specifies the connection timeout. This pertains to the setting up of the socket, connection, creating of the SSL context as well as negotiation. This timeout spans over these operations together, not separately  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Connection DNS timeout </td><td class="markdownTableBodyNone">Connection XML file between dns_timeout tags </td><td class="markdownTableBodyNone">(Optional) Specifies the amount of time which should be invested to resolve hostnames. This is only valid for connections which reference a network (IP). If this is not specified the network-timeout is used. This is because in order to set the routing, the DNS query must be done beforehand to resolve the address.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Connection IP timeout </td><td class="markdownTableBodyNone">Connection XML file between ip_timeout tags </td><td class="markdownTableBodyNone">(Optional) Specifies the amount of time which should be invested in connection to one IP. This is useful for an IP address in which the network/host does not respond to SYN requests and does not generate an error. This is only valid for connections which reference a network (IP). Please note that the connection timeout is still active and will supersede this timeout if it has expired, so make sure the connection/ip timeouts are properly adjusted. Please note this timeout only spans the TCP connection setup and does not include SSL.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Network Timeout </td><td class="markdownTableBodyNone">Network XML file between timeout tags </td><td class="markdownTableBodyNone">Specifies the time it should take to set the specified network up  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Connect function Timeout </td><td class="markdownTableBodyNone">Parameter to the connect function </td><td class="markdownTableBodyNone">This parameter defines the overall time it should take for all the operations for a connection needed to complete. This timeout supersedes the other timeouts  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Wait function timeout </td><td class="markdownTableBodyNone">Parameter to the wait function </td><td class="markdownTableBodyNone">This parameter defines the overall time which can be waited for a connection to succeed (or fail). This timeout is only relevant when using the asynchronous interface. Note that the expiration of the timeout will do nothing except inform the user that indeed the timeout has expired. The connection attempt will still continue to proceed. It is valid for the user to wait again.  </td></tr>
</table>
<p>The values of the connection/network timeouts are all interpreted as milliseconds. The value 0 is interpreted to as an infinite timeout The timeouts to the functions however may not be infinite. In these 0 will be interpreted as 0ms timeout, which will most likely not work. This is to prevent the application from accidentally locking itself up</p>
<dl class="section note"><dt>Note</dt><dd>Any timeout is just a maximum amount of time the application allows before something is assumed to be wrong. Any action may fail at any time for any reason, irrespective of if the timeout is reached. This applies to <em>all</em> timeouts.</dd></dl>
<h2><a class="anchor" id="subsec_com_connection_and_network_profiles"></a>
Connection and Network Profiles</h2>
<h3><a class="anchor" id="subsec_com_connection_profiles1"></a>
Connection Profiles</h3>
<p>A connection profile can consist of multiple connections which are handled as subsets. The second and following are used in the consecutive order as fallback connections.</p>
<p>The timeout defined in each subset belongs to only this connection attempt. An overall connection timeout (including all fallback attempts) is not defined in the profiles, but rather specified when calling com_Connect or com_ConnectWait. Please note that com_ConnectWait does not abort the connection if the Wait should come back with an timeout, instead the application is left with the choice to retry or to close.</p>
<p>Example of a connection profile containing a TCP connection and a second (fallback) raw modem connection: </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;LOCAL_NET.xml&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;bhelvbuild2.verifone.com&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;1200&lt;/PORT&gt;</div>
<div class="line">        &lt;DNS_TIMEOUT&gt;10000&lt;/DNS_TIMEOUT</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;10000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;BIND&gt;1&lt;/BIND&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_MODEM&lt;/TYPE&gt;</div>
<div class="line">        &lt;PABX_CODE&gt;8&lt;/PABX_CODE&gt;</div>
<div class="line">        &lt;ADDRESS&gt;84918&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;DEVICE_NAME&gt;MDM_INT&lt;/DEVICE_NAME&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;DIAL_TYPE&gt;tone&lt;/DIAL_TYPE&gt;</div>
<div class="line">        &lt;DIAL_MODE&gt;async&lt;/DIAL_MODE&gt;</div>
<div class="line">        &lt;MODULATION&gt;V92&lt;/MODULATION&gt;</div>
<div class="line">        &lt;BLIND_DIALING&gt;yes&lt;/BLIND_DIALING&gt;</div>
<div class="line">        &lt;ERROR_CORRECTION&gt;v42_mnp&lt;/ERROR_CORRECTION&gt;</div>
<div class="line">        &lt;COMPRESSION&gt;none&lt;/COMPRESSION&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Example of a connection profile containing a UDP connection: </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;UDP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;LOCAL_NET&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ALLOW_BROADCAST&gt;1&lt;/ALLOW_BROADCAST&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;10000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_ip_connections"></a>
IP Connections</h3>
<p>The following minimal connection properties need to be provided to specify an IP based connection:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"TCP", "SSL", "UDP", "WS", "WSS" </td><td class="markdownTableBodyNone">Type of the connection: Plain TCP, plain UDP, TLS/SSL over TCP or Websockets (TLS secured and non-secure)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NETWORK </td><td class="markdownTableBodyNone">XML: Name of the XML file , InfoSvc: Name of the node with proper network-configuration </td><td class="markdownTableBodyNone">Name of the Network Profile to be used <br  />
 <b>Please note that the XML file on the file system must have the ending '.xml' (all lower case). Otherwise the file cannot be found and error COM_ERR_NET_NOFILE is returned.</b>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">START_NETWORK </td><td class="markdownTableBodyNone">1 or 0 </td><td class="markdownTableBodyNone">A value of 0 prevents the specified network from starting if it's down on connection attempt. If this setting is omitted or set to 1, the network will be brought up.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Server address. Either a valid IP address or host name. Unused if TYPE=UDP.<br  />
-In the case of SERVER = 0: The IP address (or host name) of the remote server.<br  />
-In the case of SERVER = 1: The local host listen IP address (or host name, e.g. on CM5 the name <code>vfi-terminal</code> can be used to refer to the internal network for Android).<br  />
<dl class="section note"><dt>Note</dt><dd>IPv6 link-local addresses are not officially supported.  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PORT </td><td class="markdownTableBodyNone">Number, value range: 1 ... 65535 </td><td class="markdownTableBodyNone">In the case of SERVER = 0: The destination host service port number. Not used for UDP.<br  />
- In the case of SERVER = 1: The local host listen port number. <dl class="section note"><dt>Note</dt><dd>The local host listen port number is limited to 1025 ... 65535.  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PROXY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Server address. IP address of the HTTP Proxy Server to be used for the connection. If unset or empty no proxy will be used and the connection will be made directly  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PROXY_PORT </td><td class="markdownTableBodyNone">Number, value range: 1 ... 65535 </td><td class="markdownTableBodyNone">Proxy server port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WSPATH </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Websocket path on server. Only used if TYPE=WS or TYPE=WSS  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WSHOST </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Hostname on server. Only used if TYPE=WS or TYPE=WSS. Automatically set to value ADDRESS if not explicitly specified  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WSORIGIN </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Socket origin name. Only used if TYPE=WS or TYPE=WSS. Automatically set to value ADDRESS if not explicitly specified  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WSPROTOCOL </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">name of the sub-protocol used (optional)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WSEXTRAHEADER_1 </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">extra HTTP request header to be sent during client connection setup must always have the format {KEY}:{VALUE}  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WSEXTRAHEADER_2 </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">another extra HTTP request header to be sent during client connection setup. Must always have the format {KEY}:{VALUE}  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WSEXTRAHEADER_3 </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone"><p class="starttd">another extra HTTP request header to be sent during client connection setup. Must always have the format {KEY}:</p>
<p class="endtd"></p>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WSEXTRAHEADER_4 </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">another extra HTTP request header to be sent during client connection setup. Must always have the format {KEY}:{VALUE}  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WSPINGINTERVAL </td><td class="markdownTableBodyNone">Number, value range 0 ... 3600 </td><td class="markdownTableBodyNone">Send a WS PING message to remote peer every x seconds. 0 (default) means no PING message will be sent.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">Number, unit: millisecs </td><td class="markdownTableBodyNone">Time a connection establishment may take before it is cancelled. When this timeotu elapses the current connection attempt is canceled and the next connection is tried, if present.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IP_TIMEOUT </td><td class="markdownTableBodyNone">Number, unit: millisecs </td><td class="markdownTableBodyNone">The time a connection attempt to a IP may take. If several IPs are returned from the DNS the next IP will be tried, if there is still time remaining. Default -1 (TIMEOUT is used instead). See section <a class="el" href="pg_com_users_guide.html#subsec_com_timeouts">Timeouts</a> for further information.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DNS_TIMEOUT </td><td class="markdownTableBodyNone">Number, unit: millisecs </td><td class="markdownTableBodyNone">Optional time the DNS resolution may take before it is cancelled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BIND </td><td class="markdownTableBodyNone">1 or 0 </td><td class="markdownTableBodyNone">Bind this connection to network interface defined in NETWORK (optional). Not used if TYPE=UDP.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BIND_GATEWAY </td><td class="markdownTableBodyNone">String, any valid IPv4 address </td><td class="markdownTableBodyNone">IPv4 network gateway which should be used to address packets for this connection (usually required when the host is not inside the same subnet as terminal) (optional). This parameter only has an effect if bind is 1. Not used for UDP.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BIND_GATEWAY_V6 </td><td class="markdownTableBodyNone">String, any valid IPv6 address </td><td class="markdownTableBodyNone">IPv6 network gateway which should be used to address packets for this connection (usually required when the host is not inside the same subnet as terminal) (optional). This parameter only has an effect if bind is 1. Not used for UDP.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RESTRICT_LOCAL </td><td class="markdownTableBodyNone">0 or 1 </td><td class="markdownTableBodyNone">If in server mode AND the referenced network-profile is of type local loopback, restrict incoming connections to localhost. Default is 1 (on). Ignored if TYPE=WS or TYPE=WSS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SERVER </td><td class="markdownTableBodyNone">0 or 1 </td><td class="markdownTableBodyNone">Listen on "PORT" for one external connection. The ADK server component is not able to handle multiple clients at once!  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ALLOW_BROADCAST </td><td class="markdownTableBodyNone">0 or 1 </td><td class="markdownTableBodyNone">UDP only: set to 1 if you want to send network broadcast messages, 0 will deny broadcasts using ADK-COM API  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TCP_MAXSEG </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">The maximum segment size for outgoing TCP packets. 0 means OS specific default value. When set to 0 or not specified in profile the OS specific default value will be used. (optional, FOR EXPERIENCED USERS ONLY, ignored for UDP, WS and WSS)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TCP_USER_TIMEOUT </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Maximum amount of time in milliseconds that transmitted data may remain unacknowledged, or buffered data may remain untransmitted (due to zero window size), before TCP will forcibly close the corresponding connection. When set to 0 or not specified, the OS specific default value will be used. (optional, FOR EXPERIENCED USERS ONLY, ignored for UDP, WS and WSS, supported only on VOS2 and VOS3)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADDR_FAMILY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Used to specify the used socket type (IPv4, IPv6 or unspecified) for this connection. Can be one of these values: "IPv4", "IPv6" or "UNSPEC". "Unspec" means that the connection to the host (in case it was specified as DNS name in "ADDRESS" field) will either be established via IPv4 or IPv6 - libcom will decide. If "ADDRESS" is a IPv4 or IPv6 address and "ADDR_FAMILY" does not fit, COM_ERR_CON_INVALID is returned and an error message is printed. Also note that value "UNSPEC" is not possbible for UDP connections - only "IPv4" and "IPv6" are acceptable values. If this value is not set it defaults to "IPv4" for UDP and "UNSPEC" for TCP server/client. Ignored for all WS and WSS connections.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SO_REUSEADDR </td><td class="markdownTableBodyNone">1 or 0 </td><td class="markdownTableBodyNone">Optional for server sockets only: set or unset the SO_REUSEADDR socket option. For more details refer to the according manual page for sockets: <a href="http://man7.org/linux/man-pages/man7/socket.7.html">http://man7.org/linux/man-pages/man7/socket.7.html</a>. Ignored and always implicitly set for TYPE=WS and TYPE=WSS.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SO_LINGER </td><td class="markdownTableBodyNone">1 or 0 </td><td class="markdownTableBodyNone">Optional for TCP/SSL client sockets only: When set to 1 do an orderly TCP shutdown and wait for buffers to be cleared when closing (meaning com_ConnectClose will wait until the TCP connection is closed). For more details refer to the according manual page for sockets: <a href="http://man7.org/linux/man-pages/man7/socket.7.html">http://man7.org/linux/man-pages/man7/socket.7.html</a>. Empty uses default socket settings. Default is 1. <dl class="section note"><dt>Note</dt><dd>When setting this to value 0 and you are using an on-demand network, the network might go down leaving the connection broken. Therefore this option is not recommended. Ignored for WS and WSS connections.  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SO_LINGER_TIMEOUT </td><td class="markdownTableBodyNone">0 - 30 </td><td class="markdownTableBodyNone">Optional linger timeout. Default is 5 seconds. Only has an effect when SO_LINGER is set to 1. Please note that these are seconds, not milliseconds. Ignored for WS and WSS connections.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SO_KEEPALIVE </td><td class="markdownTableBodyNone">0, 1 </td><td class="markdownTableBodyNone">Optional parameter: Enable sending of keep-alive messages on connection-oriented sockets. Default value is 0.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SO_KEEPALIVE_KEEPCNT </td><td class="markdownTableBodyNone">0, &gt;= 1 </td><td class="markdownTableBodyNone">Optional parameter: The maximum number of keepalive probes TCP should send before dropping the connection. "0" or not specified in profile will apply the default Linux Kernel value: 9 probes.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SO_KEEPALIVE_KEEPIDLE </td><td class="markdownTableBodyNone">0, &gt;= 1 </td><td class="markdownTableBodyNone">Optional parameter: The time (in seconds) the connection needs to remain idle before TCP starts sending keepalive probes, if the socket option SO_KEEPALIVE has been set on this socket. "0" or not specified in profile will apply the default Linux Kernel value: 7200 seconds.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SO_KEEPALIVE_KEEPINTVL </td><td class="markdownTableBodyNone">0, &gt;= 1 </td><td class="markdownTableBodyNone">Optional parameter: The duration (in seconds) between two successive keepalive retransmissions, if acknowledgement to the previous keepalive transmission is not received. "0" or not specified in profile will apply the default Linux Kernel values: 75 seconds.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">USE_DNS1 </td><td class="markdownTableBodyNone">String: IPV4, IPV6 address </td><td class="markdownTableBodyNone">Use this address to do DNS resolution (First address)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">USE_DNS2 </td><td class="markdownTableBodyNone">String: IPV4, IPV6 address </td><td class="markdownTableBodyNone">Use this address to do DNS resolution (Second address)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MIN_SIGNAL_PERCENT </td><td class="markdownTableBodyNone">Int, 0 ... 100, Percentage </td><td class="markdownTableBodyNone">Optional parameter. Default is 0. Minimum signal value in percent required to start the connection through the referenced network interface. If this value is not 0 then the signal level of the device corresponding to the network interface of the referenced network profile is queried. If the obtained level is below this value or the value cannot be ascertained, then the connection will be skipped.  </td></tr>
</table>
<p>If the connection type is SSL or WSS, the following properties need to be set to provide the SSL specific configuration options and certificates. Note that some of them are ignored in case of Websockets (TYPE=WSS) - see description column.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MUTUAL </td><td class="markdownTableBodyNone">0 or 1 </td><td class="markdownTableBodyNone">Enforce Client authentication when in server mode. Ignored in client mode. Default is 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_PROT_VERSION </td><td class="markdownTableBodyNone">"TLS1_3", "TLS1_2", "TLS1_1", "TLS1_0", "SSL3", "SSL23" </td><td class="markdownTableBodyNone">SSL: Protocol version used for client or server mode. Ignored for WSS connections  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSL23_PROT_VERSION_MIN </td><td class="markdownTableBodyNone">"TLS1_3", "TLS1_2", "TLS1_1", "TLS1_0", "SSL3" </td><td class="markdownTableBodyNone">SSL: SSL Protocol minimum version if SSL_PROT_VERSION is set to <code>"SSL23"</code>. Ignored for all other SSL versions than SSL23. If not defined the minimum allowed SSL/TLS version will be set to SSL3. ignored for WSS connections  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_CA_CERT_FILE </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: Path and name of file containing trusted root certificates. It can contain either one or multiple certificates. In case you have stored more than one root certificate you simply have to concatenate all those certificates into one file in PEM format.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSL_CA_CERT_PATH </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: Path to the directory containing trusted root certificates in PEM format. <br  />
 The files each contain one CA certificate. The files are looked up by the CA subject name hash value, which must hence be available. If more than one CA certificate with the same name hash value exist, the extension must be different (e.g. 9d66eef0.0, 9d66eef0.1 etc). The search is performed in the ordering of the extension number, regardless of other properties of the certificates. Use the OpenSSL utility 'c_rehash' to create the necessary links. See <a href="https://www.openssl.org/docs/man1.0.2/man1/c_rehash.html">https://www.openssl.org/docs/man1.0.2/man1/c_rehash.html</a> for more information. Ignored for WSS connections  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_OWN_CERT </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: Name of (and optional path to) file containing the own public key certificate required for mutual authentication. <br  />
 <br  />
 ADKCOM provides support for SSL private keys stored in the Vault or Secure Processor. For more details in this case refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSL_OWN_PKEY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: Name of (and optional path to) file containing the private key required for mutual SSL authentication. <br  />
 <br  />
 ADKCOM provides support for SSL private keys stored in the Vault or Secure Processor. For more details in this case refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_PKCS12_FILE </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: Name of PKCS#12 file containing own client PKEY and Certificate [optional it can contain also the CA certs]. <dl class="section note"><dt>Note</dt><dd>When this parameter is present, SSL_OWN_CERT and SSL_OWN_PKEY_FILE are ignored. If no SSL_CA_CERT_FILE or SSL_CA_CERT_PATH is available ADK-COM expects the CA certificates inside the PKCS#12 file! <br  />
 See also <a class="el" href="libcom_8h.html#af66689ca828262faa844703399d6e128">com_SetPassword()</a> and callback connection event "COM_EVENT_SSL_PASSWORD_REQUIRED" to inject the secret to unlock the PKCS#12 file before usage. Ignored for WSS connections. <br  />
 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>VOS3 no longer supports PKCS#12 / PFX files  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSL_CIPHER_LIST </td><td class="markdownTableBodyNone">String, Example: "DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA:DHE-RSA-CBC3-SHA:@STRENGTH" </td><td class="markdownTableBodyNone">SSL: OpenSSL Cipher Suite list.<br  />
 Optional parameter. <br  />
 Refer to <a href="https://www.openssl.org/docs/ssl/SSL_CTX_set_cipher_list.html">https://www.openssl.org/docs/ssl/SSL_CTX_set_cipher_list.html</a>. Due to PCI 6 requirements the OpenSSL library security level was increased resulting in older TLS protocols to fail. In case TLSv1 and TLSv1.1 support is still required, you can set the content of this parameter to just the special value "VERIFONE_LEGACY_DEFAULT" which instructs the internal TLS routines to allow those older TLS protocols still without dealing with the complex and security relevant OpenSSL cipher suite string yourselves.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_POLICY </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">SSL: Disables some of the remote peer certificate checks. See section <a class="el" href="pg_com_users_guide.html#subsubsec_com_ssl_policy">SSL Policy</a> for more information.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSL_POLICY_EXT </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">More granular disabling of remote peer certificate checks. If present in connection profile, the parameter SSL_POLICY is ignored.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSL_SNI_SERVERNAME </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">SSL: optional Server Name Indication (SNI) server name. Ignored for WSS connections. If value is not specified or using a WSS connection, the hostname (if it has a DNS format) from "address" field will be automatically used for SNI.  </td></tr>
</table>
<p>Sample SSL Connection: </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;SSL&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;flash/activenetwork.xml&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;bhelvbuild2.verifone.com&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;443&lt;/PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;30000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;BIND&gt;1&lt;/BIND&gt;</div>
<div class="line">        &lt;SSL_CA_CERT_FILE&gt;flash/cacert.pem&lt;/SSL_CA_CERT_FILE&gt;</div>
<div class="line">        &lt;SSL_OWN_CERT&gt;flash/privatekey_cert.pem&lt;/SSL_OWN_CERT&gt;</div>
<div class="line">        &lt;SSL_OWN_PKEY&gt;flash/privatekey_cert.pem&lt;/SSL_OWN_PKEY&gt;</div>
<div class="line">        &lt;SSL_PROT_VERSION&gt;TLS1_2&lt;/SSL_PROT_VERSION&gt;</div>
<div class="line">        &lt;SSL_POLICY_EXT&gt;0&lt;/SSL_POLICY_EXT&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Sample WSS Client Connection (secure Websockets): </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;WSS&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;xml/LOCAL_NET&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;libwebsockets.org&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;443&lt;/PORT&gt;</div>
<div class="line">        &lt;WSPATH&gt;/&lt;/WSPATH&gt;</div>
<div class="line">        &lt;WSHOST&gt;libwebsockets.org&lt;/WSHOST&gt;</div>
<div class="line">        &lt;WSORIGIN&gt;libwebsockets.org&lt;/WSORIGIN&gt;</div>
<div class="line">        &lt;WSPROTOCOL&gt;dumb-increment-protocol&lt;/WSPROTOCOL&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;5000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;SSL_CA_CERT_FILE&gt;crt/libwebsockets.org.cer&lt;/SSL_CA_CERT_FILE&gt;</div>
<div class="line">        &lt;use_dns1&gt;10.215.255.220&lt;/use_dns1&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Sample WSS Server Connection (secure Websockets): </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;WSS&lt;/TYPE&gt;</div>
<div class="line">        &lt;SERVER&gt;1&lt;/SERVER&gt;</div>
<div class="line">        &lt;MUTUAL&gt;0&lt;/MUTUAL&gt;</div>
<div class="line">        &lt;NETWORK&gt;xml/LOCAL_NET&lt;/NETWORK&gt;</div>
<div class="line">        &lt;PORT&gt;9443&lt;/PORT&gt;</div>
<div class="line">        &lt;SSL_CA_CERT_FILE&gt;flash/cacert.pem&lt;/SSL_CA_CERT_FILE&gt;</div>
<div class="line">        &lt;SSL_OWN_CERT&gt;flash/privatekey_cert.pem&lt;/SSL_OWN_CERT&gt;</div>
<div class="line">        &lt;SSL_OWN_PKEY&gt;flash/privatekey_cert.pem&lt;/SSL_OWN_PKEY&gt;</div>
<div class="line">        &lt;WSPATH&gt;/&lt;/WSPATH&gt;</div>
<div class="line">        &lt;WSPROTOCOL&gt;my-test-protocol&lt;/WSPROTOCOL&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;40000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_ssl_policy"></a>
SSL Policy</h3>
<p><b>WARNING</b></p>
<p>The terminal OS provides functionality and guidance that complies with PCI PTS requirements by default.</p>
<p>If an application developer explicitly chooses to use alternative functionality for the transmission or processing of cardholder data, then the application developer is responsible for security of the cardholder data and compliance. The application developer should ensure that this alternative functionality is approved by the acquirer of the transactions. In general, this means compliant with regional banking requirements and broad requirements such as PCI PA-DSS and PCI DSS.</p>
<p>PCI Compliance reference:</p><ol type="1">
<li>PIN Transaction Security (PTS) Point Of Interaction (POI) applies to the terminal OS software and hardware</li>
<li>Payment Application Data Security Standard (PCI PA-DSS) applies to payment applications that store, process, or transmit cardholder data as part of authorization or settlement</li>
<li>PCI Data Security Standard (PCI DSS) applies to entities involved in payment card processing or that otherwise store, process, or transmit cardholder data</li>
</ol>
<p>When using any SSL_POLICY other than 0 you will</p>
<ul>
<li>Open potential security leaks</li>
<li>be no longer able to validate the authenticity of the remote peer</li>
</ul>
<p>If this parameter is not set or set to '0' in your connection profile, the secure default value will be used.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">default policy (PCI compliant)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Accept also self-signed certificates  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Accept expired remote certificates  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">Accept remote certificates which are not yet valid  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Accept (1) and (2)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">Accept (1) and (3)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">Accept (1) and (2) and (3)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">Accept (2) and (3)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">Accept certificates issued for a different hostname than specified by the user in the connection profile  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">Accept (1) and (8)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">99 </td><td class="markdownTableBodyNone">Policy 99: allow any certificate and don't check anything  </td></tr>
</table>
<p>When this value is set to anything &gt; 0, the application is sent a connection event COM_EVENT_SSL_CONFIRM_POLICY_OVERRIDE which must be handled in the registered connection callback function. In the callback the application must read the policy set for the current connection and must confirm if this is the value they wish to use by calling the function <a class="el" href="libcom_8h.html#af66689ca828262faa844703399d6e128">com_SetPassword()</a> with pwtype set to COM_PASSWORD_SSL_POLICY_ACCEPT and password "POLICY_ACCEPTED_INSECURE_NONPCICOMPLIANT_DANGEROUS". If not accepted simply do not call the <a class="el" href="libcom_8h.html#af66689ca828262faa844703399d6e128">com_SetPassword()</a> function or set a different passphrase.</p>
<h3><a class="anchor" id="subsubsec_com_ssl_policy_ext"></a>
Extended SSL Policy</h3>
<dl class="section warning"><dt>Warning</dt><dd>If SSL_POLICY_EXT is set, SSL_POLICY will be ignored</dd></dl>
<p>In addition to the previous chapter, for a more granular disabling the parameter SSL_POLICY_EXT can be set to any conjunction of:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Bit </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Default policy (PCI compliant)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Disable all checks, allow any certificate  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Allow self-signed certificates  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">Allow expired remote certificates  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">Allow remote certificates which are not yet valid  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">16 </td><td class="markdownTableBodyNone">Allow certificates issued for a different hostname than specified by the user in the connection profile  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">32 </td><td class="markdownTableBodyNone">Allow small server certificate key size (anything below 2048 bits)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">64 </td><td class="markdownTableBodyNone">Allow weak hash algorithms (MD5, SHA1). <dl class="section note"><dt>Note</dt><dd>Be aware that weak hash algorithms for <b>Root Certificates</b> are <b>always permitted</b> and do not need explicit permission through above policy override.  </dd></dl>
</td></tr>
</table>
<p>For ease of use there are defines in <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> starting with "COM_SSL_POLICY_IGNORE_": <a class="el" href="libcom_8h.html#a7dec03cd17a237d847b9021ccbe27f2b">COM_SSL_POLICY_IGNORE_ALL</a></p>
<p>For instance if you want to accept self-signed, expired certificates with a small key size, set the parameter to 2 + 4 + 32 = 38 </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;SSL&lt;/TYPE&gt;</div>
<div class="line">        ...</div>
<div class="line">        &lt;SSL_POLICY_EXT&gt;38&lt;/SSL_POLICY_EXT&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="subsubsec_com_ssl_resumption"></a>
SSL ID resumption</h3>
<p>The SSL/TLS implementation in ADK COM uses SSL session ID resumption by default. This feature cannot be switched off since it offers a significant connection speed-up. <br  />
A SSL session is resumed on any subsequent connection to the same server as long as the server supports session resumption. Only the last 10 sessions are cached within ADKCOM. The session cache is not shared accross different processes.</p>
<dl class="section note"><dt>Note</dt><dd><b>NEVER</b> use leading zeros in any IP address you enter in any of the ADK-COM profiles. If an IP address is entered with leading zeros, the numbers are interpreted in octal form rather than decimal form hence the resulting IP address will differ from what you actually expect.</dd></dl>
<h3><a class="anchor" id="subsubsec_com_raw_data_connections"></a>
Raw Data Connections</h3>
<p>Raw data connection such as transparent modem or serial do not require to reference any network profile. Instead they depend on the remote station and the supported feature set. Because all connections defined in a connection profile <b>must</b> define all parameters required to establish the logical host connection, those connection types require the full set of parameters (dial number, compression and so on) and do not refer to an existing network profile.</p>
<p>There is currently no way to share Raw data connections across different applications. All Raw data connections are exclusively opened for one application. If a second one needs to get access to the connection, the first application needs to close it first in order to free the exclusive lock.</p>
<p>Following connection parameters are required for each of the supported raw data connections and must always be present.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"RAW_MODEM", "RAW_SERIAL", "RAW_CSD" </td><td class="markdownTableBodyNone">Type of the connection  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Time a connection establishment may take before it is cancelled  </td></tr>
</table>
<p><b>Analog Modem specific connection properties (Type = RAW_MODEM):</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADDRESS </td><td class="markdownTableBodyNone">String: "123443221" </td><td class="markdownTableBodyNone">Host dial number  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"MDM_INT", "BT_DUN" </td><td class="markdownTableBodyNone">Defined symbol for the network interface. Normal modem or Bluetooth modem  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PABX_CODE </td><td class="markdownTableBodyNone">String: "8" </td><td class="markdownTableBodyNone">PABX dial prefix. Optional parameter  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DIAL_TYPE </td><td class="markdownTableBodyNone">"tone", "pulse" </td><td class="markdownTableBodyNone">The analogue modem dialling type, default will be "TONE"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DIAL_MODE </td><td class="markdownTableBodyNone">"async", "sync" </td><td class="markdownTableBodyNone">The analogue modem connection mode, default will be async  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MODULATION </td><td class="markdownTableBodyNone">"auto", "v21", "v22","v22bis", "bell103", "bell212", "v32", "v32bis", "v34", "v90", "v92" </td><td class="markdownTableBodyNone">The modulation type used for the modem connection. Default: "auto" (modem firmware's default speed setting which is not necessarily the highest possible!)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BLIND_DIALING </td><td class="markdownTableBodyNone">"yes", "no" </td><td class="markdownTableBodyNone">En- or Disable blind dialing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FAST_CONNECT </td><td class="markdownTableBodyNone">"yes", "no" </td><td class="markdownTableBodyNone">En- or Disable fast connect for sync dial_mode (SDLC)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COMPRESSION </td><td class="markdownTableBodyNone">"none", "v42_mnp", "auto" </td><td class="markdownTableBodyNone">Optional parameter: modem data compression mode. Default: "auto". !! May only be changed by experienced users !!  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ERROR_CORRECTION </td><td class="markdownTableBodyNone">"auto", "none", "v42_mnp", "v42_mnp_only", "v42_only", "mnp_only" </td><td class="markdownTableBodyNone">Optional parameter: error correcting mode to be negotiated in a subsequent data connection. Default: "auto". !! May only be changed by experienced users !!  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BT_ADDR </td><td class="markdownTableBodyNone">Bluetooth hardware address, for example "00:1b:dc:06:81:31" </td><td class="markdownTableBodyNone">Bluetooth hardware address of the remote device with which the serial connection should be established. <dl class="section note"><dt>Note</dt><dd>You may omit this value. If so ADK-COM will check if exactly one BT device is paired with the terminal and will try to establish a DUN connection to that device. In case more than one BT device is currently paired, com_Connect will return COM_ERR_OP_AMBIGUOUS. In this case you will have to specify a BT_ADDR in the connection profile.<br  />
 Not required for DEVICE_NAMES other than "BT_DUN".<br  />
 Optional parameter.  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BAUDRATE </td><td class="markdownTableBodyNone">String: "115200", "57600", "38400", "19200", "9600", "4800", "2400", "1200", "600", "300" </td><td class="markdownTableBodyNone">Serial Port Baud Rate on Modem Serial Port. Default: 115200  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PARITY </td><td class="markdownTableBodyNone">String: "none", "odd", "even" </td><td class="markdownTableBodyNone">Modem Serial Port Parity. Default: none  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DATABITS </td><td class="markdownTableBodyNone">8, 7 </td><td class="markdownTableBodyNone">Used data bits on Modem Serial Port. Default: 8  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">STOPBITS </td><td class="markdownTableBodyNone">1 or 2 </td><td class="markdownTableBodyNone">Used stop bits on Modem Serial Port. Default: 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AT_STR_1 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_2, AT_STR_3 and AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AT_STR_2 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_3 and AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AT_STR_3 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AT_STR_4 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem right before the dialing with ATD. The expected result of this command from the modem is "OK". Any other result code will be treated as error. USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SHARED_CONNECTION </td><td class="markdownTableBodyNone">"yes", "no" </td><td class="markdownTableBodyNone">If set to "yes" the established raw modem connection can be taken over by another application without the modem link beeing terminated. The 2nd application must have set this flag as well in its own used connection profile. Additionally, the dial-in numbers used by both applications must be identical, otherwise the 2nd application's connection attempt will fail. Default: NO  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>BAUDRATE, PARITY, DATABITS, STOPBITS are optional and it is strongly recommended to not change any of these settings. PARITY, DATABITS and STOPBITS are a set of parameters and always need to be defined at once while BAUDRATE can be set separately.</dd></dl>
<p><b>Serial specific connection properties (Type = RAW_SERIAL):</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SERIAL_PORT </td><td class="markdownTableBodyNone">String: "COM1", "COM2", "COM3", "COM4", "COM5", "COM6", "USBD", "USBD2", "USBDYN", "COM1A", "COM1B", "COM1C", "COM1D", "COM1E", "BT_SPP0", "BT_SPP1", "BT_SPP2", "BT_SPP", "BC_READER", "BT_SPP_SERVER" </td><td class="markdownTableBodyNone">The COM port used for serial communications.<br  />
 <b>COM1A...COM1E</b> are virtual COM ports supported on some devices. Please see the corresponding section in <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_D_Devices">Appendix D: Devices</a> for more information.<br  />
 <b>BT_SPP0</b>, <b>BT_SPP1</b>, <b>BT_SPP2</b> are three Bluetooth serial channels.<br  />
 <b>USBD</b>, <b>USBD2</b> are the channels of the serial gadget device (Serial over USB).<br  />
 <b>USBDYN</b> is for dynamic USB devices. See USBDYN properties below.<br  />
 <b>BC_READER</b> is the Barcode Reader.<br  />
 <b>BT_SPP</b> is the port necessary for dynamic allocation.<br  />
 <b>BT_SPP_SERVER</b> is for incoming connections on BT UUID 00001101-0000-1000-8000-00805F9B34FB.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BAUDRATE </td><td class="markdownTableBodyNone">String: "921600", "115200", "57600", "38400", "19200", "9600", "4800", "2400", "1200", "600", "300" </td><td class="markdownTableBodyNone">Serial Port Baud Rate. Note that 921600 is only supported for USB serial emulations (gadget / hardware adapters)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PARITY </td><td class="markdownTableBodyNone">String: "none", "odd", "even" </td><td class="markdownTableBodyNone">Serial Port Parity  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DATABITS </td><td class="markdownTableBodyNone">8, 7, 6, 5 </td><td class="markdownTableBodyNone">Used data bits on Serial Port  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">STOPBITS </td><td class="markdownTableBodyNone">1 or 2 </td><td class="markdownTableBodyNone">Used stop bits on Serial Port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FLOWCONTROL </td><td class="markdownTableBodyNone">String: "none", "hardware", "software" </td><td class="markdownTableBodyNone">Serial Port flow control. Software means XON/XOFF, Hardware uses the hardware control lines RTS/CTS if available  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CLOSING_WAIT </td><td class="markdownTableBodyNone">int: 10 to 60000 </td><td class="markdownTableBodyNone">closing_wait setting of the serial port. This adjust the time to wait before closing the serial port if the remote has not yet read all data. Only has an effect if flow control is enabled. Default is 30000.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SERVICE_NAME </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">This is only relevant for BT_SPP. Specify the service name (ServiceName from the Bluetooth SDP service attribute) to connect to. A SDP query for this name will be done to obtain the rfcomm channel number. If there are several rfcomm channels with the same service name found, the first one will be used. If this tag is set, tag "channel" should not be present.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CHANNEL </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">This is only relevant for BT_SPP. Use an extended Bluetooth query to examine currently available channels advertised by remote BT devices. If this is used, the tag "service_name" should not be present or set to an empty string.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BT_ADDR </td><td class="markdownTableBodyNone">Bluetooth hardware address, for example "00:1b:dc:06:81:31" </td><td class="markdownTableBodyNone">Bluetooth hardware address of the remote device the serial connection should be established with.<br  />
 <dl class="section note"><dt>Note</dt><dd>You may omit this value; If so ADK-COM will check if exactly one BT device is paired with the terminal and will try to establish a SPP connection to that device. In case more than one BT device is currently paired, com_Connect will return COM_ERR_OP_AMBIGUOUS. In this case you will have to specify a BT_ADDR in the connection profile.<br  />
 Not required for DEVICE_NAMES other than "BT_SPP0", "BT_SPP1" and "BT_SPP2".<br  />
 Optional parameter.  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SERIAL_USBDYN_TTY </td><td class="markdownTableBodyNone">ttyname </td><td class="markdownTableBodyNone">When SERIAL_PORT is set to <b>USBDYN</b> this tag must always exist. May be empty.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SERIAL_USBDYN_VID </td><td class="markdownTableBodyNone">VID of the USB device </td><td class="markdownTableBodyNone">When SERIAL_PORT is set to <b>USBDYN</b> this tag must always exist. If SERIAL_USBDYN_TTY is empty, then this must be filled with the appropriate VID. For <b>BC_READER</b> this tag is mandatory.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SERIAL_USBDYN_PID </td><td class="markdownTableBodyNone">PID of the USB device </td><td class="markdownTableBodyNone">When SERIAL_PORT is set to <b>USBDYN</b> this tag must always exist. If SERIAL_USBDYN_TTY is empty, then this must be filled with the appropriate PID. For <b>BC_READER</b> this tag is mandatory.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SERIAL_USBDYN_SERNUM </td><td class="markdownTableBodyNone">Serial Number (SN) of the USB device </td><td class="markdownTableBodyNone">When SERIAL_PORT is set to <b>USBDYN</b> this tag must always exist. May be empty. If multiple valid devices are attached and they have the same PID, VID and serial number (including an empty string), then the first matching device, which satifies all three parameters (VID,PID,SN) will be used. If no device matching all three parameters is found AND if the serial number is empty AND if one or more matching devices (VID,PID) are found, then of these the first matching device will be used. If these fallback mechanisms are not wanted, then the parameter SERIAL_USBDYN_TTY should be used for unique addressing.  </td></tr>
</table>
<p>SERIAL_PORT, BAUDRATE, PARITY, DATABITS, STOPBITS, FLOWCONTROL tags are always mandatory except if SERIAL_PORT is <b>BC_READER</b>, in which case they may be omitted and are ignored. The mapping of the logical COMx names in the serial_port parameter to real hardware UARTs / ports is Terminal dependent. The parameters for the SERIAL_USBDYN_* parameters may be obtained by using the function <a class="el" href="libcom_8h.html#adf24ee0003a22eb725b4622d7848a5dd">com_GetUSBInfo()</a>.</p>
<p><b>Serial CSD specific connection properties (Type = RAW_CSD):</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">String: "CSD" </td><td class="markdownTableBodyNone">This string must be set to "CSD".  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Number to dial to establish CSD connection.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SIM_SLOT </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">SIM-Slot to use. 0 = currently active SIM-Slot. 1 = First SIM-Slot. 2 = Second SIM-Slot. Default is 0  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MODULATION </td><td class="markdownTableBodyNone">"auto", "V22BIS_2400", "V32_4800","V32_9600", "V34_14400", "V110_2400", "V110_4800", "V110_9600", "V110_14400" </td><td class="markdownTableBodyNone">The modulation type used for the modem connection. Default: "auto"  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd><b>This interface is only available on VOS2</b></dd></dl>
<p><em>Raw Serial profile examples</em></p>
<p>This chapter contains some useful examples for the most common Serial Profile setups and can be used to derive your own profiles.</p>
<p><b>Serial Profile</b> </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_SERIAL&lt;/TYPE&gt;</div>
<div class="line">        &lt;SERIAL_PORT&gt;USBD&lt;/SERIAL_PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;BAUDRATE&gt;115200&lt;/BAUDRATE&gt;</div>
<div class="line">        &lt;PARITY&gt;none&lt;/PARITY&gt;</div>
<div class="line">        &lt;DATABITS&gt;8&lt;/DATABITS&gt;</div>
<div class="line">        &lt;STOPBITS&gt;1&lt;/STOPBITS&gt;</div>
<div class="line">        &lt;FLOWCONTROL&gt;none&lt;/FLOWCONTROL&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p><b>Serial Profile USBDYN</b> </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">  &lt;CONNECTION&gt;</div>
<div class="line">    &lt;TYPE&gt;RAW_SERIAL&lt;/TYPE&gt;</div>
<div class="line">    &lt;SERIAL_PORT&gt;USBDYN&lt;/SERIAL_PORT&gt;</div>
<div class="line">    &lt;SERIAL_USBDYN_TTY&gt;ttyUSB0&lt;/SERIAL_USBDYN_TTY&gt;</div>
<div class="line">    &lt;SERIAL_USBDYN_VID&gt;0403&lt;/SERIAL_USBDYN_VID&gt; </div>
<div class="line">    &lt;SERIAL_USBDYN_PID&gt;6001&lt;/SERIAL_USBDYN_PID&gt;</div>
<div class="line">    &lt;SERIAL_USBDYN_SERNUM&gt;&lt;/SERIAL_USBDYN_SERNUM&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;BAUDRATE&gt;115200&lt;/BAUDRATE&gt;</div>
<div class="line">    &lt;PARITY&gt;none&lt;/PARITY&gt;</div>
<div class="line">    &lt;DATABITS&gt;8&lt;/DATABITS&gt;</div>
<div class="line">    &lt;STOPBITS&gt;1&lt;/STOPBITS&gt;</div>
<div class="line">    &lt;FLOWCONTROL&gt;none&lt;/FLOWCONTROL&gt;</div>
<div class="line">  &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p><b>Serial Profile BC_READER</b> </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_SERIAL&lt;/TYPE&gt;</div>
<div class="line">        &lt;SERIAL_PORT&gt;BC_READER&lt;/SERIAL_PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;SERIAL_USBDYN_PID&gt;1a03&lt;/SERIAL_USBDYN_PID&gt;</div>
<div class="line">        &lt;SERIAL_USBDYN_VID&gt;1eab&lt;/SERIAL_USBDYN_VID&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p><b>CSD (VOS2)</b> </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_CSD&lt;/TYPE&gt;</div>
<div class="line">        &lt;DEVICE_NAME&gt;CSD&lt;/DEVICE_NAME&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;120000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;ADDRESS&gt;555012014&lt;/ADDRESS&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p><b>BT Dynamic SPP</b> </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_SERIAL&lt;/TYPE&gt;</div>
<div class="line">        &lt;SERIAL_PORT&gt;BT_SPP&lt;/SERIAL_PORT&gt;</div>
<div class="line">        &lt;CHANNEL&gt;5&lt;/CHANNEL&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;BAUDRATE&gt;115200&lt;/BAUDRATE&gt;</div>
<div class="line">        &lt;PARITY&gt;none&lt;/PARITY&gt;</div>
<div class="line">        &lt;DATABITS&gt;8&lt;/DATABITS&gt;</div>
<div class="line">        &lt;STOPBITS&gt;1&lt;/STOPBITS&gt;</div>
<div class="line">        &lt;FLOWCONTROL&gt;none&lt;/FLOWCONTROL&gt;</div>
<div class="line">        &lt;BT_ADDR&gt;9C:E6:E7:EB:28:47&lt;/BT_ADDR&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_network_profile"></a>
Network Profiles</h2>
<p>One network profile must contain exactly one network setting at a time. There are no hierarchical network structures within network profiles, as known from the connection profiles.</p>
<p>The LAN network profile is defined as below:</p>
<h3><a class="anchor" id="subsec_com_lo_network_profile"></a>
Local loopback device</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">String, "LO" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">String, "LO" </td><td class="markdownTableBodyNone">Device name. The value needs to be LO for this network-profile  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>When using the local loopback device as a network profile for a server, please note that the incoming connections in this case are restricted to the local machine, meaning that connections from other hosts are not allowed.</dd></dl>
<hr  />
<h3><a class="anchor" id="subsec_com_lan_network_profile"></a>
LAN / Ethernet Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Examined when </th><th class="markdownTableHeadNone">Default </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">String, "LAN" </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">String, "ETH0", "ETH1", "USB0", "USBH1", "BT_PAN", "BRIDGE" </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Defined symbol for the network interface <dl class="section note"><dt>Note</dt><dd>USB0 (USB Ethernet client gadget) and USBH1 (USB Ethernet host gadget) is only supported by V/OS Terminals. Also check COM_PROP_USB_GADGET_MODE, which controls the currently active USB gadget mode (Serial vs. Ethernet emulation). BRIDGE is the first bridged interface in the system.  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">STARTUP_MODE </td><td class="markdownTableBodyNone">String, "AUTO", "ON-DEMAND" </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">"AUTO" </td><td class="markdownTableBodyNone">Defines the network's start-up behavior.<br  />
 "AUTO" (network is brought up automatically on every system start).<br  />
 "ON-DEMAND" (network is brought up only if the application demands it).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV4_ENABLED </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Enable/Disable IPv4 TCP/IP Stack support for the specified interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_ENABLED </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">IPV4_ENABLED==1 </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">DHCP client usage for this network  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_HOSTNAME </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">VFI-{Serial Number} </td><td class="markdownTableBodyNone">DHCP client hostname to display on DHCP server side. If parameter is not part of the network profile or the parameter value is an emtpy string, the default hostname will be used: Serial Number example: "VFI-111-222-333". If a valid value is presented in the profile, then this will be used as DHCP hostname.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_CLIENTID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">{Hardware Addr} </td><td class="markdownTableBodyNone">DHCP client identifier to uniquely identify the client on DHCP server side. The maximum string length is 15 - if longer the string gets truncated. If not specified, the terminal will automatically send the interfaces hardware address as Client ID.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_IPV4_TIMEOUT </td><td class="markdownTableBodyNone">Int, range 1 .. 60 </td><td class="markdownTableBodyNone">VOS2 &amp;&amp; DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">DHCP client timeout in seconds. Try to get a lease for N seconds.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_IPV4_RETRY_COUNT </td><td class="markdownTableBodyNone">Int, range 0 .. 7200 </td><td class="markdownTableBodyNone">VOS2 &amp;&amp; DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">Number of DHCP client request retries. Send up to N request packets.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_IPV4_RETRY_WAIT </td><td class="markdownTableBodyNone">Int, range 0 .. 120 </td><td class="markdownTableBodyNone">VOS2 &amp;&amp; DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">DHCP client failure timeout. Wait N seconds after failure.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IP_ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==0 </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">IPv4 Address  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NETMASK </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==0 </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">IPv4 network mask  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GATEWAY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==0 </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">IPv4 Gateway  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DNS_1 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP_ENABLED==0 || MANUAL_DNS==1 </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">first DNS server  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DNS_2 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">(DHCP_ENABLED==0 || MANUAL_DNS==1) &amp;&amp; DNS_1 set </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">second (backup) DNS server, examined only if first server is set  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MANUAL_DNS </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">DHCP_ENABLED==1 </td><td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Enable/Disable manually specified DNS servers if DHCP is enabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BT_ADDR </td><td class="markdownTableBodyNone">String, "one", "any" address, ex: "00:1b:dc:06:81:31" </td><td class="markdownTableBodyNone">DEVICE_NAME==BT_PAN </td><td class="markdownTableBodyNone">"one" </td><td class="markdownTableBodyNone">See <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_B_Bluetooth">Appendix B: Bluetooth</a><br  />
 Not required for DEVICE_NAMES other than "BT_PAN".  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_ENABLED </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Enable/Disable IPv6 TCP/IP Stack support for the specified interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_MODE </td><td class="markdownTableBodyNone">String, "AUTO", "STATIC" </td><td class="markdownTableBodyNone">IPV6_ENABLED==1 </td><td class="markdownTableBodyNone">"AUTO" </td><td class="markdownTableBodyNone">"AUTO" = IPv6 Autoconfiguration, "STATIC" = use static IPv6 address information  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_GLOBAL_ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">The IPv6 address with global scope. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_GLOBAL_PREFIX </td><td class="markdownTableBodyNone">Int, range 1 .. 128 </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">IPv6 global prefix length. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_UNIQUE_LOCAL_ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">The IPv6 ULA. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_UNIQUE_LOCAL_PREFIX </td><td class="markdownTableBodyNone">Int, range 1 .. 128 </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">The IPv6 ULA prefix length. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_GATEWAY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">IPv6 gateway address. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_DNS_1 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">IPv6 DNS server address. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_DNS_2 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPV6_MODE==STATIC &amp;&amp; IPV6_DNS_1 set </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">IPv6 alternative DNS server address. Used only if IPV6_MODE = "STATIC" and IPV6_DNS_1 is set  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_TYPE </td><td class="markdownTableBodyNone">"NONE", "TLS", "PEAP", "FAST", "TTLS", "PWD", "PSK", "GPSK" </td><td class="markdownTableBodyNone">always </td><td class="markdownTableBodyNone">NONE </td><td class="markdownTableBodyNone">Activate 802.1x eap authentication. Inner authentication used for PEAP is MSCHAPv2  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_CACERT </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == (TLS OR TTLS OR PEAP) </td><td class="markdownTableBodyNone">see description </td><td class="markdownTableBodyNone">Absolute file path to CA certificate file. Mandatory for EAP_TYPE is set to TLS. Optional if EAP_TYPE is PEAP or TTLS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_CLIENTCERT </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == TLS </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Absolute file path to client certificate file. For more details in case the private key file is stored in Vault or Secure Processor refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_PRIVKEY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == TLS </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Absolute file path to private key file. File format: PEM/DER/PFX. Alternatively, you can reference a Vault or Secure Processor stored asymmetric key used for authentication. For more details in this case refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>. EAP_PRIVKEY_PWD is ignored in case of vault key. Usage is similar to what we have for TLS connection (see SSL_OWN_PKEY). <br  />
 <dl class="section warning"><dt>Warning</dt><dd>VOS3 no longer supports PKCS#12 / PFX files  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_PRIVKEY_PWD </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == TLS </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Password for private key file. Optional if EAP_TYPE is TLS  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_IDENTITY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE != NONE </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Identity needed for EAP authentication. Mandatory for all EAP types  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_PASSWORD </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == (PEAP, FAST, TTLS, PWD, PSK or GPSK) </td><td class="markdownTableBodyNone">must be set </td><td class="markdownTableBodyNone">Password needed for EAP authentication. Mandatory if EAP_TYPE is PEAP, FAST, TTLS, PWD, PSK or GPSK.<br  />
 For PSK and GPSK this must be a HEX string. For PSK it must be exactly 16 bytes (32 characters) long. For GPSK the minimum length is 16 bytes (32 characters).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_ANONYMOUS_ID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == (TTLS, PEAP, FAST, PSK, GPSK) </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Anonymous Identity for EAP modes. Optional for all modes with inner authentication (TTLS, PEAP, FAST, PSK, GPSK).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_FAST_PAC_FILE </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP_TYPE == FAST </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">EAP-FAST only: Full path + file name of a pre-loaded PAC file. If not specified, automatic PAC provisioning will be enabled allowing both, unauthenticated and authenticated provisioning.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_ALLOW_WEAK_KEY </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">EAP_TYPE != NONE </td><td class="markdownTableBodyNone">0 (off) </td><td class="markdownTableBodyNone">Allow TLS authentication with weak keys and hash algorithms (RSA &lt; 2048, SHA1, MD5). This value applies for all EAP modes with TLS.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_ALLOW_TLSV1 </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">EAP_TYPE != NONE </td><td class="markdownTableBodyNone">0 (off) </td><td class="markdownTableBodyNone">Enable/Disable legacy TLS protocols TLSv1 and TLSv1.1 for EAP authentication. This option may be needed to still successfully connect after the latest PCI security hardenings.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MTU </td><td class="markdownTableBodyNone">Int, range 68 .. 1500 (1280 .. 1500 if IPV6_ENABLED is set) </td><td class="markdownTableBodyNone">always on VOS3 </td><td class="markdownTableBodyNone">empty </td><td class="markdownTableBodyNone">Maximum Transmission Unit (MTU) setting. Optional.  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>EAP Authentication parameters will only be respected if the FEATURE3 flag COM_FEATURE3_LAN_802_1X_EAP is enabled. Otherwise COM_ERR_NET_NOSUPPORT will be returned as an error code.</dd></dl>
<h3><a class="anchor" id="subsec_com_gprs_network_profile"></a>
GPRS Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"GPRS" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"GPRS0" </td><td class="markdownTableBodyNone">Defined symbol for the network interface, currently there is only one available  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RESTART_NETWORK_ON_HOST_FAILURE </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Reset the network if a host-connection with this interface fails. Default is 1. Most applications should set this value to 0.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MOBILE_RECONFIGURATION_LEVEL </td><td class="markdownTableBodyNone">Int, -1, 0 or 1 or 2 or 3 </td><td class="markdownTableBodyNone">See enum <code>com_RadioReconfigurationLevel</code>. -1: use old internal monolithic API (default). 0: Restart the entire mobile stack. 1: Restart only PS Attach, PDP and PPP if possible. 2: Restart only PDP and PPP if possible. 3: Restart only PPP if possible.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PDP_ACT_RETRIES </td><td class="markdownTableBodyNone">Int, 0 ... 5 </td><td class="markdownTableBodyNone">Optional. Default: 0. Number of PDP context activation retries to do before giving up.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">STARTUP_MODE </td><td class="markdownTableBodyNone">"AUTO", "ON-DEMAND" </td><td class="markdownTableBodyNone">Defines the network's start-up behavior.<br  />
 "AUTO" (network is brought up automatically on every system start).<br  />
 "ON-DEMAND" (network is brought up only if the application demands it).<br  />
 Default: "AUTO"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">Int, unit: millisec </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">APN </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Name of the access point  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AUTHENTICATION </td><td class="markdownTableBodyNone">"none", "CHAP", "PAP", "CHAP_PAP" </td><td class="markdownTableBodyNone">PPP authentication mode (Note: CHAP_PAP is not supported on VOS2)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">USERNAME </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">PPP username required for authentication  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PASSWORD </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">PPP password required for authentication  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MODE </td><td class="markdownTableBodyNone">Int, 0 or 1 </td><td class="markdownTableBodyNone">GPRS roaming mode. 0 = auto, 1 = manual. For mode 'manual' MCCMNC must be set as well to specify the desired network operator  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MCCMNC </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Desired network operator to connect with. Mandatory if MODE==1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SIM_SLOT </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">SIM-Slot to use. 0 = currently active SIM-Slot. 1 = First SIM-Slot. 2 = Second SIM-Slot. Default is 0  </td></tr>
</table>
<h3><a class="anchor" id="subsec_com_wlan_network_profile"></a>
WLAN Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"WLAN" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"WLAN0" </td><td class="markdownTableBodyNone">Defined symbol for the network interface, currently there is only one available  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">STARTUP_MODE </td><td class="markdownTableBodyNone">"AUTO", "ON-DEMAND" </td><td class="markdownTableBodyNone">Defines the network's start-up behavior.<br  />
 "AUTO" (network is brought up automatically on every system start).<br  />
 "ON-DEMAND" (network is brought up only if the application demands it).<br  />
 Default: "AUTO"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Max time to bring up the network. Default: 0 (infinite)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_HOSTNAME </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP client hostname to display on DHCP server side (used only if DHCP_ENABLED = "1"). The maximum string length is 127 - if longer the string gets truncated. If not specified, this will default to "VFI-SN" where "SN" is the terminals serial number.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_CLIENTID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">DHCP client identifier to uniquely identify the client on DHCP server side (used only if DHCP_ENABLED = "1"). The maximum string length is 15 - if longer the string gets truncated. If not specified, the terminal will automatically send the interfaces hardware address as Client ID.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_IPV4_TIMEOUT </td><td class="markdownTableBodyNone">Int, range 1 .. 60 </td><td class="markdownTableBodyNone">DHCP client timeout in seconds. Try to get a lease for N seconds (default 3). Only affects IPv4. VOS2 Only.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_IPV4_RETRY_COUNT </td><td class="markdownTableBodyNone">Int, range 0 .. 7200 </td><td class="markdownTableBodyNone">Number of DHCP client request retries. Send up to N request packets (default 5). Only affects IPv4. VOS2 Only.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP_IPV4_RETRY_WAIT </td><td class="markdownTableBodyNone">Int, range 0 .. 120 </td><td class="markdownTableBodyNone">DHCP client waiting period after failure to obtain lease. Wait N seconds after failure (default 3). Only affects IPv4. VOS2 Only.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IP_ADDRESS </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">IPv4 Address if DHCP disabled  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NETMASK </td><td class="markdownTableBodyNone">"255.255.255.0" </td><td class="markdownTableBodyNone">IPv4 network mask if DHCP disabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GATEWAY </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">IPv4 Gateway if DHCP disabled  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DNS_1 </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">first DNS server if DHCP is disabled or MANUAL_DNS is enabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DNS_2 </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">second DNS server if DHCP is disabled or MANUAL_DNS is enabled and if DNS_1 is set  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MANUAL_DNS </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Enable/Disable manually specified DNS servers if DHCP is enabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV4_ENABLED </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Enable/Disable IPv4 TCP/IP Stack support for the specified interface  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_ENABLED </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Enable/Disable IPv6 TCP/IP Stack support for the specified interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_MODE </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"AUTO" = IPv6 Autoconfiguration, "STATIC" = use static IPv6 address information  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_GLOBAL_ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The IPv6 address with global scope. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_GLOBAL_PREFIX </td><td class="markdownTableBodyNone">Int, range 1 .. 128 </td><td class="markdownTableBodyNone">IPv6 global prefix length. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_UNIQUE_LOCAL_ADDRESS </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The IPv6 ULA. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_UNIQUE_LOCAL_PREFIX </td><td class="markdownTableBodyNone">Int, range 1 .. 128 </td><td class="markdownTableBodyNone">The IPv6 ULA prefix length. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_GATEWAY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPv6 gateway address. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IPV6_DNS_1 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPv6 DNS server address. Used only if IPV6_MODE = "STATIC"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IPV6_DNS_2 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">IPv6 alternative DNS server address. Used only if IPV6_MODE = "STATIC" and if IPV6_DNS_1 is set  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLAN_NODE </td><td class="markdownTableBodyNone">subtag in XML or InfoDB </td><td class="markdownTableBodyNone">Encapsulates one WLAN Node within a WLAN Network profile. Up to 10 WLAN Nodes can be defined for a WLAN Network Profile  </td></tr>
</table>
<p>The WLAN_NODE parameters: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SSID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">WLAN network name (Server Set IDentification). Informal name of the BSS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PROTO </td><td class="markdownTableBodyNone">"AUTO", "WPA", "WPA2", "RSN" </td><td class="markdownTableBodyNone">Defines acceptable protocol types. Used if KEY_MGMT is PSK, SAE or EAP.<br  />
 AUTO: automatic selection of WPA or WPA2<br  />
 WPA: accept WPA only <br  />
 WPA2 and RSN: accept WPA2/3 (RSN) only  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">KEY_MGMT </td><td class="markdownTableBodyNone">"PSK", "EAP", "SAE" </td><td class="markdownTableBodyNone">Defines the key management protocol.<br  />
 PSK: Pre-Shared Key management (WPA/WPA2-Personal).<br  />
 EAP: Extensible Authentication Protocol management (WPA/WPA2-Enterprise)<br  />
 SAE: Simultaneous Authentication of Equals (WPA3-Personal, VOS3 only) <br  />
<dl class="section note"><dt>Note</dt><dd>WPA3-Enterprise is not supported  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PSK </td><td class="markdownTableBodyNone">String (8-64 characters) </td><td class="markdownTableBodyNone">WPA/WPA2 Pre-Shared Key or WPA3-Personal Passphrase. <dl class="section note"><dt>Note</dt><dd>Length 8-63 is pass-phrase, 64 character length is HEX-Keys (HEX digits)  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GROUP </td><td class="markdownTableBodyNone">"TKIP", "CCMP", "AUTO" </td><td class="markdownTableBodyNone">Group cipher to be used. <br  />
 Used if KEY_MGMT is EAP or PSK  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PAIRWISE </td><td class="markdownTableBodyNone">"TKIP", "CCMP", "AUTO" </td><td class="markdownTableBodyNone">Pairwise cipher to be used. Used if KEY_MGMT is EAP or PSK  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FT_MODE </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Use Fast Transition mode if terminal is capable. This is on (1) by default  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_TYPE </td><td class="markdownTableBodyNone">"TLS", "PEAP", "FAST", "TTLS", "PWD", "PSK", "GPSK" </td><td class="markdownTableBodyNone">Mandatory if KEY_MGMT is EAP. Inner authentication used for PEAP is MSCHAPv2.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_CACERT </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">File path to CA certificate file. Mandatory for EAP_TYPE is set to TLS. Optional if EAP_TYPE is PEAP or TTLS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_CLIENTCERT </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">File path to client certificate file. Mandatory if EAP_TYPE is TLS. For more details in case the private key is Vault or Secured Processor stored refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_PRIVKEY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Absolute file path to private key file. File format: PEM/DER/PFX. Alternatively, you can reference a Vault or Secure Processor stored asymmetric key used for authentication. For more details in this case refer to <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a>. EAP_PRIVKEY_PWD is ignored in case of vault key. Usage is similar to what we have for TLS connection (see SSL_OWN_PKEY)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_PRIVKEY_PWD </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Password for private key file. Optional if EAP_TYPE is TLS  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_IDENTITY </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Identity needed for EAP authentication. Mandatory for all EAP types  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_PASSWORD </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Password needed for EAP authentication. Mandatory if EAP_TYPE is PEAP, FAST, TTLS, PWD, PSK or GPSK.<br  />
 For PSK and GPSK this must be a HEX string. For PSK it must be exactly 16 bytes (32 characters) long. For GPSK the minimum length is 16 bytes (32 characters).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_ANONYMOUS_ID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Anonymous Identity for EAP modes. Optional for all modes with inner authentication.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_FAST_PAC_FILE </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">EAP-FAST only: Full path + file name of a pre-loaded PAC file. If not specified, automatic PAC provisioning will be enabled allowing both, unauthenticated and authenticated provisioning.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP_ALLOW_WEAK_KEY </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Allow TLS authentication with weak keys and hash algorithms (RSA &lt; 2048, SHA1, MD5). This value applies for all EAP modes with TLS. Default is OFF (0)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP_ALLOW_TLSV1 </td><td class="markdownTableBodyNone">Int, 1 or 0 </td><td class="markdownTableBodyNone">Enable/Disable legacy TLS protocols TLSv1 and TLSv1.1 for EAP authentication. This option may be needed to still successfully connect after the latest PCI security hardenings. Default is OFF (0)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VISIBILITY </td><td class="markdownTableBodyNone">"HIDDEN", "VISIBLE" </td><td class="markdownTableBodyNone">The network SSID is hidden. Default is "Visible".  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BAND </td><td class="markdownTableBodyNone">"2.4", "5", "AUTO" </td><td class="markdownTableBodyNone">Set frequencies of 2.4GHz, 5GHz or of both bands <dl class="section note"><dt>Note</dt><dd>DEPRECATED - use global device setting with property COM_PROP_WLAN_BAND_SELECTION instead  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PRIORITY </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Set a piority in selecting network. Higher values are preferred to lower values.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MTU </td><td class="markdownTableBodyNone">Int, range 68 .. 1500 (1280 .. 1500 if IPV6_ENABLED in network profile is set) </td><td class="markdownTableBodyNone">Maximum Transmission Unit (MTU) setting. Available only on VOS3, optional.  </td></tr>
</table>
<dl class="section warning"><dt>Warning</dt><dd>WPA3 is only supported on VOS3 devices!</dd></dl>
<p>A WLAN network profile consists of a common network part and one or more WLAN nodes. Typically each node defines one wireless network and the according security settings.</p>
<p>All parameters of a WLAN node except MTU are based on the parameters defined in the Linux standard wpa_supplicant.conf file. See also <a href="https://w1.fi/cgit/hostap/plain/wpa_supplicant/wpa_supplicant.conf">https://w1.fi/cgit/hostap/plain/wpa_supplicant/wpa_supplicant.conf</a></p>
<p><em>WLAN limitations on VOS2</em></p>
<p>In some early versions the ADKCOM-service did not allow older, less secure WPA settings on VOS2 devices. In ADKCOM 2.22.0 onwards this restriction was removed as technically WPA-TKIP is still PCI-compliant at the moment.</p>
<p><em>WLAN ADK-COM 2.7.0 ADHOC/WEP removal</em></p>
<p>In ADK-COM 2.7.0 and later ADHOC and WEP support was removed from all supported operating systems due to PCI4 requirements. The tags BSS_TYPE and AUTH_ALG are no longer mandatory and are automatically set, as for each there is only a single valid option remaining (infra/open).</p>
<p><em>WLAN network profile examples</em></p>
<p>This chapter contains some useful examples for the most common WiFi network setups and can be used to derive your own profiles.</p>
<p><b>WPA2-Personal</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_WPA2&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;PSK&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PSK&gt;5a32655551672c27497a4f7d23&lt;/PSK&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA3-Personal</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_WPA3&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;SAE&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PSK&gt;7h15 15 my 3x7r3m3ly 53cur3 p455phr453!!&lt;/PSK&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA2-Enterprise PEAP</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_EAP&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;AUTO&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;AUTO&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;AUTO&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;PEAP&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_CACERT&gt;/mnt/nfs/radius-ca/ca.pem&lt;/EAP_CACERT&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;adktest&lt;/EAP_IDENTITY&gt;</div>
<div class="line">        &lt;EAP_PASSWORD&gt;adktest&lt;/EAP_PASSWORD&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA2-Enterprise EAP-TLS</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_EAP&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;AUTO&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;AUTO&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;AUTO&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;TLS&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_CACERT&gt;/mnt/nfs/radius-ca/ca.pem&lt;/EAP_CACERT&gt;</div>
<div class="line">        &lt;EAP_CLIENTCERT&gt;/mnt/nfs/radius-ca/client.pem&lt;/EAP_CLIENTCERT&gt;</div>
<div class="line">        &lt;EAP_PRIVKEY&gt;/mnt/nfs/radius-ca/client.key&lt;/EAP_PRIVKEY&gt;</div>
<div class="line">        &lt;EAP_PRIVKEY_PWD&gt;1234&lt;/EAP_PRIVKEY_PWD&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;adktest&lt;/EAP_IDENTITY&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA2-Enterprise EAP-PWD</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_EAP&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;WPA2&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;CCMP&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;CCMP&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;PWD&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;adktest&lt;/EAP_IDENTITY&gt;</div>
<div class="line">        &lt;EAP_PASSWORD&gt;adkpassword&lt;/EAP_PASSWORD&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA2-Enterprise EAP-PSK</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;myssid&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;WPA2&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;CCMP&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;CCMP&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;PSK&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;myid&lt;/EAP_IDENTITY&gt;</div>
<div class="line">        &lt;EAP_PASSWORD&gt;0123456789abcdef0123456789abcdef&lt;/EAP_PASSWORD&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>WPA2-Enterprise EAP-GPSK</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;myssid&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;WPA2&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;CCMP&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;CCMP&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;GPSK&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;myid&lt;/EAP_IDENTITY&gt;</div>
<div class="line">        &lt;EAP_PASSWORD&gt;11111111111111111111111111111111&lt;/EAP_PASSWORD&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p><b>Multiple nodes / wireless types</b> </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;WLAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;WLAN0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_WPA2&lt;/SSID&gt;</div>
<div class="line">        &lt;PROTO&gt;WPA2&lt;/PROTO&gt;</div>
<div class="line">        &lt;PSK&gt;5a32664551672c27497a4f7d27&lt;/PSK&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;WLAN_NODE&gt;</div>
<div class="line">        &lt;SSID&gt;OpenWrt_EAP&lt;/SSID&gt;</div>
<div class="line">        &lt;KEY_MGMT&gt;EAP&lt;/KEY_MGMT&gt;</div>
<div class="line">        &lt;PROTO&gt;AUTO&lt;/PROTO&gt;</div>
<div class="line">        &lt;GROUP&gt;AUTO&lt;/GROUP&gt;</div>
<div class="line">        &lt;PAIRWISE&gt;AUTO&lt;/PAIRWISE&gt;</div>
<div class="line">        &lt;EAP_TYPE&gt;TLS&lt;/EAP_TYPE&gt;</div>
<div class="line">        &lt;EAP_CACERT&gt;/mnt/nfs/radius-ca/ca.pem&lt;/EAP_CACERT&gt;</div>
<div class="line">        &lt;EAP_CLIENTCERT&gt;/mnt/nfs/radius-ca/client.pem&lt;/EAP_CLIENTCERT&gt;</div>
<div class="line">        &lt;EAP_PRIVKEY&gt;/mnt/nfs/radius-ca/client.key&lt;/EAP_PRIVKEY&gt;</div>
<div class="line">        &lt;EAP_PRIVKEY_PWD&gt;1234&lt;/EAP_PRIVKEY_PWD&gt;</div>
<div class="line">        &lt;EAP_IDENTITY&gt;adktest&lt;/EAP_IDENTITY&gt;</div>
<div class="line">    &lt;/WLAN_NODE&gt;</div>
<div class="line">    </div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="subsec_com_ppp_modem_network_profile"></a>
PPP Modem Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"MODEM" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"MDM_INT", "BT_DUN" </td><td class="markdownTableBodyNone">Normal or Bluetooth modem  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PABX_CODE </td><td class="markdownTableBodyNone">String. Example: "1234" </td><td class="markdownTableBodyNone">Dial prefix  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DIAL_NUMBER </td><td class="markdownTableBodyNone">String. Example: "123443221" </td><td class="markdownTableBodyNone">PPP host number  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MODULATION </td><td class="markdownTableBodyNone">"auto", "v21", "v22","v22bis", "bell103", "bell212", "v32", "v32bis", "v34", "v90", "v92" </td><td class="markdownTableBodyNone">The modulation types for analogue modem. Default: "auto" (modem firmware's default speed setting which is not necessarily the highest possible!) <dl class="section note"><dt>Note</dt><dd>v21, bell103 and v22 may result in PPP negotiation errors caused by the very low connection speed. These are not guaranteed to be working. Use at own risk!  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BLIND_DIALING </td><td class="markdownTableBodyNone">"yes", "no" </td><td class="markdownTableBodyNone">no: disable blind dialing; yes: enable blind dialing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COMPRESSION </td><td class="markdownTableBodyNone">"none", "v42_mnp", "auto" </td><td class="markdownTableBodyNone">Optional parameter: modem data compression mode. Default: "auto". !! May only be changed by experienced users !!  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ERROR_CORRECTION </td><td class="markdownTableBodyNone">"auto", "none", "v42_mnp", "v42_mnp_only", "v42_only", "mnp_only" </td><td class="markdownTableBodyNone">Optional parameter: error correcting mode to be negotiated in a subsequent data connection. Default: "auto". !! May only be changed by experienced users !!  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AUTHENTICATION </td><td class="markdownTableBodyNone">"none", "CHAP", "PAP", "CHAP_PAP" </td><td class="markdownTableBodyNone">PPP authentication mode  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">USERNAME </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP username required for authentication  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PASSWORD </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP password required for authentication  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BT_ADDR </td><td class="markdownTableBodyNone">Bluetooth hardware address, for example "00:1b:dc:06:81:31" </td><td class="markdownTableBodyNone">Bluetooth hardware address of the remote device the serial connection should be established with. <dl class="section note"><dt>Note</dt><dd>You can omit this value. If so then ADK-COM will check if exactly one BT device is paired with the terminal and will try to establish a DUN connection to that device.<br  />
 In case more than one BT device is currently paired, com_Connect will return COM_ERR_OP_AMBIGUOUS and you will have to specify a BT_ADDR in the connection profile.<br  />
 Not required for DEVICE_NAMES other than "BT_DUN".<br  />
 Optional parameter.  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AT_STR_1 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_2, AT_STR_3 and AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AT_STR_2 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_3 and AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AT_STR_3 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem before the dialing with ATD and before AT_STR_4. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AT_STR_4 </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Custom AT String to be sent to the modem. Will be sent to the modem right before the dialing with ATD. The expected result of this command from the modem is "OK". USE AT YOUR OWN RISK. This field, if set, must begin with a leading "AT" (no leading whitespace).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">LCP_RESTART </td><td class="markdownTableBodyNone">Integer value between 1 and 16 </td><td class="markdownTableBodyNone">Set the LCP restart interval (retransmission timeout) to n seconds (default 3). Optional parameter.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BAUDRATE </td><td class="markdownTableBodyNone">String: "115200", "57600", "38400", "19200", "9600", "4800", "2400", "1200", "600", "300" </td><td class="markdownTableBodyNone">Serial connection baudrate (SoC &lt;--&gt; modem chip). Default: 115200  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>BAUDRATE, PARITY, DATABITS, STOPBITS are optional and it is strongly recommended to not change any of these settings. PARITY, DATABITS and STOPBITS are a set of parameters and always need to be defined at once while BAUDRATE can be set separately. PARITY, DATABITS, STOPBITS cannot be customized under V/OS. Default values will always be applied.<br  />
 <br  />
Bell103, V21 and V22 are very slow modulation modes. While this may work in some cases, it is not guaranteed to work properly with PPP.</dd>
<dd>
Due to some hardware limitations it may be required to lower the used BAUDRATE in order to get a properly working PPP connection. Recommendation is 38400 or lower. Bear in mind that this change will also affect the actual modulation (will be adapted accordingly).</dd></dl>
<h3><a class="anchor" id="subsec_com_ppp_csd_network_profile"></a>
PPP CSD Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"PPP_CSD" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"CSD" </td><td class="markdownTableBodyNone">Interface name  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DIAL_NUMBER </td><td class="markdownTableBodyNone">String. Example: "123443221" </td><td class="markdownTableBodyNone">PPP host number  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AUTHENTICATION </td><td class="markdownTableBodyNone">"none", "CHAP", "PAP", "CHAP_PAP" </td><td class="markdownTableBodyNone">PPP authentication mode  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">USERNAME </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP username required for authentication  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PASSWORD </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP password required for authentication  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SIM_SLOT </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">SIM-Slot to use. 0 = currently active SIM-Slot. 1 = First SIM-Slot. 2 = Second SIM-Slot. Default is 0  </td></tr>
</table>
<h3><a class="anchor" id="subsec_com_ppp_over_serial_network_profile"></a>
PPP over Serial Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"PPP_SERIAL" </td><td class="markdownTableBodyNone">Type of network profile. Type refers to mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"COM1", "COM2", "COM3", "COM4", "COM5", "COM6", "USBD", "BT_SPP" </td><td class="markdownTableBodyNone">Define symbol for the network interface  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DHCP_ENABLED </td><td class="markdownTableBodyNone">"1", "0" </td><td class="markdownTableBodyNone">DHCP client usage for this network  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IP_ADDRESS </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">IPv4 Address if DHCP disabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NETMASK </td><td class="markdownTableBodyNone">"255.255.255.0" </td><td class="markdownTableBodyNone">IPv4 network mask if DHCP disabled  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GATEWAY </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">IPv4 Gateway if DHCP disabled  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DNS_1 </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">first DNS server if DHCP is disabled or MANUAL_DNS is enabled  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DNS_2 </td><td class="markdownTableBodyNone">"12.34.56.78" </td><td class="markdownTableBodyNone">second DNS server if DHCP is disabled or MANUAL_DNS is enabled and if DNS_1 is set  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MANUAL_DNS </td><td class="markdownTableBodyNone">"1", "0", </td><td class="markdownTableBodyNone">Enable/Disable manually specified DNS servers if DHCP is enabled  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AUTHENTICATION </td><td class="markdownTableBodyNone">"none", "CHAP", "PAP", "CHAP_PAP" </td><td class="markdownTableBodyNone">PPP authentication mode  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">USERNAME </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP username required for authentication  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PASSWORD </td><td class="markdownTableBodyNone">Any readable string </td><td class="markdownTableBodyNone">PPP password required for authentication  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BAUDRATE </td><td class="markdownTableBodyNone">String: "115200", "57600", "38400", "19200", "9600", "4800", "2400", "1200", "600", "300" </td><td class="markdownTableBodyNone">Serial Port Baud Rate  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PARITY </td><td class="markdownTableBodyNone">String: "none", "odd", "even" </td><td class="markdownTableBodyNone">Serial Port Parity  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DATABITS </td><td class="markdownTableBodyNone">8, 7, 6, 5 </td><td class="markdownTableBodyNone">Used data bits on Serial Port  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">STOPBITS </td><td class="markdownTableBodyNone">1 or 2 </td><td class="markdownTableBodyNone">Used stop bits on Serial Port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FLOWCONTROL </td><td class="markdownTableBodyNone">String: "none", "hardware", "software" </td><td class="markdownTableBodyNone">Serial Port flow control. Software means XON/XOFF, Hardware uses the hardware control lines RTS/CTS if available  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LCP_RESTART </td><td class="markdownTableBodyNone">Integer value between 1 and 16 </td><td class="markdownTableBodyNone">Set the LCP restart interval (retransmission timeout) to n seconds (default 3). Optional parameter  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DISABLE_COMPRESSION </td><td class="markdownTableBodyNone">"1", "0" </td><td class="markdownTableBodyNone">Set to "1" to disable compression algorithms. It's needed for certain peers  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SERVICE_NAME </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">This is only relevant for BT_SPP. Specify the service name (ServiceName from the Bluetooth SDP service attribute) to connect to. A SDP query for this name will be done to obtain the rfcomm channel number. If there are several rfcomm channels with the same service name found, the first one will be used. If this tag is set, tag "channel" should not be present.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CHANNEL </td><td class="markdownTableBodyNone">int </td><td class="markdownTableBodyNone">This is only relevant for BT_SPP. Use an extended Bluetooth query to examine currently available channels advertised by remote BT devices. If this is used, the tag "service_name" should not be present or set to an empty string.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BT_ADDR </td><td class="markdownTableBodyNone">Bluetooth hardware address, for example "00:1b:dc:06:81:31" </td><td class="markdownTableBodyNone">Bluetooth hardware address of the remote device the serial connection should be established with.<br  />
 <dl class="section note"><dt>Note</dt><dd>You may omit this value; If so ADK-COM will check if exactly one BT device is paired with the terminal and will try to establish a SPP connection to that device. In case more than one BT device is currently paired, com_Connect will return COM_ERR_OP_AMBIGUOUS. In this case you will have to specify a BT_ADDR in the connection profile.<br  />
 Not required for DEVICE_NAME other than "BT_SPP".<br  />
 Optional parameter.  </dd></dl>
</td></tr>
</table>
<h3><a class="anchor" id="subsec_com_preconfigured_network_profile"></a>
Preconfigured Network Profile</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Value Format </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TYPE </td><td class="markdownTableBodyNone">"PRECONFIGURED" </td><td class="markdownTableBodyNone">Type of the network profile. Type refers to the mandatory profile properties  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DEVICE_NAME </td><td class="markdownTableBodyNone">"MDM_INT", "MDM_EXT", "ETH0", "ETH1", "GPRS0", "WLAN0", "BT_PAN", "BT_DUN" </td><td class="markdownTableBodyNone">Name of the (already configured) interface you would like to bring up  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RESTART_NETWORK_ON_HOST_FAILURE </td><td class="markdownTableBodyNone">1 or 0 </td><td class="markdownTableBodyNone">Optional. Reset the network if a host-connection with this interface fails. Due to historical reasons the default is 1. Most applications should set this value to 0. This only applies if device_name is "GPRS0"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TIMEOUT </td><td class="markdownTableBodyNone">numerical value, unit: millisecs </td><td class="markdownTableBodyNone">Max time to bring up the network  </td></tr>
</table>
<p>The preconfigured network profile will not apply any settings itself but apply whatever settings are currently configured. For example you may configure the Ethernet interface via the Sysmode, and then bring it up using this network profile with whatever settings you have previously configured.</p>
<h3><a class="anchor" id="subsec_com_connection_profile_setup"></a>
Connection Profile Setup</h3>
<p>There are two possibilities to setup the connection profile configuration used by ADK-COM. It either could be provided by setting up an Info Service configuration tree, or referencing a XML based configuration file.</p>
<h2><a class="anchor" id="subsubsec_com_adk_information_service"></a>
ADK Information Service</h2>
<p>In order to provide the connection profile definition within the ADK Information Service DB, the application needs to reference the entry point of the tree structure in the <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a> API in the following way: </p><div class="fragment"><div class="line">infosvc@&lt;info-db-name&gt;@&lt;entry-point-name&gt;/con/&lt;connection-profile-name&gt;</div>
</div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;infosvc@info.db@com/con/HOST_A&quot;</span>, test_cb, NULL, <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>, NULL);</div>
</div><!-- fragment --><p>The ADK-COM connection profiles entries in Information Service need be defined in the following tree structure: </p><div class="fragment"><div class="line">&lt;entry-point&gt;-con-&lt;profile-name&gt;-0-type</div>
<div class="line">                               | |-network</div>
<div class="line">                               | |-address</div>
<div class="line">                               | |-port</div>
<div class="line">                               | |-...</div>
<div class="line">                               |</div>
<div class="line">                               |-1-type</div>
<div class="line">                               | |-network</div>
<div class="line">                               | |-address</div>
<div class="line">                               | |-port</div>
<div class="line">                               | |-...</div>
<div class="line">                               |</div>
<div class="line">                               |-2-type</div>
<div class="line">                                 |-...</div>
</div><!-- fragment --><p> The priority of using an alternative connection as fallback handling is given by the connection number (0, 1, 2, ...). </p><dl class="section note"><dt>Note</dt><dd>Only numbers are allowed as (sub)connection identifiers within this tree. Other names will lead to errors.</dd></dl>
<p>Example "single connection profile": </p><div class="fragment"><div class="line">com-con-HOST_A-0-type TCP</div>
<div class="line">               |-network com/networks/mynetwork</div>
<div class="line">               |-address 10.217.9.44</div>
<div class="line">               |-port 1200</div>
<div class="line">               |-<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> 1000</div>
</div><!-- fragment --><p>Example "fallback connection profile": </p><div class="fragment"><div class="line">com-con-HOST_A_FALLBACK-0-type TCP</div>
<div class="line">                      | |-network com/networks/mynetwork</div>
<div class="line">                      | |-address 10.217.9.44</div>
<div class="line">                      | |-port 1200</div>
<div class="line">                      | |-<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> 1000</div>
<div class="line">                      |-1-type TCP</div>
<div class="line">                        |-network com/networks/mynetwork</div>
<div class="line">                        |-address 10.217.9.44</div>
<div class="line">                        |-port 1500</div>
<div class="line">                        |-<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> 1000</div>
</div><!-- fragment --><p>Example "network profile": </p><div class="fragment"><div class="line">com-networks-mynetwork-type LAN</div>
<div class="line">                     |-device_name eth0</div>
<div class="line">                     |-startup_mode on-demand</div>
<div class="line">                     |-<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> 30000</div>
<div class="line">                     |-dhcp_enabled 1</div>
</div><!-- fragment --><p><b>WLAN_NODE</b> </p>
<p>A special case are WLAN nodes within network profiles. As per WLAN network profile more than one WLAN network can be configured, it is required to accept one or more subsets called "WLAN_NODE". These nodes are also stored under numerical identifiers similar to what is done for connection and fallback connections. Each node will get an identifier within the database. </p><dl class="section note"><dt>Note</dt><dd>Please note that the numbering is <b>not</b> used for priorization of WLAN networks. <br  />
 This is a difference compared to the behavior of connection profiles !!</dd></dl>
<p>Example "network profile with multiple WLAN nodes": </p><div class="fragment"><div class="line">com-networks-mynetwork-type WLAN</div>
<div class="line">                     |-device_name wlan0</div>
<div class="line">                     |-startup_mode on-demand</div>
<div class="line">                     |-<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">timeout</a> 30000</div>
<div class="line">                     |-dhcp_enabled 1</div>
<div class="line">                     |</div>
<div class="line">                     |-wlan-node---0</div>
<div class="line">                           |       |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a> <span class="stringliteral">&quot;myWLAN1&quot;</span></div>
<div class="line">                           |       |-auth_alg OPEN</div>
<div class="line">                           |       |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a0430f507936d95741e834441df04acaf">proto</a> WPA2</div>
<div class="line">                           |       |-psk <span class="stringliteral">&quot;passphrase1&quot;</span></div>
<div class="line">                           |       |-...</div>
<div class="line">                           |     </div>
<div class="line">                           |-------1</div>
<div class="line">                           |       |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a> <span class="stringliteral">&quot;myWLAN2&quot;</span></div>
<div class="line">                           |       |-auth_alg OPEN</div>
<div class="line">                           |       |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a0430f507936d95741e834441df04acaf">proto</a> WPA2</div>
<div class="line">                           |       |-psk <span class="stringliteral">&quot;passphrase2&quot;</span></div>
<div class="line">                           |       |-...</div>
<div class="line">                           |    </div>
<div class="line">                           |-------2</div>
<div class="line">                                   |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a> <span class="stringliteral">&quot;myWLAN3&quot;</span></div>
<div class="line">                                   |-auth_alg OPEN</div>
<div class="line">                                   |-<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a0430f507936d95741e834441df04acaf">proto</a> WPA</div>
<div class="line">                                   |-psk <span class="stringliteral">&quot;passphrase3&quot;</span></div>
<div class="line">                                   |-...</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>All profile property key names (e.g. "device_name" or "timeout") must be stored in lower case characters in the Info DB. If not you will get the error COM_ERR_CON_INVALID or COM_ERR_NET_INVALID.</dd></dl>
<h2><a class="anchor" id="subsec_com_xml_file_definition"></a>
XML File Definition</h2>
<p>The connection profiles can be defined within an file containing a XML based connection profile definition. The application just references the path of the definition file to the <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a> API:</p>
<div class="fragment"><div class="line">xml@&lt;conection-profile-file-name.xml&gt;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The "xml@" tag is optional for XML file reference.</dd></dl>
<p>Example: </p><div class="fragment"><div class="line">handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(<span class="stringliteral">&quot;xml@connection_profile.xml&quot;</span>, test_cb, NULL, <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>, NULL);</div>
</div><!-- fragment --><p>Example "ethernet  fallback connection profile": </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;LOCAL_NET.xml&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;10.217.9.45&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;5100&lt;/PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;1000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;LOCAL_NET.xml&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;10.217.9.45&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;1200&lt;/PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;1000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Example "raw modem dial connection profile": </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;RAW_MODEM&lt;/TYPE&gt;</div>
<div class="line">        &lt;DEVICE_NAME&gt;MDM_INT&lt;/DEVICE_NAME&gt;</div>
<div class="line">        &lt;PABX_CODE&gt;8&lt;/PABX_CODE&gt;</div>
<div class="line">        &lt;ADDRESS&gt;6633245&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">        &lt;DIAL_MODE&gt;async&lt;/DIAL_MODE&gt;</div>
<div class="line">        &lt;DIAL_TYPE&gt;tone&lt;/DIAL_TYPE&gt;</div>
<div class="line">        &lt;MODULATION&gt;v22&lt;/MODULATION&gt;</div>
<div class="line">        &lt;BLIND_DIALING&gt;no&lt;/BLIND_DIALING&gt;</div>
<div class="line">        &lt;COMPRESSION&gt;none&lt;/COMPRESSION&gt;</div>
<div class="line">        &lt;ERROR_CORRECTION&gt;none&lt;/ERROR_CORRECTION&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>Example "network profile local loopback": </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;LO&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;LO&lt;/DEVICE_NAME&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>Example "network profile ethernet static configuration": </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;LAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;ETH0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;AUTO&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;0&lt;/DHCP_ENABLED&gt;</div>
<div class="line">    &lt;IP_ADDRESS&gt;10.1.1.5&lt;/IP_ADDRESS&gt;</div>
<div class="line">    &lt;NETMASK&gt;255.255.255.0&lt;/NETMASK&gt;</div>
<div class="line">    &lt;GATEWAY&gt;10.1.1.1&lt;/GATEWAY&gt;</div>
<div class="line">    &lt;DNS_1&gt;10.1.1.1&lt;/DNS_1&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>Example "network profile ethernet dynamic (dhcp) configuration": </p><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;LAN&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;ETH0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;AUTO&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;60000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;DHCP_ENABLED&gt;1&lt;/DHCP_ENABLED&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>More examples for connection and network profile definitions could be found in the ADK-COM test application folder.</p>
<h2><a class="anchor" id="subsec_com_device_properties"></a>
Device Properties</h2>
<p>ADK-COM supports setting and getting communication device properties. Device properties are organized as integer and string properties. They can be get/set using the following functions.</p><ul>
<li>com_GetDevicePropertyInt</li>
<li>com_SetDevicePropertyInt</li>
<li>com_GetDevicePropertyString</li>
<li>com_SetDevicePropertyString</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// set PIN for the SIM card</span></div>
<div class="line"><a class="code" href="libcom_8h.html#a5ee98c76f68a71a8f6784f79fd7b2f67">com_SetDevicePropertyString</a>(<a class="code" href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52a4a33f3ecf8d7199a75352b2646e73fe4">COM_PROP_GSM_SIM_PIN</a>, <span class="stringliteral">&quot;8206&quot;</span>, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// check presence of SIM card</span></div>
<div class="line"><span class="keywordtype">int</span> present = -1;</div>
<div class="line"><a class="code" href="libcom_8h.html#a801f39cf08b0bfa7136393854278e597">com_GetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa1462b074421b23a3699dbba52e7514c2">COM_PROP_GSM_SIM_PRESENT</a>, &amp;present, &amp;com_errno)</div>
</div><!-- fragment --><p>Available properties are defined by the enumerators com_DevicePropertyInt and com_DevicePropertyString.</p>
<p>Some devices need to be setup before a network can be brought up over one of its interfaces. For example the GSM module needs to be unlocked with a SIM before it can be used.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libcom_8h.html">libcom.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// set PIN for the SIM card</span></div>
<div class="line"><a class="code" href="libcom_8h.html#a5ee98c76f68a71a8f6784f79fd7b2f67">com_SetDevicePropertyString</a>(<a class="code" href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52a4a33f3ecf8d7199a75352b2646e73fe4">COM_PROP_GSM_SIM_PIN</a>, <span class="stringliteral">&quot;8206&quot;</span>, NULL);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>com_ConnectHandle *handle = <a class="code" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a>(hostname, NULL, NULL, 3 * 60000, NULL);</div>
<div class="line"> </div>
<div class="line">...</div>
</div><!-- fragment --><h3><a class="anchor" id="subsec_com_device_configuration"></a>
Device Configuration</h3>
<p>You may use the functions <a class="el" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt()</a>, <a class="el" href="libcom_8h.html#a5ee98c76f68a71a8f6784f79fd7b2f67">com_SetDevicePropertyString()</a> to set various configurations for each file. <a class="el" href="libcom_8h.html#a801f39cf08b0bfa7136393854278e597">com_GetDevicePropertyInt()</a>, <a class="el" href="libcom_8h.html#a6c6b018a491e95447da2a948d2f188d7">com_GetDevicePropertyString()</a> can be used to read the current configuration.</p>
<dl class="section note"><dt>Note</dt><dd>Some device configurations may be published by event mechanism also. Please see enum <a class="el" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67">com_NetworkEvent</a> in the header file.</dd></dl>
<p>What configurations are possible dependends on the device in question. Please see enumerations enum <a class="el" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbf">com_DevicePropertyInt</a> and <a class="el" href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52">com_DevicePropertyString</a> in the header file for a listing of possible configurations.</p>
<h3><a class="anchor" id="subsec_com_wlan"></a>
WLAN</h3>
<p><em>WLAN Site Survey</em> A WLAN Site survey can be conducted by using the <a class="el" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan()</a> function. Please note that the COM_PROP_WLAN_SITE_SURVEY property – previously used for WLAN site survey – is deprecated and for performance reasons it is recommended to use the dedicated scan function <a class="el" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan()</a>.</p>
<p>The site survey is a JSON coded string containing all relevant data.</p>
<dl class="section note"><dt>Note</dt><dd>The result of the survey is put into a JSObject. You may obtain the JSObject library from the ADK-IPC component. After loading the data into the object you may parse the object as shown above. The Members are named WLANX_MEMBERNAME. X refers to the index, MEMBERNAME is one of the data-fields shown in the second table of section <a class="el" href="pg_com_users_guide.html#subsec_com_wlan">WLAN</a>. Please refer to table in section <a class="el" href="pg_com_users_guide.html#subsec_com_wlan">WLAN</a> for more information.</dd>
<dd>
The number of found WLAN networks can be retrieved from the JSObject member "COM_WLAN_COUNT". Also, be aware that you should check if a member of a JSObject is present before trying to obtain a string/integer from the member. This is only shown for the WLAN SSID in the above example. For further information on JSObjects please refer to the documentation of the IPC/JSObject component.</dd></dl>
<p>The maximum number of returned WLAN networks is limited to the 25 strongest networks available. They will be sorted by signal strength. The strongest network will be at position 0, the weakest at the last position. Make sure the used buffer is big enough to carry all the network data. The buffer-size should be 16*1024 bytes if you would like to make sure that all results can be obtained.</p>
<p>The following table lists the members in the JSON-object retrieved by the Site-Survey property:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Json Member </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Mandatory </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WLANX_BSS_TYPE </td><td class="markdownTableBodyNone">Int (refer to <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> "enum com_WLANBSSType") </td><td class="markdownTableBodyNone">Mandatory </td><td class="markdownTableBodyNone">WLAN bss type (adhoc, infra)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLANX_BSSID </td><td class="markdownTableBodyNone">String: "AA:BB:CC:DD:EE:FF" </td><td class="markdownTableBodyNone">Mandatory </td><td class="markdownTableBodyNone">WLAN network BSSID  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WLANX_DBM </td><td class="markdownTableBodyNone">Int, ex. -59 </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Signal in DBM  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLANX_FREQ </td><td class="markdownTableBodyNone">Int, ex. 2412, 5620 </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN frequency of the network  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WLANX_GROUP </td><td class="markdownTableBodyNone">Int. Refer to <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> "enum com_WLANCipherTypes" </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Encryption type group  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLANX_PAIRWISE </td><td class="markdownTableBodyNone">Int. Refer to <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> "enum com_WLANCipherTypes" </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Encryption type pairwise  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WLANX_KEY_MGMT </td><td class="markdownTableBodyNone">Int, refer to <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> "enum com_WLANKeyMgmt" </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Key management (PSK, EAP, NONE)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLANX_PERCENTAGE </td><td class="markdownTableBodyNone">Int, 0, 1, 2, 3 ... 100 </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Signal Percentage  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WLANX_PROTO </td><td class="markdownTableBodyNone">Int (refer to <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a>, enum com_WLANProto) </td><td class="markdownTableBodyNone">Optional </td><td class="markdownTableBodyNone">WLAN Protocol type  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WLANX_SSID </td><td class="markdownTableBodyNone">String, max 32 Characters </td><td class="markdownTableBodyNone">Mandatory </td><td class="markdownTableBodyNone">WLAN network ID  </td></tr>
</table>
<p>Note that optional parameters are not guaranteed to be available.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> com_errno;</div>
<div class="line"><span class="keywordtype">char</span> data[8*1024];</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan</a>(<a class="code" href="libcom_8h.html#a65804830613e63a444697c3e8c24cca5a8801df5bd20f364db037e6f0be735a3a">COM_WIRELESS_TYPE_WLAN</a>, data, <span class="keyword">sizeof</span>(data), &amp;com_errno)){</div>
<div class="line">    LOGF_TRACE( <span class="stringliteral">&quot;WLAN Site Survey could not be done [errno %d: %s]&quot;</span>, (<span class="keywordtype">int</span>)com_errno, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(com_errno));</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    LOGF_TRACE( <span class="stringliteral">&quot;WLAN Site Survey: %s&quot;</span>, data);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> jsobj;</div>
<div class="line">    <span class="keywordflow">if</span>(jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#a5dc8013bd6fdf9ccb6104890a00094ab">load</a>(std::string(data))){</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;Wlan Site Survey Parsed successfully&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordtype">char</span> surveyNumber[3];</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (!jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(<a class="code" href="libcom_8h.html#a1782f83ac38bf06e099ac19e4e03511b">COM_WLAN_COUNT</a>)) {</div>
<div class="line">            LOGF_ERROR(<span class="stringliteral">&quot;NO WLAN_COUNT found&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordtype">int</span> max = jsobj(<a class="code" href="libcom_8h.html#a1782f83ac38bf06e099ac19e4e03511b">COM_WLAN_COUNT</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line">            LOGF_TRACE(<span class="stringliteral">&quot;** Found %d WLAN stations **&quot;</span>, max);</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0 ; i&lt;max; i++){</div>
<div class="line">                std::string <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a>;</div>
<div class="line">                </div>
<div class="line">                snprintf(surveyNumber,<span class="keyword">sizeof</span>(surveyNumber), <span class="stringliteral">&quot;%u&quot;</span>, i);</div>
<div class="line">                surveyNumber[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                </div>
<div class="line">                std::string name(<span class="stringliteral">&quot;WLAN&quot;</span>);</div>
<div class="line">                std::string entry;</div>
<div class="line">                name.append(surveyNumber);</div>
<div class="line">                </div>
<div class="line">                entry = name;</div>
<div class="line">                entry.append(<span class="stringliteral">&quot;_SSID&quot;</span>);</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> (jsobj.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(entry))</div>
<div class="line">                    <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a> = jsobj(entry).<a class="code" href="classvfiipc_1_1_j_s_object.html#a23bdc20544ca28878b1ffea144ac2730">getString</a>();</div>
<div class="line">                    </div>
<div class="line">                entry = name;</div>
<div class="line">                entry.append(<span class="stringliteral">&quot;_DBM&quot;</span>);   </div>
<div class="line">                <span class="keywordtype">int</span> DBM = jsobj(entry).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line">                </div>
<div class="line">                entry = name;</div>
<div class="line">                entry.append(<span class="stringliteral">&quot;_PERCENTAGE&quot;</span>);    </div>
<div class="line">                <span class="keywordtype">int</span> percentage = jsobj(entry).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line">                </div>
<div class="line">                entry = name;</div>
<div class="line">                entry.append(<span class="stringliteral">&quot;_PROTO&quot;</span>);</div>
<div class="line">                <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a6c5ac78b70ebdac3c33833deff67d074">com_WLANProto</a> protocol = (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a6c5ac78b70ebdac3c33833deff67d074">com_WLANProto</a>)jsobj(entry).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line">                </div>
<div class="line">                entry = name;</div>
<div class="line">                entry.append(<span class="stringliteral">&quot;_KEY_MGMT&quot;</span>);</div>
<div class="line">                <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad86d6b728cc4898a972a585fa28e1ece">com_WLANKeyMgmt</a> key_mgmt = (<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad86d6b728cc4898a972a585fa28e1ece">com_WLANKeyMgmt</a>)jsobj(entry).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line">                </div>
<div class="line">                LOGF_TRACE(<span class="stringliteral">&quot;[WLAN %d] \&quot;%s\&quot; [Protocol: %d, Key Managment: %d , %d%%, DBM: %d]&quot;</span>, i, <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">ssid</a>.c_str(), protocol, key_mgmt, percentage, DBM);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        LOGF_TRACE(<span class="stringliteral">&quot;Wlan Site Survey Parsing failed&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="sec_com_example_threeggp"></a>
3GPP Error codes</h3>
<p>You may obtain the latest 3GPP errors from the Radio module by querying the COM_PROP_3GPP_ERRORS property. When successful the returned value is a JSON formatted string with the JSON array named "errors" containing the information about the recently faile AT commands. Following an example of such a JSON string: </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;errors&quot;</span>: [</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;cmd&quot;</span>: <span class="stringliteral">&quot;AT+CMD=1&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;err&quot;</span>: <span class="stringliteral">&quot;+CEER: \&quot;Failure description 1\&quot;&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;err_code&quot;</span>: 10,</div>
<div class="line">            <span class="stringliteral">&quot;slot&quot;</span>: 1,</div>
<div class="line">            <span class="stringliteral">&quot;timestamp_usec&quot;</span>: 12345678</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;cmd&quot;</span>: <span class="stringliteral">&quot;AT+CMD=2&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;err&quot;</span>: <span class="stringliteral">&quot;+CEER: \&quot;Failure description 2\&quot;\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;err_code&quot;</span>: 22,</div>
<div class="line">            <span class="stringliteral">&quot;slot&quot;</span>: 2,</div>
<div class="line">            <span class="stringliteral">&quot;timestamp_usec&quot;</span>: 12345678</div>
<div class="line">        }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>Each JSON array "errors" element contains the following members:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Json Member </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cmd </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The AT command issued which resulted in a failure  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">err </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Error Report String  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">err_code </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">CME / CMS error code  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">slot </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">The SIM-slot for which this error occured  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">time_usec </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Timestamp (microseconds)  </td></tr>
</table>
<p>This feature is only supported on VOS2.</p>
<h3><a class="anchor" id="sec_com_example_modemspeed"></a>
PSTN modem speed</h3>
<p>You may obtain the Modulation, RX speed and TX speed from a modem which is currently connected via ADKCOM.</p>
<p>You may use the following properties to do this if the modem is currently processing a raw connection (without PPP):</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Access </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_RAW_MODEM_CURRENT_MODULATION </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current modulation type of a connected raw modem. Must be cast to com_Modulation. If the raw modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_RAW_MODEM_CURRENT_SPEED_RX </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current RX speed of a connected raw modem [unit: Baud]. If the raw modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_RAW_MODEM_CURRENT_SPEED_TX </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current TX speed of a connected raw modem [unit: Baud]. If the raw modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST  </td></tr>
</table>
<p>When you are using PPP use the following properties: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Access </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_PPP_MODEM_CURRENT_MODULATION </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current modulation type of a connected ppp modem. Must be cast to com_Modulation. If the ppp modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_PPP_MODEM_CURRENT_SPEED_RX </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current RX speed of a connected ppp modem [unit: Baud]. If the ppp modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_PPP_MODEM_CURRENT_SPEED_TX </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Retrieve the current TX speed of a connected ppp modem [unit: Baud]. If the ppp modem is not connected, -1 is returned and com_errno is set to COM_ERR_NET_NOEXIST  </td></tr>
</table>
<h3><a class="anchor" id="subsec_com_bluetooth"></a>
Bluetooth</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Access </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_BT_SCAN </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">List of available Bluetooth Sites. <dl class="section note"><dt>Note</dt><dd>DEPRECATED - use <a class="el" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan()</a> instead  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_BT_PAIRING_STATUS </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">JSON-coded list of all currently paired devices. If not paired with any peer then following JSON string is returned: {"BT_COUNT":0}  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_BT_PAIRING_LIST </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">JSON-coded list of all currently paired devices. Please note that this does not return the profiles entries as with COM_PROP_BT_CONNECTION_STATUS. If not paired with any peer then following JSON string is returned: {"BT_COUNT":0} [R/O]  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_BT_CONNECTION_STATUS </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">JSON-coded list of all currently connected devices, empty JSON string if not connected to any peer  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_BT_CONFIRM_PAIR </td><td class="markdownTableBodyNone">W/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">0 = User confirmed numeric passkey is incorrect.<br  />
 1 = User confirmed numeric passkey is correct. Required when COM_PROP_BT_SSP_CONFIRMATION is set to 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_BT_DISCOVERABLE </td><td class="markdownTableBodyNone">R/W </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Discoverable status of the Bluetooth device.<br  />
 0 = Hidden.<br  />
 1 = Discoverable.<br  />
 -1 = error  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_BT_DISCOVERY_TIMEOUT </td><td class="markdownTableBodyNone">R/W </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Period of time in which the terminal remains discoverable after being enabled. Range: 31-600  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_BT_IBEACON_ON </td><td class="markdownTableBodyNone">W/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Advertise with the specified UUID. The format is:<div class="fragment"><div class="line">UUID:MAJOR:MINOR</div>
</div><!-- fragment --> MAJOR/MINOR is intepreted as an integer. You may omit hyphens. Example:<div class="fragment"><div class="line">123e4567-e89b-12d3-a456-426655440000:2000:80 </div>
</div><!-- fragment --> will broadcast the UUID 123e4567-e89b-12d3-a456-426655440000 with major 2000 and minor 80  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_BT_IBEACON_STATUS </td><td class="markdownTableBodyNone">R/O </td><td class="markdownTableBodyNone">Int </td><td class="markdownTableBodyNone">Check iBeacon status.<br  />
 0 = not advertising.<br  />
 1 = currently advertising.<br  />
 -1 = error  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_BT_IBEACON_OFF </td><td class="markdownTableBodyNone">W/O </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">Stop advertising via iBeacon. The integer value given is ignored  </td></tr>
</table>
<p><em>BT_SCAN property and com_WirelessScan function</em> A Bluetooth scan can be conducted by using the <a class="el" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan()</a> function. You can also use the according device property COM_PROP_BT_SCAN. Nevertheless you should not use the property COM_PROP_BT_SCAN for performance reasons. Use the dedicated scan function <a class="el" href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan()</a> instead. Both ways of retrieving the currently found BT stations return the same data format which is described in the following.</p>
<p>Note that the result of the scan is put into a JSObject. You may obtain the JSObject library from the ADK-IPC component. After loading the data into the object you may parse the object as shown above. The Members are named BTX_ADDR and BTX_NAME, for example BT0_ADDR and BT0_NAME. X refers to the index which starts at zero and ends at [maximum number – 1].</p><ul>
<li>BTX_ADDR contains the BT address of the found Bluetooth station in the usual format "AA:BB:CC:DD:EE:FF".</li>
<li>BTX_NAME contains the friendly name of the found Bluetooth station.</li>
<li>BTX_RSSI (optional - may not be present) contains the RSSI value (signal strength) to the remote device at the time of scanning</li>
<li>BTX_CLASS (optional - may not be present) contains the CoD (Class of Device) value</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">{<span class="stringliteral">&quot;BT0_ADDR&quot;</span>:<span class="stringliteral">&quot;64:16:7F:3D:23:0F&quot;</span>,<span class="stringliteral">&quot;BT0_CLASS&quot;</span>:<span class="stringliteral">&quot;0x7E020C&quot;</span>,<span class="stringliteral">&quot;BT0_NAME&quot;</span>:<span class="stringliteral">&quot;CR: BHE Lullus&quot;</span>,<span class="stringliteral">&quot;BT1_ADDR&quot;</span>:<span class="stringliteral">&quot;64:16:7F:3D:0D:FA&quot;</span>,<span class="stringliteral">&quot;BT1_CLASS&quot;</span>:<span class="stringliteral">&quot;0x7E020C&quot;</span>,<span class="stringliteral">&quot;BT1_NAME&quot;</span>:<span class="stringliteral">&quot;CR: BHE Lingg&quot;</span>,<span class="stringliteral">&quot;BT2_ADDR&quot;</span>:<span class="stringliteral">&quot;70:3A:51:2F:79:A3&quot;</span>,<span class="stringliteral">&quot;BT2_CLASS&quot;</span>:<span class="stringliteral">&quot;0x5A020C&quot;</span>,<span class="stringliteral">&quot;BT2_NAME&quot;</span>:<span class="stringliteral">&quot;Redmi 7&quot;</span>,<span class="stringliteral">&quot;BT0_RSSI&quot;</span>:-72,<span class="stringliteral">&quot;BT1_RSSI&quot;</span>:-80,<span class="stringliteral">&quot;BT2_RSSI&quot;</span>:-83,<span class="stringliteral">&quot;BT_COUNT&quot;</span>:3}</div>
</div><!-- fragment --><p>You may also use the COM_WIRELESS_TYPE_BT_SERVICES_EXT_SPP enum to scan for all available SPP channels which are available. The following entries are given back:</p><ul>
<li>BTX_ADDR contains the BT address of the found Bluetooth station in the usual format "AA:BB:CC:DD:EE:FF".</li>
<li>BTX_NAME contains the friendly name of the found Bluetooth station.</li>
<li>BTX_CHANNEL contains the channel number of this SPP port. Add this channel number to the connection profile (SERIAL_PORT should be BT_SPP) to connect to it</li>
<li>BTX_CHANNEL_NAME contains a descriptive name chosen by the remote application. Use this to select the correct channel All of these are string values. Please note that if one of these entries is missing it is because the name is empty.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">{<span class="stringliteral">&quot;BT0_ADDR&quot;</span>:<span class="stringliteral">&quot;9C:E6:E7:EB:28:47&quot;</span>,<span class="stringliteral">&quot;BT0_CHANNEL_NAME&quot;</span>:<span class="stringliteral">&quot;BTSPPServer&quot;</span>,<span class="stringliteral">&quot;BT0_NAME&quot;</span>:<span class="stringliteral">&quot;GT-I9300&quot;</span>,<span class="stringliteral">&quot;BT0_CHANNEL&quot;</span>:5,<span class="stringliteral">&quot;BT_COUNT&quot;</span>:1}</div>
</div><!-- fragment --><p>Note that the number of found BT sites is stored in the JSON string and can be retrieved through the JSON element BT_COUNT. For further information on JSObjects please refer to the documentation of the IPC/JSObject component.</p>
<p><em>Pairing status</em> This property returns a JSON coded list of all BT devices which are currently paired with the terminal. As the scan result it contains a friendly name and a Bluetooth address per paired BT device. X in the name is replaced by the number, see above. The JSON object contains the following information:</p><ul>
<li>BTX_ADDR contains the BT address of the found Bluetooth station in the usual format "AA:BB:CC:DD:EE:FF".</li>
<li>BTX_NAME contains the friendly name of the found Bluetooth station.</li>
<li>BTX_SUPP_PROF is a bit list value and describes the currently supported profiles to the BT device. This is the last known state of the device when it was paired.</li>
</ul>
<p><em>Pairing list</em> This property returns a JSON coded list of all BT devices which are currently paired with the terminal. X in the name is replaced by the number, see above. The JSON object contains the following information:</p><ul>
<li>BTX_ADDR contains the BT address of the found Bluetooth station in the usual format "AA:BB:CC:DD:EE:FF".</li>
<li>BTX_NAME contains the friendly name of the found Bluetooth station.</li>
</ul>
<p><em>Bluetooth connection status</em> This property returns a JSON coded list of all currently established BT profile connections. X in the name is replaced by the number, see above. The JSON object contains the following information:</p><ul>
<li>BTX_ADDR contains the BT address of the found Bluetooth station in the usual format "AA:BB:CC:DD:EE:FF".</li>
<li>BTX_NAME contains the friendly name of the found Bluetooth station.</li>
<li>BTX_ACT_PROF value can be either COM_BT_PAN, COM_BT_DUN, COM_BT_SPP, COM_BT_SPP1, BT_BT_SSP2 or any or’d combination of them.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Under V/OS a distinction between different SPP channels is not possible. It will only report COM_BT_SPP if applicable, never COM_BT_SPP1 or COM_BT_SPP2, independently which SPP channel is currently used.</dd></dl>
<p><em>iBeacon support</em> ADK-COM has built in support for iBeacon and has a simple API to control the advertisement activation, deactivation and a status query.</p>
<p>If no Bluetooth module is present the system will broadcast an ibeacon request. The requests notify requests are specified in the following section:</p>
<p><em>Ibeacon Activation</em></p>
<p>An ibeacon activation request will be sent by ADK-COM with the notification-ID EXT_SYS_BEACON_REQ holding the following JSON-coded parameter</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cmd </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"ibeacon_on" </td><td class="markdownTableBodyNone">defines the command. Necessary tags are UUID, major, minor  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">UUID </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">User defined </td><td class="markdownTableBodyNone">Must be 32 characters long in A-F 0-9. (Hexadecimal ASCII notation)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">major </td><td class="markdownTableBodyNone">Integer </td><td class="markdownTableBodyNone">User defined </td><td class="markdownTableBodyNone">Must be an unsigned 16 bit integer  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">minor </td><td class="markdownTableBodyNone">Integer </td><td class="markdownTableBodyNone">User defined </td><td class="markdownTableBodyNone">Must be an unsigned 16 bit integer  </td></tr>
</table>
<p>Example: {"UUID":"de305d5475b4431badb2eb6b9e546014","cmd":"ibeacon_on","major":2000,"minor":3000}</p>
<p>Following such a request a server remote must send the answer to notification-ID EXT_SYS_BEACON_RESP with the following JSON-coded parameter </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">result </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"OK", Error Message </td><td class="markdownTableBodyNone">If success the remote must return the string OK as a result.<br  />
 Any other message will be regarded as an error message  </td></tr>
</table>
<p>Example: {"result":"OK"}</p>
<p><em>Ibeacon Status</em></p>
<p>An ibeacon status request will be sent by ADK-COM with the notification-ID EXT_SYS_BEACON_REQ holding the following JSON-coded parameter</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cmd </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"ibeacon_status" </td><td class="markdownTableBodyNone">defines the command. No other tags are required  </td></tr>
</table>
<p>Example: {"cmd":"ibeacon_status"}</p>
<p>Following such a request a server remote must send the answer to notification-ID EXT_SYS_BEACON_RESP with the following JSON-coded parameter </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">result </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"ON", "OFF", Error Message </td><td class="markdownTableBodyNone">If success the remote must return the string ON or OFF as a result.<br  />
 Any other message will be regarded as an error message  </td></tr>
</table>
<p>Example: {"result":"ON"}</p>
<p><em>Ibeacon Deactivation</em></p>
<p>An ibeacon deactivation request will be sent by ADK-COM with the notification-ID EXT_SYS_BEACON_REQ holding the following JSON-coded parameter</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cmd </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"ibeacon_off" </td><td class="markdownTableBodyNone">defines the command. No other tags are required  </td></tr>
</table>
<p>Example: {"cmd":"ibeacon_status"}</p>
<p>Following such a request a server remote must send the answer to notification-ID EXT_SYS_BEACON_RESP with the following JSON-coded parameter </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Tag </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Value </th><th class="markdownTableHeadNone">Note  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">result </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">"OK", Error Message </td><td class="markdownTableBodyNone">If success the remote must return the string OK as a result.<br  />
 Any other message will be regarded as an error message  </td></tr>
</table>
<p>Example: {"result":"OK"}</p>
<p><em>Example transaction between client and server</em> </p><div class="fragment"><div class="line">client: Query           {<span class="stringliteral">&quot;UUID&quot;</span>:<span class="stringliteral">&quot;de305d5475b4431badb2eb6b9e546014&quot;</span>,<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_on&quot;</span>,<span class="stringliteral">&quot;major&quot;</span>:2000,<span class="stringliteral">&quot;minor&quot;</span>:3000}</div>
<div class="line">server: Got Query       {<span class="stringliteral">&quot;UUID&quot;</span>:<span class="stringliteral">&quot;de305d5475b4431badb2eb6b9e546014&quot;</span>,<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_on&quot;</span>,<span class="stringliteral">&quot;major&quot;</span>:2000,<span class="stringliteral">&quot;minor&quot;</span>:3000}</div>
<div class="line">server: Send Response   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>}</div>
<div class="line">client: Answer On       {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>}</div>
<div class="line">client: Query           {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_status&quot;</span>}</div>
<div class="line">server: Got Query       {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_status&quot;</span>}</div>
<div class="line">server: Send Response   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;ON&quot;</span>}</div>
<div class="line">client: Answer Status   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;ON&quot;</span>}</div>
<div class="line">client: Query           {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_off&quot;</span>}</div>
<div class="line">server: Got Query       {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_off&quot;</span>}</div>
<div class="line">server: Send Response   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>}</div>
<div class="line">client: Answer Off      {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OK&quot;</span>}</div>
<div class="line">client: Query           {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_status&quot;</span>}</div>
<div class="line">server: Got Query       {<span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;ibeacon_status&quot;</span>}</div>
<div class="line">server: Send Response   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OFF&quot;</span>}</div>
<div class="line">client: Answer Status   {<span class="stringliteral">&quot;result&quot;</span>:<span class="stringliteral">&quot;OFF&quot;</span>}</div>
</div><!-- fragment --><p><em>Pairing, Confirmation Pairing and Simple Secure Pairing Confirmation</em></p>
<p>For pairing please refer to: <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_H_Bluetooth_Extended">Appendix H: Extended Bluetooth pairing</a></p>
<p>Use the function <a class="el" href="libcom_8h.html#a651875c5863f9b25b41127efc9de4b69">com_BTUnPair()</a> to unpair from a previously paired device. The device entry should no longer be returned when you query the pairing status (see above).</p>
<p>Configuring BT FF base for bridging/routing mode is described in <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_K_FF_Base_Configuration">Appendix K: BT FF Base Configuration</a>.</p>
<h3><a class="anchor" id="subsubsec_com_usb_gadget_mode_settings"></a>
USB Gadget Mode settings</h3>
<dl class="section note"><dt>Note</dt><dd>This section only applies for USB device ports on the device. The USB host port gadget settings are not configurable.</dd></dl>
<p>Using the integer device property COM_PROP_USB_GADGET_MODE you can control the mode used by the USB gadget driver.</p>
<p>It is a R/W property and is used to set and get the desired mode. Following values available:</p>
<ul>
<li>COM_USBGADGET_SERIAL for serial emulation over USB</li>
<li>COM_USBGADGET_ETH_RNDIS for Ethernet over USB using RNDIS protocol (Windows compatible)</li>
<li>COM_USBGADGET_SERIAL_RNDIS for composite mode (serial + RNDIS Ethernet emulation) over USB</li>
<li>COM_USBGADGET_SERIAL_ECM for composite mode (serial + ECM Ethernet emulation) [Engage terminals and newer]</li>
<li>COM_USBGADGET_ETH_ECM for Ethernet over USB using ECM protocol to work with other Verifone terminals as peer and other ECM compatible devices (Windows isn't!) [Engage terminals and newer]</li>
<li>COM_USBGADGET_ETH_ECMx2 same as COM_USBGADGET_ETH_ECM but two (2) ECM emulation channels will be provided, resulting in two USB-Ethernet connections [Engage terminals and newer]</li>
<li>COM_USBGADGET_SERIAL_ECMx2 same as COM_USBGADGET_SERIAL_ECM but will enable one more ECM emulation channel, resulting in one serial gagdet and two emulated Ethernet connections [Engage terminals and newer]</li>
<li>COM_USBGADGET_IAP IAP2 protocol for Apple(R) devices [Engage terminals only]</li>
<li>COM_USBGADGET_ETH_NCM for Ethernet over USB using CDC-NCM protocol [Engage terminals and newer]</li>
<li>COM_USBGADGET_SERIAL_NCM for composite mode (serial + NCM Ethernet emulation) [Engage terminals and newer]</li>
<li>COM_USBGADGET_ETH_EEM for Ethernet over USB using CDC-EEM protocol [Engage terminals and newer]</li>
<li>COM_USBGADGET_SERIAL_EEM for composite mode (serial + EEM Ethernet emulation) [Engage terminals and newer]</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>On V/OS and V/OS2 terminals the mode cannot be applied on-the-fly due to some OS limitations. A Terminal reboot is required to finally apply the new settings.</dd></dl>
<p>Once the settings were applied, the according communication devices can be used.</p>
<h3><a class="anchor" id="subsubsec_com_usb_gadget_mode_mapping"></a>
USB Gadget Mode mapping to ADKCOM profile values</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">USB Ethernet Gadget configuration </th><th class="markdownTableHeadNone">USB Port on Terminal </th><th class="markdownTableHeadNone">DEVICE_NAME parameter in network profile (Trident) </th><th class="markdownTableHeadNone">DEVICE_NAME parameter in network profile (Raptor) </th><th class="markdownTableHeadNone">Flag in COM_PROP_SUPP_INTERFACES showing feature support  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Client (channel 0) </td><td class="markdownTableBodyNone">USB device </td><td class="markdownTableBodyNone">"USB0" </td><td class="markdownTableBodyNone">"USB0" </td><td class="markdownTableBodyNone">COM_LAN_USBD  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Client (channel 1) </td><td class="markdownTableBodyNone">USB device </td><td class="markdownTableBodyNone">no support </td><td class="markdownTableBodyNone">"USB1" </td><td class="markdownTableBodyNone">COM_LAN_USBD1  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Host (always enabled) </td><td class="markdownTableBodyNone">USB host </td><td class="markdownTableBodyNone">"USB1" </td><td class="markdownTableBodyNone">"USBH1" </td><td class="markdownTableBodyNone">COM_LAN_USBH  </td></tr>
</table>
<p><br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">USB Serial Gadget configuration </th><th class="markdownTableHeadNone">USB Port on Terminal </th><th class="markdownTableHeadNone">SERIAL_PORT parameter in connection profile </th><th class="markdownTableHeadNone">Flag in COM_PROP_SUPP_INTERFACES showing feature support  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Client </td><td class="markdownTableBodyNone">USB device </td><td class="markdownTableBodyNone">"USBD" </td><td class="markdownTableBodyNone">COM_SERIAL_USBD  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Host </td><td class="markdownTableBodyNone">USB host </td><td class="markdownTableBodyNone">no support </td><td class="markdownTableBodyNone">no support  </td></tr>
</table>
<p>If the expected interfaces are not available due to misconfiguration of the USB gadget mode the according functions for connect or attach will return an error.</p>
<dl class="section warning"><dt>Warning</dt><dd>In case you would like to connect two Verifone terminals through USB and want to use the USB-Ethernet emulation between both, one Terminal will play, the host role the other the device role.<br  />
 <b>Be aware of following restriction!!!</b> <br  />
Due to an annoying restriction in the V/OS it is required that USB gadget mode at the host side of the USB connection is <b>NOT</b> configured for Ethernet. Make sure the gadget driver at the host side is set to serial (the default) else the network setup between both terminals won't work as expected (without manual IP changes).</dd></dl>
<h3><a class="anchor" id="subsec_com_device_configuration_common"></a>
Common Properties</h3>
<p>There is no distinction between COM_GPRS_URC_RSSI and COM_GPRS_URC_PACKET_SWITCH. Enable just one will give you both RSSI and packet switch notification. Thus, set 0 to disable it.Applicable for both GPRS and WiFi.</p>
<p>Example to disable signal only: </p><div class="fragment"><div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = <a class="code" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, enable ? <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6ca96fb7545a0a4a10adb55d2257c2f7177">COM_GPRS_URC_RSSI</a> | <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caf6e447c00886826b217eddf42f469419">COM_GPRS_URC_PACKET_SWITCH</a> : 0,  &amp;com_errno );</div>
</div><!-- fragment --><p>Application can still receive other network events (COM_EVENT_NETWORK_INTERFACE_UP, COM_EVENT_NETWORK_INTERFACE_DOWN, and so on) eventhough signal notification is off which may prevent the terminal from going to sleep. To stop application from receiving all network and signal events, use below example. Make sure to enable the flags again after the terminal wakes up.</p>
<p>Example to disable all events: </p><div class="fragment"><div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">status</a> = <a class="code" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, enable ? <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6ca96fb7545a0a4a10adb55d2257c2f7177">COM_GPRS_URC_RSSI</a> | <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caf6e447c00886826b217eddf42f469419">COM_GPRS_URC_PACKET_SWITCH</a> | <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caeb14a16055a82e95e4ba44e2efae0f0b">COM_ALL_NETWORK_STATUS_ON</a>: <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6cabef7af2cded3ac921d4067aeccf57721">COM_ALL_NETWORK_STATUS_OFF</a>,  &amp;com_errno );</div>
</div><!-- fragment --><p>The flag COM_ALL_NETWORK_STATUS_OFF will automatically stop GPRS and WiFi network to prevent terminal from waking up to low level network traffic. On the other hand, the flag COM_ALL_NETWORK_STATUS_ON will automatically restore GPRS and WiFi network. Application should expect a delay on the connect time after terminal wakes up. Note that the radio is kept open during this state which may use up more battery life.</p>
<p>While comdaemon is stopping WiFi/GPRS interface, the following events are sent:</p>
<div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67aeaba7d1c3e632d358240629062465971">COM_EVENT_NETWORK_INTERFACE_DOWN</a></div>
<div class="line">(No TCPIP)</div>
<div class="line">            ↓</div>
<div class="line"><a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a69049ca20e2420d3b011774fd81bb2d7">COM_EVENT_NETWORK_LINK_DOWN</a></div>
<div class="line">(No link layer)</div>
</div><!-- fragment --><p>and these are the events while comdaemon is restoring WiFi/GPRS:</p>
<div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a3646cbdc6723387e5b71fb570e1a865e">COM_EVENT_NETWORK_LINK_UP</a></div>
<div class="line">(Link layer established)</div>
<div class="line">            ↓</div>
<div class="line"><a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67ad2a8194f7a0a2154d394403790f79c1b">COM_EVENT_NETWORK_INTERFACE_UP</a></div>
<div class="line">(TCPIP is up and running)</div>
</div><!-- fragment --><p>Applications can monitor these events by registering a network callback.</p>
<p>This is an example of how to use COM_PROP_POWER_MANAGEMENT_MODE: </p><div class="fragment"><div class="line"><span class="comment">//set application to receive EVT_SYSTEM when terminal wakes up</span></div>
<div class="line">set_wakeup_event(31);</div>
<div class="line"><span class="comment">//set application to receive EVT_COM8 before entering sleep mode</span></div>
<div class="line">reg_presleep(11);</div>
<div class="line">...</div>
<div class="line"><span class="comment">//after some time that terminal is idle, turn off signal notification</span></div>
<div class="line">com_SetDevicePropertyInt(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, 0, &amp;com_errno)</div>
<div class="line">...</div>
<div class="line"><span class="comment">//Got wake up event. Turn on all event notification</span></div>
<div class="line">if(lnEvent &amp; EVT_SYSTEM){</div>
<div class="line">    <a class="code" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6ca96fb7545a0a4a10adb55d2257c2f7177">COM_GPRS_URC_RSSI</a> | <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caf6e447c00886826b217eddf42f469419">COM_GPRS_URC_PACKET_SWITCH</a> | <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caeb14a16055a82e95e4ba44e2efae0f0b">COM_ALL_NETWORK_STATUS_ON</a>, &amp;com_errno);</div>
<div class="line">}</div>
<div class="line">... </div>
<div class="line"><span class="comment">//terminal is idle again after some time, turn off signal notification</span></div>
<div class="line"><a class="code" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, 0, &amp;com_errno);</div>
<div class="line">...</div>
<div class="line"><span class="comment">//Got presleep event. Turn off all event notification</span></div>
<div class="line">if(lnEvent &amp; EVT_COM8){</div>
<div class="line">    <a class="code" href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a>(<a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a>, <a class="code" href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6cabef7af2cded3ac921d4067aeccf57721">COM_ALL_NETWORK_STATUS_OFF</a>, &amp;com_errno);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="sec_com_example_applications"></a>
Sending / Receiving Data</h2>
<p>It is not assured that using <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> with a datasize of X will actually result in the return value to be X. It may in fact be lower than X. If you are using a streaming protocol such as TCP or a raw connection then this is not an error. Even the return value 0 may be received. This simply means that there could not be any data written and the buffer is full, so you should try again in a little while.</p>
<p>A return value X, which is greater than 0, does not necessarily mean that X number of bytes have been received by the remote. For TCP this means that X bytes have been placed on the tcp stack. For datagram based sockets this means that the datagram has been written to the device (see <a class="el" href="libcom_8h.html#a5d8b92257989b0842af3a49a1cc0ac0e">com_SendTo()</a> and <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a>)</p>
<p>If the socket is a datagram socket the send() return value, which is greater than 0, should always match exactly with the number of bytes which were specified to be sent. (See <a class="el" href="libcom_8h.html#a5d8b92257989b0842af3a49a1cc0ac0e">com_SendTo()</a> and <a class="el" href="libcom_8h.html#a523c494a8fd5d4397257ba439a9f0c45">com_ReceiveFrom()</a>)</p>
<p><a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> will send return either 0, -1 or a positive number. Be careful, these return codes are platform dependent! A Linux OS may act differently than a BSD, therefore caution is necessary! Also, they depend on if the socket is non-blocking or blocking. libcom only provides non-blocking sockets. You may change these to blocking sockets, but this is not recommended. The table below refers to non-blocking sockets only.</p>
<p>When obtaining -1 as a return value from send the global errno will be set. You will need to check this errno to figure out what went wrong. This has nothing to do with the com_errno!</p>
<p>The send return values have different meanings, which are explained below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Send Return value </th><th class="markdownTableHeadNone">Meaning  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-1: </td><td class="markdownTableBodyNone">There was an error sending. Check errno for more information. If errno is EWOULDBLOCK or EAGAIN this simply indicates that the send-buffer is full. You should use select in order to wait for the file descriptor to become writeable again. Any other errno except the two mentioned above are serious errors, and should most likely be interpreted as fatal. This means the best strategy (most likely) is to close and then reestablish the connection. <dl class="section note"><dt>Note</dt><dd>When you are doing an SSL connection be sure to check if com_errno is set to COM_ERR_CON_SSL_BUSY. If so then this is not an error, but an indication that there is currently a SSL handshake in progress. Try again in a short while.  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0: </td><td class="markdownTableBodyNone">Returned when you try to send 0 bytes of data. If you have specified a length &gt;0 and obtain this value, then this indicates that the send-buffer is full. However this return value might not actually appear, as normally in this case you would get a -1 with errno being set to EWOULDBLOCK or EAGAIN. Therefore portable applications should regard this value as being the same as return value -1 with errno set to EAGAIN.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt;0: </td><td class="markdownTableBodyNone">Data was sent. The data sent is X bytes long, X being the return value. When sending Datagrams the return value should match exactly with the size of the length you have specified. For TCP note that this is the amount of data which was put marked in the TCP stack of the kernel for delivery. This value does not guarantee that X amount bytes of data were actually received or acked by the remote.  </td></tr>
</table>
<p>Also note that the default TCP write-buffer per socket is 16K. Using send on a TCP-socket with data-size above this limit, or when the buffer is full, may fail completely without sending any data. As with <a class="el" href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send()</a> above, it is also not assured that using <a class="el" href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive()</a> with a certain number of bytes will return exactly this number of bytes. The return codes for receive are explained below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Receive Return value </th><th class="markdownTableHeadNone">Meaning  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-1: </td><td class="markdownTableBodyNone">There was an error receiving data. Check errno for more information. If errno is EWOULDBLOCK or EAGAIN this simply indicates that there is no data present. You should use select in order to wait for the file-descriptor to become readable again.<br  />
 Any other errno except the two mentioned above are serious errors, and should most likely be interpreted as fatal. This means the best strategy (most likely) is to close and then reestablish the connection. <dl class="section note"><dt>Note</dt><dd>As with com_write above: When you are doing an SSL connection be sure to check if com_errno is set to COM_ERR_CON_SSL_BUSY. If so then this is not an error, but an indication that there is currently a SSL handshake in progress. Try again in a short while.  </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0: </td><td class="markdownTableBodyNone">Returned when the remote host has closed the connection.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt;0: </td><td class="markdownTableBodyNone">Data was received and was placed inside the buffer. The data received is X bytes long, X being the return value.  </td></tr>
</table>
<h3><a class="anchor" id="subsubsec_com_select_738"></a>
Select</h3>
<p>Above the <a class="el" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select()</a> function uses the select system call, which is available on all supported systems. When reading we recommend the approach outlined in the example above to check if data is available using <a class="el" href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select()</a> with an explicit timeout.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Select Return value </th><th class="markdownTableHeadNone">Meaning  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-1: </td><td class="markdownTableBodyNone">Error. Most likely bad file descriptors and such. Fatal error, the connection should be closed  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0: </td><td class="markdownTableBodyNone">Timeout, there was no activity on any file descriptors in the FD-Set  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt;0: </td><td class="markdownTableBodyNone">There was some activity in one of the file descriptors  </td></tr>
</table>
<p>Please refer to the select man page for further information about select.</p>
<p>Two additional functions with the com_Select prefix are provided: com_SelectInterrupt and com_SelectInterruptCancel</p>
<p>You may cancel a select (from a different thread) using com_SelectInterrupt. This will only work if you have requested the select operation with the interrupt flag (see header). Once this interrupt is triggered it will stay active (meaning subsequent com_Select calls will also return if the interrupt flag is used). You may reset the interrupt by calling com_SelectInterruptCancel.</p>
<h2><a class="anchor" id="subsec_com_stunnel_configuration_and_setup"></a>
Stunnel configuration and setup</h2>
<p>ADKCOM supports SSL/TLS secured TCP tunneling over IPv4 protocols. Any combination of a Trident and a Raptor terminal can be connected. This is achieved by the usage of stunnel, an open-source program to tunnel socket connections through a SSL/TLS secured link.</p>
<dl class="section note"><dt>Note</dt><dd>Since the used cryptographic key material for securing the link cannot be changed by the user (preloaded Verifone keys are used), a secured link can only be established between two Verifone terminals.</dd></dl>
<p>The secured link can be established over any supported IPv4 based network. Both terminals must be part of this network.</p>
<p>For more details what stunnel is, check out the official website of this project: <a href="https://www.stunnel.org">https://www.stunnel.org</a></p>
<p>ADK-COM provides an API for easy configuration of the stunnel setup on a terminal. The function <a class="el" href="libcom_8h.html#a3658c67822073afab2c329755aaddd37">com_SetStunnelConfig()</a> is used to do that. <a class="el" href="libcom_8h.html#a3658c67822073afab2c329755aaddd37">com_SetStunnelConfig()</a> has three parameters:</p><ul>
<li>stunnel_cfg_file</li>
<li>run_now</li>
<li>com_errno</li>
</ul>
<p>The stunnel_cfg_file is the path + file name to a stunnel configuration XML file provided by the user. It can be located anywhere on the file system as long as system users (sys1, sys2, ...) are granted read access to that file.</p>
<p>The parameter "run_now" is just a boolean value which allows the user to decide whether the stunnel should be started immediately after the configuration was accepted by the operating system. If set to 0 only the according configuration data is stored, if set to 1 the stunnel is started afterwards. If the start fails (for example due to misconfiguration) the error COM_ERR_NET_DENY is returned via the parameter "com_errno".</p>
<p>If stunnel_cfg_file is set to NULL, ADK-COM will erase any previously stored stunnel configuration from the terminal. The parameter "run_now" is ignored then.</p>
<h3><a class="anchor" id="sec_sec_com_stunnel_xml"></a>
Content of the stunnel config file</h3>
<p>The stunnel configuration file provided by the user is standard XML file. As the stunnel program can be used to tunnel multiple socket connections at the same time the XML file must contain at least one "node" section, or more than one in case you need more tunneling connections. The mandatory item "autostart" defines whether the system will launch the stunnel at every terminal boot-up automatically. Set to "yes" it will be launched, set to "no" it won't be started. In the latter case the user will have to use the <a class="el" href="libcom_8h.html#a3658c67822073afab2c329755aaddd37">com_SetStunnelConfig()</a> plus run_now set to 1 in order to start the stunnel on demand.</p>
<dl class="section note"><dt>Note</dt><dd>The stunnel cannot be stopped by an ADK-COM API.</dd></dl>
<p>Per node you have to provide three sub-items:</p><ul>
<li>client (yes or no)</li>
<li>accept</li>
<li>connect</li>
</ul>
<p>With the item "client" you can specify if this node is a server or a client (listens for incoming stunnel connections or connects to another stunnel instance in the network).</p>
<p><b>For client=yes only:</b></p>
<p>The "accept" item must contain only a port number. The listening socket is always created as 127.0.0.1:&lt;port&gt;. This way we ensure the listening port is always bound to the loopback interface, never a real network interface.</p>
<p>The "connect" item must contain a valid IP address + a port number, both separated by a colon (ex: "192.168.137.2:10000").</p>
<p><b>For client=no only:</b></p>
<p>The "accept" item must contain a valid IP address + a port number, both separated by a colon (ex: "192.168.137.2:10000"), or only a port number. If only a port number was specified the listening sockets will not be bound to any particular network interface, means it will accept connections from every available network. </p><dl class="section note"><dt>Note</dt><dd>The allowed port range for "accept" is 10000 to 10200. Others will be rejected with error COM_ERR_NET_DENY.</dd></dl>
<p>The "connect" item must contain only a port number. The packets tunneled will be forwarded to 127.0.0.1:&lt;port&gt; on the remote terminal. That means the application waiting for the tunneled traffic has to listen on &lt;port&gt;, either bound to only the loopback address or any address depending on the security it want to provide. Of course the latter case is <b>NOT</b> recommended for security terminals.</p>
<dl class="section note"><dt>Note</dt><dd>See also the stunnel man page for more details on the accept and connect items: <a href="https://www.stunnel.org/static/stunnel.html">https://www.stunnel.org/static/stunnel.html</a></dd></dl>
<h3><a class="anchor" id="sec_sec_com_stunnel_examples"></a>
Examples</h3>
<p>This is a simple example of a configuration file for two tunneling connection on the <b>client side</b>: </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;stunnel-config&gt;</div>
<div class="line">    &lt;autostart&gt;no&lt;/autostart&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK TEC server--&gt;</div>
<div class="line">        &lt;client&gt;yes&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;5826&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;192.168.137.2:10000&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK MSR server--&gt;</div>
<div class="line">        &lt;client&gt;yes&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;5821&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;192.168.137.2:10001&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">&lt;/stunnel-config&gt;</div>
</div><!-- fragment --><p>This is a simple example of a configuration file for two tunneling connection on the <b>host side</b>: </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;stunnel-config&gt;</div>
<div class="line">    &lt;autostart&gt;no&lt;/autostart&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK TEC server--&gt;</div>
<div class="line">        &lt;client&gt;no&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;10000&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;5825&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK MSR server--&gt;</div>
<div class="line">        &lt;client&gt;no&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;10001&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;5820&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">&lt;/stunnel-config&gt;</div>
</div><!-- fragment --><p>Client and host nodes can also be <b>mixed</b> so that you can have tunnels from one side to another and back simultaniously: </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;stunnel-config&gt;</div>
<div class="line">    &lt;autostart&gt;no&lt;/autostart&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK TEC server--&gt;</div>
<div class="line">        &lt;client&gt;yes&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;5826&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;192.168.137.1:10009&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;node&gt;</div>
<div class="line">        &lt;!-- ADK MSR server--&gt;</div>
<div class="line">        &lt;client&gt;no&lt;/client&gt;</div>
<div class="line">        &lt;accept&gt;10001&lt;/accept&gt;</div>
<div class="line">        &lt;connect&gt;5820&lt;/connect&gt;</div>
<div class="line">    &lt;/node&gt;</div>
<div class="line">&lt;/stunnel-config&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_bridge"></a>
Bridging</h2>
<p>You may create a interface bridge between two interfaces using the com_AddInterfaceBridge function. Currently only creating one bridge with two interfaces is supported. After creating the bridge you may use the interface like any other interface in ADKCOM by specifying it as the device_name ("BRIDGE"). Please note that only the first bridge created is addressable in ADKCOM.</p>
<p>Use com_RemoveInterfaceBridge to remove the bridge by specifying the two interfaces the bridge consists of.</p>
<h2><a class="anchor" id="subsec_com_sim_unlock_status"></a>
SIM card unlocking and status</h2>
<p>The status of the SIM card can be queried by the property COM_PROP_GSM_GET_SIM_STATUS:<br  />
</p><ul>
<li>Status 0 means the SIM card is unlocked and ready to be used for connections / network attach operations.<br  />
</li>
<li>Status 1 means the SIM PIN is needed to unlock the SIM card.<br  />
</li>
<li>Status 2 means the SIM PUK + a new SIM PIN (can be the old one) is required to unlock the SIM card. Please note that after successful operation the SIM PIN will be set tothe value specified by the previously set COM_PROP_GSM_SIM_PIN_NEW.<br  />
</li>
<li>Status 3 means the SIM card is currently busy doing other things and status cannot be obtained. Query the status again after a while.</li>
<li>Status 4 means the SIM card is not inserted in the SIM card slot (physically not present).<br  />
</li>
</ul>
<p><b>Normal SIM unlock:</b><br  />
In order to do a normal unlock with PIN code (status is 1) simply set the COM_PROP_GSM_SIM_PIN property.</p>
<p><b>SIM PIN change:</b><br  />
In order to change the current SIM PIN to a new value do the following steps (status must be 0 or 1):</p><ul>
<li>Send current PIN via COM_PROP_GSM_SIM_PIN</li>
<li>Send new PIN via COM_PROP_GSM_SIM_PIN_NEW. The execution of this command will take the previously entered current PIN and will tell the SIM card to change it to the new PIN</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The COM_PROP_GSM_SIM_PIN_NEW property will only trigger a SIM PIN change on the card if the SIM card status is <b>not 2</b> (PUK needed).</dd></dl>
<p><b>SIM Unlock via PUK and set a new PIN (new PIN can be the known old value):</b><br  />
In case the user has entered the wrong SIM PIN too often (usually 3 wrong attempts will lock the card), you will have to enter the PUK. You can check if the PUK is required by obtaining the current SIM status: if it returns status 2 it is time to unlock the SIM card using the PUK and set a new PIN value. Two steps are required to unlock the SIM card and bring the SIM card back to life:</p><ul>
<li>Send the desired new PIN value (can be identical to the previously used PIN value) via COM_PROP_GSM_SIM_PIN_NEW property</li>
<li>Send the PUK via COM_PROP_GSM_SIM_PUK property. This will trigger a PUK unlock and sets the SIM PIN to the desired new PIN value.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If the user sends the PUK without setting a COM_PROP_GSM_SIM_PIN_NEW beforehand, ADK-COM will return the error COM_ERR_DEV_PIN_REQUIRED.</dd></dl>
<h2><a class="anchor" id="subsec_com_pm_differences_in_platforms"></a>
PM differences in platforms</h2>
<p>The different operating systems V/OS and V/OS2 behave differently regarding power management:</p>
<ul>
<li>V/OS has no ADK support for power management.</li>
<li>V/OS2 has power management via ADK SYS-PM. Here the application has to deal with the ADK SYS-PM to monitor the battery power level, to make sure that there is enough power for a connection to the payment host and afterwards for printing the receipt.</li>
</ul>
<p>All mobile radio related functions and properties may return the error code <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a7a27bc3baea90dcd7f7d1df5eb52af12">COM_ERR_DEV_BATTERY</a> in case the mobile radio is not yet powered, but battery voltage has reached a critical state. This only applies to devices which have a mobile radio module and a battery. The required battery voltage to be able to power the module is 3.2V for all devices. Applications should continue to monitor the battery charge level and retry the previously failing operation once the voltage is back to normal.</p>
<h3><a class="anchor" id="subsubsec_com_recommendations_for_vos2"></a>
Recommendations for V/OS2</h3>
<p>As for V/OS2 there is a new ADK component ADK SYS-PM which deals with power management in a different way here are some recommendations from ADK COM point of view.</p>
<dl class="section note"><dt>Note</dt><dd>Please refer to the ADK SYS-PM documentation to get to know which names the functions have and how to get to know how to request the amount of charge. Here the following artificial function names are used: <code>Critical_Section_Enter()</code> to enter a critical section which suppesses any power saving mode, <code>Critical_Section_Exit()</code> to enable any power saving mode again, <code>Get_Remaining_Battery()</code> to be able to check if there is enough battery power left for communication.</dd></dl>
<p><b>Short time</b> connections from terminal to host initiated by application in the terminal:<br  />
This is an example for communicating with the payment host. The applications knows that communication is necessary and in the case there is not enough remaining battery power for communicating and printing a receipt the application should not allow to start a transaction.</p><ol type="1">
<li>Call <code>Get_Remaining_Battery()</code> and make sure that there is enough battery power remaining for the connection (the exact minimum power might be a difference e.g. between WiFi connections and 4G connections and may also be different on different terminal types).</li>
<li>Call <code>Critical_Section_Enter()</code> to be sure no power saving mode will be entered during connection.</li>
<li>Establish the connection using <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a>.</li>
<li>Transfer the data to/from host.</li>
<li>Close the connection using <a class="el" href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose()</a>.</li>
<li>Call <code>Critical_Section_Exit()</code> to be sure any applicable power saving mode is allowed again.</li>
</ol>
<p><b>Long time</b> connections e.g. from ECR to terminal:<br  />
This is an example for long term incoming connections e.g. from ECR. The application in the terminal does not know how long the connection will be used, so the critical section from the example before cannot be used. During standby, sleep and deep sleep power saving modes the communication modules remain powered. So for standby, sleep and deep sleep modes the device is usually woken up by the incoming data traffic and resume communication. During hibernate power saving state the communication modules of the terminal are switched off, so while resuming from hibernate state the communication modules will be switched on again and then the terminal may get a new IP address due to DHCP. Then the long term connections are invalid due to new IP address and the terminal application has to close the connection and create a new one, resp. a new listen socket and the ECR has to deal with it (e.g. re-connect with new IP address, etc.).<br  />
To avoid changing IP address, or the overhead of closing invalid long term connections and re-establish new long term connection(s) it is recommended to suppress entering the hibernate power saving state.<br  />
In the case the hibernate state is mandatory, the application has either to check if a connection was down (e.g. via ADK COM callback and check for <a class="el" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a69049ca20e2420d3b011774fd81bb2d7">COM_EVENT_NETWORK_LINK_DOWN</a> and <a class="el" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67aeaba7d1c3e632d358240629062465971">COM_EVENT_NETWORK_INTERFACE_DOWN</a>), or if ADK SYS-PM entered/leaved hibernate state to trigger closing long term connections and re-establish them.<br  />
<br  />
 </p>
<h1><a class="anchor" id="sec_com_extended_cpp_interface"></a>
Extended C++ interface</h1>
<p>The libcom also comes with a simple C++ command interface which allows the application to execute more sophisticated command which also can easily extended by parameters in future without changing the API and ABI.</p>
<h2><a class="anchor" id="subsec_generic_command_interface"></a>
Generic command interface</h2>
<p>At the beginning an object of type <a class="el" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> must be created. During construction of that object an IPC connection to the comdaemon process is established automatically. If that fails an exception of type <a class="el" href="classvficom_1_1_exception.html" title="Exception type thrown by constructors in classes in this file.">vficom::Exception</a> is thrown. The application must ensure this type is properly caught.</p>
<p>Once the object of type <a class="el" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> was successfully created, the application can use one of the member functions vficom::CommandPipe::sendRcv() to send a command request and get the response. A timeout ensures the request won't take longer than expected as the function is a blocking call.</p>
<p>The input and output parameter are of type vficom::JSObject which allows a flexible, generic way to built up a request command and get the response. The in parameter must at least contain a JSON string value for <a class="el" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977" title="string - JSON member holding one of the command string values defined in vficom::cmd namespace">vficom::cmdparam::in::command</a> which can be one of the command strings found in namespacec <a class="el" href="namespacevficom_1_1cmd.html">vficom::cmd</a>. Furthermore, additional input parameters must be specified which are command specific and described in the following sub-sections. This also applies for the out parameter which holds the returned values.</p>
<p>Note that a positive return value of <a class="el" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">vficom::CommandPipe::sendRecv()</a> does not necessarily mean that the actual command was successful (the return value of <a class="el" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">vficom::CommandPipe::sendRecv()</a> only represents the status of the command transport layer aka IPC to the comdaemon process). Even if OK is returned, in addition you <b>always</b> must check the value of out(vficom::out::comerr) which holds the status of the actual command executed. The data type behind that value is <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a>.</p>
<p>Sample code can be found in the upcoming command descriptions.</p>
<h3><a class="anchor" id="subsubsec_ping"></a>
Ping Command</h3>
<p>This section describes the extended PING command.</p>
<p>Following input parameter must be part of the in JSObject object passed to <a class="el" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">vficom::CommandPipe::sendRecv()</a>: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">In-Parameter </th><th class="markdownTableHeadNone">JSON Type </th><th class="markdownTableHeadNone">Value Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977" title="string - JSON member holding one of the command string values defined in vficom::cmd namespace">vficom::cmdparam::in::command</a> </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">Must be set to <a class="el" href="namespacevficom_1_1cmd.html#abb2b3f4a4bb598a81dfd1128b0b28f76" title="PING command value.">vficom::cmd::ping</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a920892b2ff3fe5a072f035eb2a5920c9" title="string - dns name or ip address">vficom::cmdparam::in::ping::destination</a> </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">DNS name or IP address  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2b4a0dc4f4178cae0b1a5abb7d0122de" title="integer - Overall timeout in milliseconds">vficom::cmdparam::in::ping::timeout</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">Overall command timeout in milliseconds  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a4f51ec05d10dbe4d0d8e2e17fa76cd03" title="integer - stop after &quot;count&quot; ping request">vficom::cmdparam::in::ping::count</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">stop after "count" ping requests  </td></tr>
</table>
<p>Following parameters are optional. If not specified in the in object the according default values are taken: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Optional In-Parameter </th><th class="markdownTableHeadNone">JSON Type </th><th class="markdownTableHeadNone">Value Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a8da131bd7b2090ec245661c0d77811c4" title="integer - [optional] value of type com_AddressFamily, default COM_AF_UNSPEC">vficom::cmdparam::in::ping::addr_family</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">value of type <a class="el" href="libcom_8h.html#a9d0a5913331bf7ad7df0fd094ba5ebac">com_AddressFamily</a>, default <a class="el" href="libcom_8h.html#a9d0a5913331bf7ad7df0fd094ba5ebaca543d618d8f9ef06977cc6ae9023ca6a2">COM_AF_UNSPEC</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a9baf2a893a551768cd734a9e59bbe897" title="boolean - [optional] set or unset the DF flag in IP header, default (not specified in input command):...">vficom::cmdparam::in::ping::dont_fragment</a> </td><td class="markdownTableBodyNone">boolean </td><td class="markdownTableBodyNone">set or unset the DF flag in IP header, default (not specified in input command): set automatically based on routing table  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2a1d0b5edb4eebde7e6d5bbc84c02730" title="integer - [optional] value of type &#39;enum com_Interface&#39;, default COM_INTERFACE_ANY">vficom::cmdparam::in::ping::interface</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">value of type 'enum com_Interface', default <a class="el" href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea7b596c612d40d9611370b1cbcd242b0b">COM_INTERFACE_ANY</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a98835b95b5bab834959434cf556f73da" title="integer - [optional] milliseconds between sending each packet, default: 1000">vficom::cmdparam::in::ping::interval</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">milliseconds between sending each packet, default: 1000  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db" title="integer - [optional] use &quot;size&quot; as number of data bytes to be sent, default 56">vficom::cmdparam::in::ping::size</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">use "size" as number of data bytes to be sent, default 56  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a08da058f9e2399639365eccf1f7706d3" title="integer - [optional] reply wait &quot;waittime&quot; in milliseconds, default 5000 milliseconds">vficom::cmdparam::in::ping::waittime</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">reply wait "waittime" in milliseconds, default 5000 milliseconds  </td></tr>
</table>
<p>Once the vficom::CommandPipe::sendRcv() member function call returns with <a class="el" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59" title="No Error.">vficom::status::OK</a>, the object <b>out</b> contains the reply message with following values:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Out-Parameter </th><th class="markdownTableHeadNone">JSON Type </th><th class="markdownTableHeadNone">Value Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out.html#a2d25468a9609684dc26c6ef8afea754d" title="contains the status of the command execution: one of com_ErrorCodes">vficom::cmdparam::out::comerr</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">contains the status of the command execution: one of <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#ab3f37340f5eeeabadac4fca46e9877c9" title="integer - number of transmitted packets">vficom::cmdparam::out::ping::transmitted</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">number of transmitted packet  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a9e0df6765a477857c7df53d5769c7eca" title="integer - number of received packets">vficom::cmdparam::out::ping::received</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">number of received reply packet  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#afae7571306924c4632e2dae0970b2bd3" title="integer - avarage RTT in milliseconds">vficom::cmdparam::out::ping::rtt_avg</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">avarage RTT in milliseconds  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#af8f0e2d098b1678a47d88a4960f4a4ca" title="integer - lowest RTT in milliseconds">vficom::cmdparam::out::ping::rtt_min</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">lowest RTT in milliseconds  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a4babea03335004ab9a21c5588e849af4" title="integer - highest RTT in milliseconds">vficom::cmdparam::out::ping::rtt_max</a> </td><td class="markdownTableBodyNone">integer </td><td class="markdownTableBodyNone">highest RTT in milliseconds  </td></tr>
</table>
<p>In case out(vficom::cmdparam::out::comerr) is <b>NOT</b> set to <b>COM_ERR_NONE</b> none of the values in <a class="el" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html">vficom::cmdparam::out::ping</a> are returned in the out object.</p>
<p>In case out(vficom::cmdparam::out::comerr) was set to <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58aca56d3701191dbe2ead63d8256f2f63a">COM_ERR_PING_MSG_TOO_LONG</a> the ping ICMP packet could not be transmitted due to length and fragmentation issues.</p>
<p>The following code block shows an example on how to use the C++ Ping interface: </p><div class="fragment"><div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)             = <a class="code" href="namespacevficom_1_1cmd.html#abb2b3f4a4bb598a81dfd1128b0b28f76">vficom::cmd::ping</a>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ping::timeout</a>)       = 5;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a920892b2ff3fe5a072f035eb2a5920c9">vficom::cmdparam::in::ping::destination</a>)   = <span class="stringliteral">&quot;my.host.com&quot;</span>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a9baf2a893a551768cd734a9e59bbe897">vficom::cmdparam::in::ping::dont_fragment</a>) = <span class="keyword">true</span>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a4f51ec05d10dbe4d0d8e2e17fa76cd03">vficom::cmdparam::in::ping::count</a>)         = 3;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2a1d0b5edb4eebde7e6d5bbc84c02730">vficom::cmdparam::in::ping::interface</a>)     = <a class="code" href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea7b596c612d40d9611370b1cbcd242b0b">COM_INTERFACE_ANY</a>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a98835b95b5bab834959434cf556f73da">vficom::cmdparam::in::ping::interval</a>)      = 1000;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a8da131bd7b2090ec245661c0d77811c4">vficom::cmdparam::in::ping::addr_family</a>)   = <a class="code" href="libcom_8h.html#a9d0a5913331bf7ad7df0fd094ba5ebaca2ca89c097f12c86a02a582c0fde9a970">COM_AF_INET</a>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">vficom::cmdparam::in::ping::size</a>)          = 56;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a08da058f9e2399639365eccf1f7706d3">vficom::cmdparam::in::ping::waittime</a>)      = 1;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbc">vficom::status::PipeStatus</a> ret(<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaef2863a469df3ea6871d640e3669a2f2">vficom::status::INVALID</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line">    ret = cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 500 + in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ping::timeout</a>).getInt());</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Exception occurred: %s\n&quot;</span>, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">    ret = ex.<a class="code" href="classvficom_1_1_exception.html#a525b39dd291368956cb3b122d6009de5">getError</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(ret != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>){</div>
<div class="line">    printf(<span class="stringliteral">&quot;CommandPipe connection failed&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> FAILURE;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> err = <span class="keyword">static_cast&lt;</span><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a><span class="keyword">&gt;</span>(out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out.html#a2d25468a9609684dc26c6ef8afea754d">vficom::cmdparam::out::comerr</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>());</div>
<div class="line"><span class="keywordflow">if</span>(err != <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Ping command failed with com_error %d: %s&quot;</span>, err, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(err));</div>
<div class="line">    <span class="keywordflow">return</span> FAILURE;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">result</a>.nreceived    = out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a9e0df6765a477857c7df53d5769c7eca">vficom::cmdparam::out::ping::received</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">result</a>.ntransmitted = out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#ab3f37340f5eeeabadac4fca46e9877c9">vficom::cmdparam::out::ping::transmitted</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">result</a>.tmax         = out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a4babea03335004ab9a21c5588e849af4">vficom::cmdparam::out::ping::rtt_max</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">result</a>.tmin         = out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#af8f0e2d098b1678a47d88a4960f4a4ca">vficom::cmdparam::out::ping::rtt_min</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">result</a>.tavg         = out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#afae7571306924c4632e2dae0970b2bd3">vficom::cmdparam::out::ping::rtt_avg</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"><span class="keywordflow">return</span> SUCCESS;</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_platformsupport"></a>
System Setup and Requirements</h1>
<h2><a class="anchor" id="subsubsec_com_hardware_support"></a>
Hardware</h2>
<p>Currently Trident and Raptor platforms are supported. On Trident we the V/OS operating system, for Raptor support for V/OS2 is provided. ADK-COM releases are labeled according to the OS/Platform combination, see below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">OS </th><th class="markdownTableHeadNone">Platform </th><th class="markdownTableHeadNone">Prefix  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>V/OS</b>  </td><td class="markdownTableBodyNone">Trident </td><td class="markdownTableBodyNone">com-vos-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>V/OS2</b>  </td><td class="markdownTableBodyNone">Raptor </td><td class="markdownTableBodyNone">com-vos2-  </td></tr>
</table>
<h2><a class="anchor" id="subsec_com_headers_and_binary_deliveries"></a>
Deliverables and Deployment</h2>
<p>ADK-COM is composed of the following deliveries:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">File </th><th class="markdownTableHeadNone">Purpose  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>comdaemon</b>  </td><td class="markdownTableBodyNone">comdaemon process binary  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a></b>  </td><td class="markdownTableBodyNone">Header file with exported definitions, functions, etc.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><a class="el" href="libcom3_8h.html">libcom3.h</a></b>  </td><td class="markdownTableBodyNone">Header file with exported definitions, functions, etc. for extended C++ interface  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>libcom.so</b>  </td><td class="markdownTableBodyNone">Client library for use with applications, dynamic version  </td></tr>
</table>
<h1><a class="anchor" id="sec_com_troubleshooting"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="subsec_com_FAQ"></a>
FAQ</h2>
<p>Q: When does a automatic network disconnection occur when using ADK-COM? A: Three things need to be the case before a network is automatically disconnected: 1) Network is not attached. No ADK-COM connection is going through the network. 3) The network is not set to autostart.</p>
<h2><a class="anchor" id="subsec_com_logging"></a>
Logging</h2>
<p>ADK outputs logging via the ADKLOG component. Please refer to the ADKLOG documentation. The logging ID for this component is "COM".</p>
<h2><a class="anchor" id="Debugging"></a>
Debugging</h2>
<p>Almost all libcom functions provide an optional parameter, a pointer to an error code. You may pass this pointer to the com_GetErrorCodes to obtain a printable string which may, in an error case, provide some information about what went wrong.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_A_Migrating"></a>
Appendix A: Migrating Between Releases</h1>
<p>We try our best to ensure that all libcom versions are compatible with each other. However, sometimes this is not possible due to various reasons. In this section we will quickly mention and discuss some changes from various libcom versions to others.</p>
<h2><a class="anchor" id="subsec_com_version__20x_in_preparation_of_300"></a>
Version 2.X to 3.X</h2>
<p>Some of the COM_PROFILE_PROP* enum values will be renamed in ADK-COM 3.0.0. To allow a smooth transition for applications the according symbols in the <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> header file are surrounded by a define "ADK-COM_3_0". Add the -DADK-COM_3_0 compiler flag in order to be sure that only the new ADK-COM 3.0 symbols are used in your code. This will prepare the code for ADK-COM 3.0.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_B_Bluetooth"></a>
Appendix B: Bluetooth</h1>
<h2><a class="anchor" id="sec_com_APPENDIX_B_BT_ADDR"></a>
Bluetooth-addresses</h2>
<p>For the BT_PAN network profile you may specify "one", "any" or a specific Bluetooth address. The ADKCOM service will then try to reconnect to these addresses in the background and reestablish the PAN connection if possible.</p>
<p>The following handling will occur for each of these values.</p>
<ul>
<li>"any": Connect to any of the currently paired devices, which support PAN.</li>
<li>"one": It will be checked if there is one device paired. If not, nothing will be done.</li>
<li>address: The connection will be reestablished with a <em>specific</em> device when the network is set up.</li>
</ul>
<p>This process will continue until the interface is stopped by an application.</p>
<p>Bluetooth hardware address of the remote device the serial connection should be established with. </p><dl class="section note"><dt>Note</dt><dd>You may omit this value. If so then ADK-COM will check if exactly one BT device is paired with the terminal and will try to establish a PAN connection to that device.<br  />
 In case more than one BT device is currently paired, com_Connect will return COM_ERR_OP_AMBIGUOUS and you will have to specify a BT_ADDR in the connection profile.</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_C_Glossary"></a>
Appendix C: Glossary</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Term </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADK </td><td class="markdownTableBodyNone">Application Development Kit  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ADK-COM </td><td class="markdownTableBodyNone">The COM ADK component. Includes CCP, libcom and comdaemon, and the <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> header  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CCP </td><td class="markdownTableBodyNone">COM control panel. Seperate application to configure and setup network interfaces  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libcom </td><td class="markdownTableBodyNone">ADK-COM library which implements the functions specified in <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Stream </td><td class="markdownTableBodyNone">A sequence of symbols which are not fragmented. This means there are no explicit boundaries inside the sequence. The sequence itself is also not bounded  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TCP </td><td class="markdownTableBodyNone">Transmission Control Protocol  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Datagram </td><td class="markdownTableBodyNone">A sequence of symbols of which its length is an explicit boundary of the sequence  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">XML </td><td class="markdownTableBodyNone">Extensible Markup Language  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">UDP </td><td class="markdownTableBodyNone">User Datagram Protocol  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MAC </td><td class="markdownTableBodyNone">Media Access Control  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ARP </td><td class="markdownTableBodyNone">Address Resolution Protocol  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IP </td><td class="markdownTableBodyNone">Internet Protocol  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PPP </td><td class="markdownTableBodyNone">Point to Point Protocol  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FTP </td><td class="markdownTableBodyNone">File Transfer Protocol  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DHCP </td><td class="markdownTableBodyNone">Dynamic Host Configuration Protocol  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DNS </td><td class="markdownTableBodyNone">Domain Name System  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HDLC </td><td class="markdownTableBodyNone">High-Level Data Link Control  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SDLC </td><td class="markdownTableBodyNone">Synchronous Data Link Control  </td></tr>
</table>
<h1><a class="anchor" id="sec_com_APPENDIX_D_Devices"></a>
Appendix D: Devices</h1>
<dl class="section note"><dt>Note</dt><dd>In the following diagrams the color-coded names inside the quotation marks refer to the string which must be written into the connection/network profiles in order to address the proper interfaces.</dd></dl>
<hr  />
<dl class="section note"><dt>Note</dt><dd>Please check the feature flags to determine which devices support which interface. Not all devices support all interfaces. Due to the amount of different combinations we advise implementing a dynamic discovery and configuration via the ADKCOM FEATURE flags. If a specific unit-type is used exclusively, it may be prudent to simplify and remove unsupported interfaces from the application.</dd></dl>
<hr  />
<dl class="section note"><dt>Note</dt><dd>Some interfaces on V240m and V400m are only available when docked or the device is connected via Bluetooth to a V400m/V240m base.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_V400m_Modem_Ethernet.svg" style="pointer-events: none;"></object>
<div class="caption">
V400m Network-Interface diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_V400m_Serial.svg" style="pointer-events: none;"></object>
<div class="caption">
V400m Serial-Interface diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_cm8_network.svg" style="pointer-events: none;"></object>
<div class="caption">
Carbon8/Carbon10 USB-Port diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_e285_network.svg" style="pointer-events: none;"></object>
<div class="caption">
e285/280 Network diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_any_network.svg" style="pointer-events: none;"></object>
<div class="caption">
Generic Verifone Device</div></div>
<dl class="section note"><dt>Note</dt><dd>The P400 USB-Port roles are fixed and cannot be changed.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_m440_network.svg" style="pointer-events: none;"></object>
<div class="caption">
m440 Network diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_m440_serial.svg" style="pointer-events: none;"></object>
<div class="caption">
m440 Serial diagram</div></div>
<dl class="section note"><dt>Note</dt><dd>There is no way to get a USB Host port on an m440 Raptor without a special debug board. As this board will never appear in production its interfaces are not listed here.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_m425_network_debug.svg" style="pointer-events: none;"></object>
<div class="caption">
m425 Network diagram P/N MSC445-010-00-A R.A05</div></div>
<div class="image">
<object type="image/svg+xml" data="com_m425_serial_debug.svg" style="pointer-events: none;"></object>
<div class="caption">
m425 Serial diagram P/N MSC445-010-00-A R.A05</div></div>
<div class="image">
<object type="image/svg+xml" data="com_m425_network_customer.svg" style="pointer-events: none;"></object>
<div class="caption">
m425 Network diagram P/N MSC445-012-01-A</div></div>
<div class="image">
<object type="image/svg+xml" data="com_m425_serial_customer.svg" style="pointer-events: none;"></object>
<div class="caption">
m425 Serial diagram P/N MSC445-012-01-A</div></div>
<dl class="section note"><dt>Note</dt><dd>For all the M425 examples with interface dongles (ICECubes) given above, the external USB interface needs to be configured to Host mode. Using a straight USB device cable (e.g. CBL445-003-01-A to connect to an ECR with powered USB port), the USB interface needs to be configured to Device mode and the usual USB device gadget ports (USBD for serial, USB0 for Ethernet) can be used.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_m425_device.svg" style="pointer-events: none;"></object>
<div class="caption">
m425 Network / Serial diagram P/N CBL445-003-01-A</div></div>
<hr  />
<dl class="section note"><dt>Note</dt><dd>The same configuration examples as shown above for the M425 are holding true for the other VOS3 based mulitlane devices M450 and UX700ML.</dd></dl>
<hr  />
<div class="image">
<object type="image/svg+xml" data="com_ux700_AIO_network.svg" style="pointer-events: none;"></object>
<div class="caption">
UX700 AIO Network diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_ux700_AIO_serial.svg" style="pointer-events: none;"></object>
<div class="caption">
UX700 AIO Serial diagram</div></div>
<hr  />
<dl class="section note"><dt>Note</dt><dd>There are many different cables available for the P400. Depicting all cable-variants would exceed the scope of this document. Therefore we depict two sorts of common cables here for reference: one USB-cable which plugs directly into the PC/v200c/v400c (USB-Device only), (CBL282-038-03-A, CABLE, VX820 USB A M 1.8M) and one USB-Ethernet-cable on which end there is a "fully-featured"-dongle (CBL435-044-01-A, CABLE, P400/P200 USB/ETH/RS232, DONGLE 1.0M) Even though the first cable is labeled VX820, this cable is still compatible with P200/P400. For more information on cables please refer to the following document: <a href="https://confluence.verifone.com/pages/viewpage.action?pageId=143692310&amp;preview=%2F143692310%2F143703753%2FEngage+Cable+Drawings+10-27-16.pdf">Engage P200/400 cable documentation</a></dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_P400_network.svg" style="pointer-events: none;"></object>
<div class="caption">
P200/P400 Network diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_P400_network_full.svg" style="pointer-events: none;"></object>
<div class="caption">
P200/P400 Network diagram full</div></div>
<hr  />
<dl class="section note"><dt>Note</dt><dd>As with the P400, the P630 has many different cable variants. In general these are compatible with the P400.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="com_P630_network_full.svg" style="pointer-events: none;"></object>
<div class="caption">
P630 Network diagram full</div></div>
<div class="image">
<object type="image/svg+xml" data="com_P630_serial_full.svg" style="pointer-events: none;"></object>
<div class="caption">
P630 Serial diagram full</div></div>
<dl class="section warning"><dt>Warning</dt><dd>Unlike on the P400, where device and host ports could be used at the same time, on the P630 they can only be used in the following way:</dd></dl>
<p>When the USB Mode is set to Host, then the host port will work as expected. You can add mass-storage or an ethernet dongle to it. The mini-usb port will, in this mode, now be a serial to USB converter. This means you can use this mini-usb port to create an serial connection to an ECR. In this mode the ethernet port will work as expected.</p>
<dl class="section note"><dt>Note</dt><dd>For P630 the additional ethernet interface added by a dongle attached to the host-port will only be available after rebooting the terminal. This restriction will be removed in one of the next releases.</dd></dl>
<p>When the USB Mode is set to Device, then the Mini-USB port will work as expected and you can do USB-Gadget over this port. The USB-A port will be disabled.</p>
<p>The table below summarizes the above:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">USB-Mode </th><th class="markdownTableHeadNone">Ethernet Port </th><th class="markdownTableHeadNone">Mini-USB </th><th class="markdownTableHeadNone">USB-A  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DEVICE </td><td class="markdownTableBodyNone">NO </td><td class="markdownTableBodyNone">USB-Gadget </td><td class="markdownTableBodyNone">NO  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HOST </td><td class="markdownTableBodyNone">Ethernet </td><td class="markdownTableBodyNone">USB-Serial-Converter </td><td class="markdownTableBodyNone">Standard USB-Host  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>When you have switched the terminal to device mode the ethernet port, as depicted above will no longer work. USBD above refers to the Gadget Serial line (ACM), on which, to enable network operations, PPP will be run.</dd></dl>
<h2><a class="anchor" id="sec_com_Devices_USB"></a>
USB Port configuration</h2>
<div class="image">
<object type="image/svg+xml" data="com_V200c_USB.svg" style="pointer-events: none;"></object>
<div class="caption">
V200c USB-Port diagram</div></div>
<div class="image">
<object type="image/svg+xml" data="com_V400m_USB.svg" style="pointer-events: none;"></object>
<div class="caption">
V400m/V240m/Carbon8/Carbon10/e280/e285 USB-Port diagram</div></div>
<h2><a class="anchor" id="sec_com_OrangeDongles"></a>
Orange Dongle configuration</h2>
<p>Following pictures show the ADK-COM specific usage of Oange Dongles and their port naming scheme used by ADK-COM. Note that the connected terminal may differ depending on the used Orange Cable! Note that the connection ports depict below are generic accross all Orange Dongle supporting Terminal types. </p><div class="image">
<object type="image/svg+xml" data="com_orange_d0.svg" style="pointer-events: none;"></object>
<div class="caption">
Orange Dongle D0</div></div>
 <div class="image">
<object type="image/svg+xml" data="com_orange_d1.svg" style="pointer-events: none;"></object>
<div class="caption">
Orange Dongle D1</div></div>
 <div class="image">
<object type="image/svg+xml" data="com_orange_d2.svg" style="pointer-events: none;"></object>
<div class="caption">
Orange Dongle D2</div></div>
 <div class="image">
<object type="image/svg+xml" data="com_orange_d3.svg" style="pointer-events: none;"></object>
<div class="caption">
Orange Dongle D3</div></div>
<h1><a class="anchor" id="sec_com_APPENDIX_E_Modem_profiles"></a>
Appendix E: Modem country profiles</h1>
<p>The PSTN modem inside Verifone payment terminals can operate in different countries. For many countries a special modem firmware setting must be applied in order to fulfill regional telephony network regulations. There are two ways to set the desired modem country code: one is through the sysmode using below country codes and two is through a special download file provided by the platform OS group.</p>
<dl class="section note"><dt>Note</dt><dd>The modem country code has nothing to do with the country code for the dial number.</dd></dl>
<p>This code is a T.35 code which is used to specify special modem specifics per country changeable either within the modem firmware or to instruct the OS to load a country specific firmware (patch) into the modem.</p>
<p>You can use following table to identify the country code:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">T.35 code </th><th class="markdownTableHeadNone">Country  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0 </td><td class="markdownTableBodyNone">Japan  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">Argentina  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">Australia  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0A </td><td class="markdownTableBodyNone">Austria  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0F </td><td class="markdownTableBodyNone">Belgium  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">16 </td><td class="markdownTableBodyNone">Brazil  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1B </td><td class="markdownTableBodyNone">Bulgaria  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">20 </td><td class="markdownTableBodyNone">Canada  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">25 </td><td class="markdownTableBodyNone">Chile  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">26 </td><td class="markdownTableBodyNone">China  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">27 </td><td class="markdownTableBodyNone">Columbia  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2D </td><td class="markdownTableBodyNone">Cyprus  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2E </td><td class="markdownTableBodyNone">Czech Republic  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">31 </td><td class="markdownTableBodyNone">Denmark  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">36 </td><td class="markdownTableBodyNone">Egypt  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3C </td><td class="markdownTableBodyNone">Finland  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3D </td><td class="markdownTableBodyNone">France  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">42 </td><td class="markdownTableBodyNone">Germany  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">46 </td><td class="markdownTableBodyNone">Greece  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">50 </td><td class="markdownTableBodyNone">Hong Kong  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">51 </td><td class="markdownTableBodyNone">Hungary  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">52 </td><td class="markdownTableBodyNone">Iceland  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">53 </td><td class="markdownTableBodyNone">India  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">54 </td><td class="markdownTableBodyNone">Indonesia  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">57 </td><td class="markdownTableBodyNone">Ireland  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">58 </td><td class="markdownTableBodyNone">Israel  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">59 </td><td class="markdownTableBodyNone">Italy  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">61 </td><td class="markdownTableBodyNone">Korea (Republic of)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">62 </td><td class="markdownTableBodyNone">Kuwait  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">64 </td><td class="markdownTableBodyNone">Lebanon  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">69 </td><td class="markdownTableBodyNone">Luxembourg  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6C </td><td class="markdownTableBodyNone">Malaysia  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">73 </td><td class="markdownTableBodyNone">Mexico  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">77 </td><td class="markdownTableBodyNone">Morocco  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7B </td><td class="markdownTableBodyNone">Netherlands  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">7E </td><td class="markdownTableBodyNone">New Zealand  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">82 </td><td class="markdownTableBodyNone">Norway  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">84 </td><td class="markdownTableBodyNone">Pakistan  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">89 </td><td class="markdownTableBodyNone">Philippines  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8A </td><td class="markdownTableBodyNone">Poland  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">8B </td><td class="markdownTableBodyNone">Portugal  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8E </td><td class="markdownTableBodyNone">Romania  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">98 </td><td class="markdownTableBodyNone">Saudi Arabia  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">99 </td><td class="markdownTableBodyNone">Senegal  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9C </td><td class="markdownTableBodyNone">Singapore  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">9F </td><td class="markdownTableBodyNone">South Africa  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A0 </td><td class="markdownTableBodyNone">Spain  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A1 </td><td class="markdownTableBodyNone">Sri Lanka  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A5 </td><td class="markdownTableBodyNone">Sweden  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A6 </td><td class="markdownTableBodyNone">Switzerland  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A9 </td><td class="markdownTableBodyNone">Thailand  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AD </td><td class="markdownTableBodyNone">Tunisia  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AE </td><td class="markdownTableBodyNone">Turkey  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">B3 </td><td class="markdownTableBodyNone">United Arab Emirates  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">B4 </td><td class="markdownTableBodyNone">United Kingdom  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">B5 </td><td class="markdownTableBodyNone">Unites States  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">B7 </td><td class="markdownTableBodyNone">Uruguay  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">B8 </td><td class="markdownTableBodyNone">Russia  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">F9 </td><td class="markdownTableBodyNone">Estonia  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FA </td><td class="markdownTableBodyNone">US Virgin Islands  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FB </td><td class="markdownTableBodyNone">Slovakia  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FC </td><td class="markdownTableBodyNone">Slovenia  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FD </td><td class="markdownTableBodyNone">(Universal)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FE </td><td class="markdownTableBodyNone">Taiwan  </td></tr>
</table>
<p>It was agreed with OS group that the modem configuration is not part of ADK.</p>
<p><b>What ADK does:</b></p>
<p>ADKCOM only does some sanity checks to provide at least some diagnostics capabilities in that case: if the modem conf file is not existing in the system (means was never loaded or set through sysmode) we</p><ol type="1">
<li>Print a human readable error message to the system logs</li>
<li>On ADKCOM 2.9.2 and up we return a special error code: COM_ERR_DEV_NO_MODEM_PROFILE</li>
</ol>
<h1><a class="anchor" id="sec_com_APPENDIX_F_Sysmode"></a>
Appendix F: Sysmode</h1>
<p>When a user triggers the sysmode to start after the application is already running, this will cause the application to stop. The comdaemon will not stop, as it is a system application running in the background. The comdaemon will realize that the clients (applications which have shut down due to the sysmode coming up) have disconnected. This may trigger the comdameon to shut down any network depending on the network state known to the comdaemon. As mentioned in this documentation this state is comprised of:</p><ul>
<li>Connection Counter</li>
<li>Attach Counter (This refers to the ADKCOM concept of attaching, not to the concept in radio networks)</li>
<li>Autostart mode</li>
</ul>
<p>If a network has been brought up by ADKCOM which has the autostart mode “On-Demand”, and if through the switching to sysmode the comdaemon realizes that <em>all</em> the ADKCOM clients have disconnected and if the attach counter is 0, then the network will be brought down. please note that the following just applies to connections/networks which have actually been set up by ADKCOM. If there are some strange hybrid approaches (Such as setting up the network via ADKCOM and creating private socket connections) then the behavior may be different than described here.</p>
<p>In addition any entries to the routing table, which are added when a profile is used with the “bind” option set, will be removed as well.</p>
<p>In addition if a “raw” connection (such as a modem-dial / CSD-dial / DUN connection) is established, then this will also be disconnected.</p>
<p>What will not be reverted are settings such as the following:</p><ul>
<li>Attach counters</li>
<li>Settings to the hardware</li>
<li>RAT settings in the radio module</li>
<li>MTU settings</li>
<li>gadget mode settings etc.</li>
<li>bridging configuration</li>
<li>BT pairing information</li>
<li>Beacons (Ibeacons/ Eddystone beacons)</li>
<li>Additional settings in the flash such as stunnel configuration</li>
</ul>
<h1><a class="anchor" id="sec_com_APPENDIX_G_Bluetooth_GATT"></a>
Appendix G: GATT Server functionality</h1>
<p>Using the com_BTGATT* functions you may enable a GATT server on the device and write and read properties.</p>
<p>First use <code>com_BTGATTStart</code> to enable the GATT server using a XML configuration file. Example:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;BLE&gt;</div>
<div class="line">   &lt;CONF&gt;</div>
<div class="line">      &lt;CONF_GENERIC auto_connection=<span class="stringliteral">&quot;false&quot;</span> multi_client = <span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">      &lt;CONF_SCAN ble_scan_interval=<span class="stringliteral">&quot;0bb8&quot;</span> ble_scan_window=<span class="stringliteral">&quot;03e8&quot;</span> /&gt;</div>
<div class="line">      &lt;CONF_CONN min_conn_int=<span class="stringliteral">&quot;1388&quot;</span> max_conn_int=<span class="stringliteral">&quot;1388&quot;</span> slave_latency=<span class="stringliteral">&quot;32&quot;</span> supervision_tout=<span class="stringliteral">&quot;03e8&quot;</span> /&gt;</div>
<div class="line">      &lt;CONF_ADV adv_int_min=<span class="stringliteral">&quot;03e8&quot;</span> adv_int_max=<span class="stringliteral">&quot;1388&quot;</span> tx_power=<span class="stringliteral">&quot;high&quot;</span> manufacturer_data=<span class="stringliteral">&quot;010203&quot;</span> /&gt;</div>
<div class="line">   &lt;/CONF&gt;</div>
<div class="line">   &lt;GATT_SERVER handle=<span class="stringliteral">&quot;0000&quot;</span> uuid=<span class="stringliteral">&quot;579cabf3-bfe1-4c27-84c1-4955b6d5a102&quot;</span>&gt;</div>
<div class="line">      &lt;SERVICE handle=<span class="stringliteral">&quot;0001&quot;</span> uuid=<span class="stringliteral">&quot;180F&quot;</span> primary=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0011&quot;</span> uuid=<span class="stringliteral">&quot;2901&quot;</span> is_descriptor=<span class="stringliteral">&quot;true&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;76657269666F6E652062617474657279206C6576656C&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0012&quot;</span> uuid=<span class="stringliteral">&quot;2A19&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;20&quot;</span> read=<span class="stringliteral">&quot;true&quot;</span> notify=<span class="stringliteral">&quot;true&quot;</span> authentication_signed_writes=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0013&quot;</span> uuid=<span class="stringliteral">&quot;2901&quot;</span> is_descriptor=<span class="stringliteral">&quot;true&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;76657269666F6E65206261747465727920737461747573&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0014&quot;</span> uuid=<span class="stringliteral">&quot;2A1A&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;64&quot;</span> broadcast=<span class="stringliteral">&quot;true&quot;</span> read=<span class="stringliteral">&quot;true&quot;</span> authentication_signed_writes=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">      &lt;/SERVICE&gt;</div>
<div class="line">      &lt;SERVICE handle=<span class="stringliteral">&quot;0002&quot;</span> uuid=<span class="stringliteral">&quot;579cabf4-bfe1-4c27-84c1-4955b6d5a102&quot;</span> primary=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span>&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0021&quot;</span> uuid=<span class="stringliteral">&quot;2901&quot;</span> is_descriptor=<span class="stringliteral">&quot;true&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;707269766174655F64617461&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0022&quot;</span> uuid=<span class="stringliteral">&quot;579cabf5-bfe1-4c27-84c1-4955b6d5a102&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;7465737420737472696E67&quot;</span> authentication_signed_reads=<span class="stringliteral">&quot;true&quot;</span> authentication_signed_writes=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0023&quot;</span> uuid=<span class="stringliteral">&quot;2901&quot;</span> is_descriptor=<span class="stringliteral">&quot;true&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;7075626C69635F646174615F6E6F74696679&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0024&quot;</span> uuid=<span class="stringliteral">&quot;579cabf7-bfe1-4c27-84c1-4955b6d5a102&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;20&quot;</span> read=<span class="stringliteral">&quot;true&quot;</span> notify=<span class="stringliteral">&quot;true&quot;</span> write=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0025&quot;</span> uuid=<span class="stringliteral">&quot;2901&quot;</span> is_descriptor=<span class="stringliteral">&quot;true&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;7075626C69635F646174615F696E646963617465&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">         &lt;CHARACTERISTIC handle=<span class="stringliteral">&quot;0026&quot;</span> uuid=<span class="stringliteral">&quot;579cabf8-bfe1-4c27-84c1-4955b6d5a102&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;02&quot;</span> read=<span class="stringliteral">&quot;true&quot;</span> indicate=<span class="stringliteral">&quot;true&quot;</span> write=<span class="stringliteral">&quot;true&quot;</span> enable=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">      &lt;/SERVICE&gt;</div>
<div class="line">   &lt;/GATT_SERVER&gt;</div>
<div class="line">   &lt;GAP handle=<span class="stringliteral">&quot;0003&quot;</span> instance=<span class="stringliteral">&quot;0001&quot;</span> handle_gatt=<span class="stringliteral">&quot;0000&quot;</span> adv_int_min=<span class="stringliteral">&quot;03e8&quot;</span> adv_int_max=<span class="stringliteral">&quot;1388&quot;</span> tx_power=<span class="stringliteral">&quot;high&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;76657269666F6E652062617474657279206C6576656C&quot;</span> /&gt;</div>
<div class="line">   &lt;GAP handle=<span class="stringliteral">&quot;0004&quot;</span> instance=<span class="stringliteral">&quot;0002&quot;</span> handle_gatt=<span class="stringliteral">&quot;0000&quot;</span> adv_int_min=<span class="stringliteral">&quot;03e8&quot;</span> adv_int_max=<span class="stringliteral">&quot;1388&quot;</span> tx_power=<span class="stringliteral">&quot;high&quot;</span> uuid=<span class="stringliteral">&quot;FEAA&quot;</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>=<span class="stringliteral">&quot;76657269666F6E652062617474657279206C6576656C&quot;</span> /&gt;</div>
<div class="line">&lt;/BLE&gt;</div>
</div><!-- fragment --><p>Please see the subsection XML configuration below for further info</p>
<p>You can then read and write GATT data using <code>com_BTGATTReadCharacteristic</code> and <code>com_BTGATTWriteCharacteristic</code>. "handle" in the read/write functions refers to the "handle" in the XML file.</p>
<p>A small example of reading and incrementing the handle 0x12 in the XML above is below: </p><div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#structcom___b_l_e_attribute">com_BLEAttribute</a> attribute;</div>
<div class="line">memset(&amp;attribute, 0, <span class="keyword">sizeof</span>(attribute));</div>
<div class="line">attribute.<a class="code" href="libcom_8h.html#afc3e389b26a8fb3c1e864175ddd630fd">id</a> = 0x12;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a5c35ed9103da7b49c849ee11097029b7">com_BTGATTReadCharacteristic</a>(&amp;attribute, 0);</div>
<div class="line"> </div>
<div class="line">printf(<span class="stringliteral">&quot;Attr size %zu\n&quot;</span>, attribute.<a class="code" href="libcom_8h.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(attribute.<a class="code" href="libcom_8h.html#a854352f53b148adc24983a58a1866d66">size</a> != 1){</div>
<div class="line">    printf(RED <span class="stringliteral">&quot;Size of battery attribute should be 1 -- leaving test&quot;</span> RESETNL);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">hexdump(attribute.<a class="code" href="libcom_8h.html#a8af493d8b6292c948138db4e4e4af299">data</a>, attribute.<a class="code" href="libcom_8h.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"> </div>
<div class="line">attribute.<a class="code" href="libcom_8h.html#a8af493d8b6292c948138db4e4e4af299">data</a>[0] += 1;</div>
<div class="line">attribute.<a class="code" href="libcom_8h.html#a8af493d8b6292c948138db4e4e4af299">data</a>[0] %= 65;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a186a5526e06d21127878661465ff14eb">com_BTGATTWriteCharacteristic</a>(&amp;attribute, 0);</div>
<div class="line"> </div>
<div class="line">printf(<span class="stringliteral">&quot;GATT modified\n&quot;</span>);</div>
</div><!-- fragment --><p>The code reads handle 0x12, increments the value modulo 65, and writes it back to server. You should be able to see this on a BLE scanning app on your smartphone which observes the values. You need at least a phone with BLE and software support for peripheral BT devices. For Apple devices this is iPhone5, iPod Touch (5th generation), iPod Nano (7th generation), iPad (4th generation), iPad Mini (1st generation). Use the "LightBlue" application from the app-store. For Android it depends on your manufacturer and your software-stack.</p>
<p>After your are done with all GATT functionality use <code>com_BTGATTStop</code> to stop the GATT server.</p>
<p>The previous GATT configuration example presents the section <code>&lt;CONF&gt;</code> and that <code>&lt;GATT SERVER&gt;</code>; the first allows the configuration of the generic BLE Server parameters, the second instead allows the creation of the GATT profile.</p>
<p>In the previous XML example, there are 2 services; the first service has 3 characteristics and into the second one there are instead 2 characteristics with 2 descriptions.</p>
<p>Each entry in the XML buffer is identified by a unique identifier "handle" that must be not represented into the buffer and each value is expressed in hex format except for the parameters that want fixed string values.</p>
<p>The list of the TAGS and if the ATTRIBUTES of this XML buffer is reported in the following:</p>
<div class="fragment"><div class="line">&lt;CONF_GENERIC&gt;</div>
<div class="line">auto_connection = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">multi_client = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keywordflow">default</span> <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a> is <span class="keyword">true</span>); it blocks the multi-client GATT connections.</div>
<div class="line"> </div>
<div class="line">&lt;CONF_SCAN&gt;</div>
<div class="line">ble_scan_interval = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">ble_scan_window = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    </div>
<div class="line">&lt;CONF_CONN&gt;</div>
<div class="line">min_conn_int = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">max_conn_int = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">slave_latency = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">supervision_tout = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">    </div>
<div class="line">&lt;CONF_ADV&gt;</div>
<div class="line">adv_int_min = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">adv_int_max = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a>)</div>
<div class="line">tx_power = high (-16dB) / medium (-26dB) / low (-35dB) / ultralow (-59dB)</div>
<div class="line">manufacturer_data = (hex buffer)</div>
<div class="line">dev_name_in_adv_data_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">false</span> by <span class="keywordflow">default</span>)</div>
<div class="line">dev_name_in_scan_rsp_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">true</span> by <span class="keywordflow">default</span>)</div>
<div class="line">manu_in_adv_data_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">false</span> by <span class="keywordflow">default</span>)</div>
<div class="line">manu_in_scan_rsp_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">true</span> by <span class="keywordflow">default</span>)</div>
<div class="line">appearance_in_adv_data_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">true</span> by <span class="keywordflow">default</span>)</div>
<div class="line">appearance_in_scan_rsp_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">false</span> by <span class="keywordflow">default</span>)</div>
<div class="line">tx_pwr_in_adv_data_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">true</span> by <span class="keywordflow">default</span>)</div>
<div class="line">tx_pwr_in_scan_rsp_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">false</span> by <span class="keywordflow">default</span>)</div>
<div class="line">service_128_in_adv_data_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">true</span> by <span class="keywordflow">default</span>)</div>
<div class="line">service_128_in_scan_rsp_pkt = <span class="keyword">true</span>/<span class="keyword">false</span> (<span class="keyword">false</span> by <span class="keywordflow">default</span>)</div>
<div class="line">channel_map = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a> from 1 to 7). </div>
<div class="line">                Channel 37 = 1, </div>
<div class="line">                Channel 38 = 2, </div>
<div class="line">                Channel 39 = 4. </div>
<div class="line">                All 3 can be combined by OR resulting to 7. 0x07 is set by <span class="keywordflow">default</span>.</div>
<div class="line">adv_type = (hex <a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a> from 0 to 4). </div>
<div class="line">                0x00 - Connectable undirected advertising. </div>
<div class="line">                0x01 - Connectable directed advertising. </div>
<div class="line">                0x02 - Scannable undirected advertising</div>
<div class="line">                0x03 - Non connectable undirected advertising</div>
<div class="line">                0x04 - Connectable low duty cycle directed advertising</div>
<div class="line">                0x02 is set by <span class="keywordflow">default</span>.</div>
<div class="line"> </div>
<div class="line">&lt;GATT_SERVER&gt;</div>
<div class="line">handle = unique 16bits ID (hex format)</div>
<div class="line">uuid = (hex buffer of 16/32/128 bits) the format like 579cabf3-bfe1-4c27-84c1-4955b6d5a102 is <a class="code" href="libcom_8h.html#a9a4ed540299159ffaa884ea4df897c2b">supported</a> too.</div>
<div class="line">    </div>
<div class="line">&lt;SERVICE&gt;</div>
<div class="line">handle = unique 16bits ID (hex format)</div>
<div class="line">uuid = (hex buffer of 16/32/128 bits) the format like 579cabf3-bfe1-4c27-84c1-4955b6d5a102 is <a class="code" href="libcom_8h.html#a9a4ed540299159ffaa884ea4df897c2b">supported</a> too.</div>
<div class="line">primary = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">enable = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line"> </div>
<div class="line">&lt;CHARACTERISTIC&gt;</div>
<div class="line">handle = unique 16bits ID (hex format)</div>
<div class="line">uuid = (hex buffer of 16/32/128 bits) the format like 579cabf3-bfe1-4c27-84c1-4955b6d5a102 is <a class="code" href="libcom_8h.html#a9a4ed540299159ffaa884ea4df897c2b">supported</a> too.</div>
<div class="line">is_descriptor = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">broadcast = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">read = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">write_without_responce = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">write = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">notify = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">indicate = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">authentication_signed_reads = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">authentication_signed_writes = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line">extended_properties = <span class="keyword">true</span>/<span class="keyword">false</span></div>
<div class="line"><a class="code" href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a> = (hex buffer)</div>
<div class="line">enable = <span class="keyword">true</span>/<span class="keyword">false</span></div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_H_Bluetooth_Extended"></a>
Appendix H: Extended Bluetooth pairing</h1>
<h2><a class="anchor" id="sec_com_extended_bt_pairing"></a>
Extended Bluetooth-pairing</h2>
<p>Using this method the pairing type is determined by the capabilities of the two devices which are currently pairing, meaning the application has to react to the different pairing modes, which may be selected by the two pairing devices. To indicate which modes are selected the application should register for the following events:</p>
<div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67">com_NetworkEvent</a> events[] ={<a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a9f1d25590dfdff3e02aabbdc2deed381">COM_EVENT_BT_EXT_CONFIRM</a>, <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a320046ae08e5dfb46679e8872556c35e">COM_EVENT_BT_EXT_VISUALIZE</a>, <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a025a82a94ac67872d1cdbbcfe3d1041b">COM_EVENT_BT_EXT_PIN</a>, <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a677d21d138df96ee31a74379d6cd56da">COM_EVENT_BT_EXT_TIMEOUT</a>, <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a6c74364b3344ca1f0bda4b87712712e9">COM_EVENT_BT_EXT_FAILED</a>, <a class="code" href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a136879a0c45bd4836dbb2f00a43160e3">COM_EVENT_BT_EXT_SUCCESS</a>};</div>
</div><!-- fragment --><p>Use the com_NetworkAddCallback function to register a callback for these events. You can do this as follows:</p>
<div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a4eb5e5841f8bed136745567b470ac75c">com_NetworkAddCallback</a>(network_bt_ext_cb, events, <span class="keyword">sizeof</span>(events) / <span class="keyword">sizeof</span>(events[0]), 0, 0);</div>
</div><!-- fragment --><p>The events and the necessary actions to be taken by the application is described in the diagram below:</p>
<div class="image">
<object type="image/svg+xml" data="com_bt_ext_pairing.svg" style="pointer-events: none;"></object>
<div class="caption">
Bluetooth extended pairing diagram</div></div>
<dl class="section note"><dt>Note</dt><dd>When using the com_BTExtStartDiscovery function there is no guarantee that any event will follow, as there is no guarantee that a remote device will try to pair. In this case there will no timeout event or discovery-elapsed event. Please also note that using com_BTExtpair while a discovery is running is valid, however if a pairing should be successful, then the discovery will be disabled.</dd></dl>
<h2><a class="anchor" id="subsec_ble_pairing"></a>
BLE Pairing</h2>
<p>BLE pairing is available once a GATT Service is started. Pairing events may come at any time while the GATT-server is running. The flow is exactly as described with the classic pairing above, however the thrown events will be BLE_ instead of BT_ (COM_EVENT_BLE_EXT_PIN instead of COM_EVENT_BT_EXT_PIN).</p>
<h1><a class="anchor" id="sec_com_APPENDIX_I_Beacons"></a>
Appendix I: Beacons: Information about iBeacons/Eddystone beacons</h1>
<p>You can check BLE functionality by requesting the integer property COM_PROP_SUPPORTED_FEATURES_2. If the COM_FEATURE2_IBEACON bit is set iBeacons are supported. If the COM_FEATURE2_EDDYSTONE bit is set eddystone beacons are supported.</p>
<dl class="section note"><dt>Note</dt><dd>For Eddystone we support UID and URL beacons. Other Eddystone beacon types are not supported.</dd></dl>
<p>To use IBeacon functionality you may use the following properties. </p><div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfadb2a3b19d3a46d0556ff4b4c2e0fdb7b">COM_PROP_BT_IBEACON_STATUS</a>               = 25, </div>
<div class="line"><a class="code" href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa744078eb681134a75122a764922e6f7f">COM_PROP_BT_IBEACON_OFF</a>                  = 26, </div>
</div><!-- fragment --><p>To set the iBeacon use the following string-property: </p><div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52aafe34f7d2f46f5a04603acb29509014c">COM_PROP_BT_IBEACON_ON</a>        = 120, </div>
</div><!-- fragment --><p>For Eddystone beacons there are separate functions you may use for each type: </p><div class="fragment"><div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a65333b921ee49dca15e33b9155087ba6">com_EddystoneUIDSetAdvertisement</a>(<span class="keyword">struct</span> <a class="code" href="libcom_8h.html#structcom___eddystone_u_i_d">com_EddystoneUID</a> eddystoneUID, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a04d16ad0cb213bed97df0c2ef0fb6f4e">com_StartupMode</a> startupMode, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a2dd60d34cc1ed4cc66a07ec151f23a6d">com_EddystoneURLSetAdvertisement</a>(<span class="keyword">struct</span> <a class="code" href="libcom_8h.html#structcom___eddystone_u_r_l">com_EddystoneURL</a> eddystoneURL, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a04d16ad0cb213bed97df0c2ef0fb6f4e">com_StartupMode</a> startupMode, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#ab7d6229fc4c241f5fd9ac94ec4c3be12">com_EddystoneUIDStartAdvertisement</a>(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a6c2d3c2686096cfbaf89bd266109fa3e">com_EddystoneURLStartAdvertisement</a>(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a1c2230843310aeb56eccf564c1646967">com_EddystoneUIDGetAdvertisement</a>(<span class="keyword">struct</span> <a class="code" href="libcom_8h.html#structcom___eddystone_u_i_d">com_EddystoneUID</a> *eddystoneUID, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a04d16ad0cb213bed97df0c2ef0fb6f4e">com_StartupMode</a> *startupMode, <span class="keywordtype">int</span> *isRunning, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a6bf1ed3560b6340028f2c9f29895794a">com_EddystoneURLGetAdvertisement</a>(<span class="keyword">struct</span> <a class="code" href="libcom_8h.html#structcom___eddystone_u_r_l">com_EddystoneURL</a> *eddystoneURL, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a04d16ad0cb213bed97df0c2ef0fb6f4e">com_StartupMode</a> *startupMode, <span class="keywordtype">int</span> *isRunning, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a7864b2fce473630093486b95bbd42d8e">com_EddystoneUIDStopAdvertisement</a>(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#a0c7972227577e361b158a6cc7e95be17">com_EddystoneURLStopAdvertisement</a>(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
</div><!-- fragment --><p>For each Eddystone-type there is one set/start/status and stop function which can be used to manipulate the current beacons. Please see the <code><a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a></code> header for more information.</p>
<dl class="section note"><dt>Note</dt><dd>You may currently only use one Beacon-type (iBeacon/Eddystone-UID/Eddytone-URL) at one time. Failure to stop a previously running beacon before starting a new beacon type <em>may</em> result in an error.</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_J_Virtual_Channels"></a>
Appendix J: BT Virtual channels</h1>
<p>The term "Virtual Channels" refers to virtual communication channels that are provided on Verifone POS devices such as e285, and which allow applications on those POS devices to communicate with applications running on Android or iOS mobile devices (which use the Verifone mSDK).</p>
<p>On devices on which the FEATURE2_BT_VIRTUAL_CHANNELS bit is set in the feature2 property, you may use virtual channels via Bluetooth. To do this first pair with the remote device, then call com_BTEnableVirtualChannels with the address of the paired device. Devices-types are automatically detected. Please note for iAP2 your terminal-device must be in USB-OTG must be configure on host-mode (including when doing Bluetooth). For Android and Windows the OTG must be confgigured to device-mode. You may configure the OTG mode via sysmode.</p>
<dl class="section note"><dt>Note</dt><dd>You must reenable the Bluetooth channels after every boot via com_BTEnableVirtualChannels. </dd>
<dd>
USB connections takes precedence, meaning that if you plug in the unit via USB to an iAP2/PMRMUX enabled device, the virtual channels will be reestablished automatically with the new device via USB, if you were previously connected via Bluetooth.</dd></dl>
<h2><a class="anchor" id="sec_vchannel_default"></a>
Default Virtual Channels</h2>
<p>The following are the default channels created on V/OS (for backward compatibility with Verix systems). It specifies the mapping of the iAP2 channel definitions (used on iOS) with the PMR-MUX protocol (used for Android). </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name </th><th class="markdownTableHeadNone">iAP2 Protocol ID </th><th class="markdownTableHeadNone">iAP2 Protocol String </th><th class="markdownTableHeadNone">Equivalent PMR-MUX2 Channel Number </th><th class="markdownTableHeadNone">Usage </th><th class="markdownTableHeadNone">ADK-COM Device Port  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">XPI </td><td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">com.verifone.pmr.xpi </td><td class="markdownTableBodyNone">'2' </td><td class="markdownTableBodyNone">XPI (used for SDI, XPI, or any other app) </td><td class="markdownTableBodyNone"><b>COM1A</b>   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Barcode </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">com.verifone.pmr.barcode </td><td class="markdownTableBodyNone">'3' </td><td class="markdownTableBodyNone">Barcode reader. Currently not used on V/OS </td><td class="markdownTableBodyNone">COM1B  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Zontalk </td><td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">com.verifone.pmr.zontalk </td><td class="markdownTableBodyNone">'4' </td><td class="markdownTableBodyNone">Zontalk communications. </td><td class="markdownTableBodyNone">COM1C  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Control </td><td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">com.verifone.pmr.control </td><td class="markdownTableBodyNone">'5' </td><td class="markdownTableBodyNone">Control application </td><td class="markdownTableBodyNone">COM1D  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Debug </td><td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">com.verifone.pmr.debug </td><td class="markdownTableBodyNone">'6' </td><td class="markdownTableBodyNone">Debug </td><td class="markdownTableBodyNone">COM1E  </td></tr>
</table>
<h1><a class="anchor" id="sec_com_APPENDIX_K_FF_Base_Configuration"></a>
Appendix K: BT FF Base Configuration</h1>
<p>The FF base can be configured to use routing mode or bridging mode for BT handsets. Bridging mode means that the BT handset will try to get an IP address from the currently attached network. Routing mode means that the FF base will provide a 192.168.x.y address to the handset.<br  />
<br  />
To get/set the FF base mode the following functions are provided:</p>
<div class="fragment"><div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#aa010b0294abc2af3e3b878c4a1493ab3">com_GetBaseNetworkMode</a>(<span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad6cd965bf5bb6572c4e996201f7abcb6">com_BaseNetworkMode</a> *mode, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a> <span class="keywordtype">int</span> <a class="code" href="libcom_8h.html#aa16a425c030afc1b8f4cd83616098096">com_SetBaseNetworkMode</a>(<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#ad6cd965bf5bb6572c4e996201f7abcb6">com_BaseNetworkMode</a> mode, <span class="keyword">enum</span> <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> *com_errno);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Handset must be docked onto base while running this API.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The mode cannot be applied on-the-fly due to some OS limitations. A base reboot is required to finally apply the new settings.</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_L_CM5"></a>
Appendix L: CM5 Raptor configuration</h1>
<p>For the CM5 there is an SPI interconnect between Android and Raptor, which emulates a UART port. This UART port may be used to setup a network. The only thing that should be running on the raptor-side is the headless SDI-Server (possibly also VHQ). The following network-profile should be used:</p>
<div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;LO&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;LO&lt;/DEVICE_NAME&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>In addition you will need to set RESTRICT_LOCAL to 0 in your <em>Connection profile</em>. Example: </p><div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">  &lt;CONNECTION&gt;</div>
<div class="line">    &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">    &lt;NETWORK&gt;LOCAL_NET_LO&lt;/NETWORK&gt;</div>
<div class="line">    &lt;PORT&gt;12000&lt;/PORT&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;0&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;RESTRICT_LOCAL&gt;0&lt;/RESTRICT_LOCAL&gt;</div>
<div class="line">    &lt;SERVER&gt;1&lt;/SERVER&gt;</div>
<div class="line">  &lt;/CONNECTION&gt;</div>
<div class="line">&lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>The OS will create the PPP on COM2 automatically. As such there is no need to setup this explicitly by SDI/VHQ</p>
<h1><a class="anchor" id="sec_com_APPENDIX_M_GPRS_ALWAYS_ON"></a>
Appendix M: GPRS Always ON - Best Practices</h1>
<p>The ADK COM connection framework is designed in a way, that using any connection profile in order to setup a remote connection, the referenced network is brought up automatically if required.</p>
<p>That means an application usually does not care about the network activation, but there are good reasons to keep the network up and running even the network is currently not used. One of these reasons is to reduce the transaction time by avoiding the implicit network bring-up during the actual connection setup.</p>
<p>In Mobile Data (GPRS) networks, it's quite normal that the network connection is deactivated from the network side frequently. To let the application keep the network up by restarting it after it got deactivated, ADK COM provides a set of APIs to control the network setup. This is described in this Programmers Guide, section "Controlling Networks".</p>
<p>The application needs to:</p>
<p>Supervise the network connection by retrieving the network status</p>
<p>Depending on the application design, this needs to be done by either: Polling Network Status</p>
<p>The <a class="el" href="libcom_8h.html#af8cabb81d2ebc6a005e5b39239866870">com_GetNetworkStatus()</a> function can be used the retrieve the status of a network. Given a network profile name, this function returns either the network is started or stopped.</p>
<p>Register a Network Status Callback</p>
<p>Applications can register a callback function for network status changes using <a class="el" href="libcom_8h.html#ac86c6411e3a7f50c61d552f06fda58e9">com_NetworkSetCallback()</a> function. This callback mechanism informs the application about the changes in the network status of any of the active networks such as network up, down or any other status change together with the type of the network. The indication of a GPRS network deactivation would be the COM_EVENT_NETWORK_INTERFACE_DOWN event on COM_NETWORK_TYPE_PPP_GPRS.</p>
<p>Activating the GPRS network connection</p>
<p>The function <a class="el" href="libcom_8h.html#a10cdfc0c9edf6383c69f8ac03d84131e">com_AttachNetwork()</a>, resp. the asynchronous API <a class="el" href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync()</a> / <a class="el" href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait()</a>, allows to attach an application to a network. This will start the GPRS network if not already active. As all ADK COM APIs, the processing of this operation gets serialized by the comdaemon and the application does not need to synchronize these calls.</p>
<p>Depending on how the application is designed, the following procedures might be used to do the GPRS network re-connection:</p>
<div class="image">
<img src="com_gprs_bestpractice_1.png" alt=""/>
<div class="caption">
Application polls for network status</div></div>
<div class="image">
<img src="com_gprs_bestpractice_2.png" alt=""/>
<div class="caption">
Application receives NETWORK INTERFACE DOWN event</div></div>
<h1><a class="anchor" id="sec_com_APPENDIX_N_WLAN_Regulations"></a>
Appendix N: WLAN Regulations</h1>
<p>In order to fulfill local regulations the correct country must be set for the WLAN module of a terminal. This can be done via two different ways: first is the usage of a dedicated programming interface using the device property <b>COM_PROP_WLAN_COUNTRY_REG_DOM</b> and the according get and set functions. The second way is to load a special configuration file into the terminal. Details differ between VOS2 and VOS3 implementation.</p>
<p>For VOS2, the support team has to be contacted, as the special, sys-signed package is needed, which the user cannot generate himself.</p>
<p>In VOS3, a new method of preconfiguring the WiFi's country code has been introduced. A special file, called <b>com-reg-domain.conf</b>, must be placed in <b>/mnt/appdata/versioned/globalshare/adk-com</b> directory. This file should contain the country code (two uppercase letters). It can also contain the newline character (0x0a), but it's not needed. It, of course, has to be readable by the comdaemon.</p>
<p><b>com-reg-domain.conf</b> file, if present, is read by the comdaemon during startup and country code contained there is imported into the ADK-COM/comdaemon internal settings database. On successful import, the file is deleted from the file system. For the comdaemon process to be able to do that, the directory permissions of <b>/mnt/appdata/versioned/globalshare/adk-com</b> must be set accordingly.</p>
<p>When <b>COM_PROP_WLAN_COUNTRY_REG_DOM</b> property is read, it always returns the country code from the kernel. When this property is written to, comdaemon updates the country code in the kernel and in its internal settings database.</p>
<p>As the country code is stored persistently on the flash file system in all cases (on VOS2, on VOS3, using the property and using the special file), the procedure for setting it needs to be applied only once in a lifetime of a device.</p>
<dl class="section note"><dt>Note</dt><dd>Not all WiFi country codes are available on all devices. For example e235 is only for the US market, therefore will only accept the country code "US".</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_O_EVENTS_CHEAT_SHEET"></a>
Appendix O: Network Events cheat sheet</h1>
<p>The table below provides a summary of what ADK COM network events mean on each interface. It provides sample causes for each event per interface and recommends the action required for the application code which handles the events.</p>
<a class="anchor" id="multi_row"></a>
<table class="doxtable">
<caption>ADK-COM NETWORK EVENTS</caption>
<tr>
<th>Interface </th><th>LINK_UP </th><th>LINK_DOWN </th><th>INTERFACE_UP </th><th>INTERFACE_DOWN </th></tr>
<tr>
<td><b>GPRS</b> (Mobile data)<br  />
(see note 1 below)</td><td>Good network coverage. Data transmission is possible. <br  />
<b>Recommended action:</b> Transmit data if required. </td><td>No network coverage. Data transmission is temporary not possible. <br  />
<b>Recommended action:</b> Refrain from transmitting data. Data transmission in this state is not forbidden, but may lead to PPP disconnection (INTERFACE_DOWN). </td><td>The network interface is available (PPP connection established / PS attach). Data transmission is possible until LINK_DOWN or INTERFACE_DOWN. <br  />
<b>Recommended action:</b> Transmit data if required. </td><td>The network interface is not available (PPP connection terminated / PS detach). Data transmission is not possible at all. <br  />
<b>Recommended action:</b> Attempt to re-connect directly after receiving this event. </td></tr>
<tr>
<td><b>MODEM</b> (Dial PPP) </td><td>Dial modem connection made. <br  />
<b>Recommended action:</b> None </td><td>Dial modem connection dropped. <br  />
<b>Recommended action:</b> None </td><td>The network interface is available (PPP connection established). Data transmission is possible until INTERFACE_DOWN. <br  />
<b>Recommended action:</b> Transmit data if required. </td><td>The network interface is not available (PPP connection terminated). Data transmission is not possible at all. <br  />
<b>Recommended action:</b> App may re-attempt to connect. </td></tr>
<tr>
<td><b>WLAN</b> </td><td>Wi-Fi in terminal connected to AP. <br  />
<b>Recommended action:</b> None </td><td>Wi-Fi in terminal disconnected from AP. <br  />
<b>Recommended action:</b> None </td><td><ul>
<li>
<b>DHCP</b> IP address received from network. Interface ready for data transmission. <br  />
<b>Recommended action:</b> Transmit data if required</li>
<li>
<b>Static IP</b> Static IP has been assigned to network. Action as per DHCP, transmit data if required.</li>
</ul>
</td><td>Network layer down. <br  />
<b>Recommended action:</b> None. </td></tr>
<tr>
<td><b>BT-PAN</b> </td><td>BT Connection made to base. <br  />
<b>Recommended action:</b> None </td><td>BT layer disconnected from base. <br  />
<b>Recommended action:</b> None </td><td>The IP interface has been brought up. Interface is ready for transmission. This implies the physical link is up already. <br  />
<b>Recommended action:</b> Transmit data if required </td><td>IP interface has gone down. This can be also be caused by the loss of the physical link, i.e. follows link down event. <br  />
<b>Recommended action:</b> </td></tr>
<tr>
<td><b>ETH</b> </td><td>Cable detected / plugged in. <br  />
<b>Recommended action:</b> None </td><td>Cable unplugged. <br  />
<b>Recommended action:</b> None </td><td><ul>
<li>
<b>DHCP</b> IP address received from network. Interface ready for data transmission. <br  />
<b>Recommended action:</b> Transmit data if required</li>
<li>
<b>Static IP</b> Static IP has been assigned to network. Action as per DHCP, transmit data if required.</li>
</ul>
</td><td>IP interface has gone down. This can be also be caused by the loss of the physical link, i.e. follows link down event. <br  />
<b>Recommended action:</b> App may re-attempt to connect. </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd><b>1:</b> There is an important difference between what EVENTS mean on mobile data versus what they mean on the other interfaces. On radio the INTERFACE events are driven by the logical connection between the host and the modem stack : the ppp connection status. <br  />
 And there is a dependency between the state of this interface and the physical radio layer connection (i.e. whether the radio is registered to the network and camping on a cell). The way this works is that in order to establish the ppp connection (and therefore receive an INTERFACE_UP event) the radio layer must be present. This means that if the app receives INTERFACE_UP on radio it should immediately assume the LINK is up as well.</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_P_POWER_MODE"></a>
Appendix P: Powering Devices behaviour</h1>
<p>Beginning with ADK 4.6 the hardware module of each supported mobile communication interface can be powered and unpowered by the application on demand. This is to further reduce the energy footprint of a terminal. However this means in order to use any of the BT, WiFi or mobile data interfaces the application programmer first must power on the according device using the function <a class="el" href="libcom_8h.html#a24251c13b11f210e1543a88d03401fc3">com_PowerModeSet()</a> prior to use. This includes get/set of device properties and any network configurations using <a class="el" href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect()</a>, <a class="el" href="libcom_8h.html#a65f3a6e7059cb1dfa3a924aad3122c90">com_ConnectAsync()</a>, <a class="el" href="libcom_8h.html#a10cdfc0c9edf6383c69f8ac03d84131e">com_AttachNetwork()</a> and <a class="el" href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync()</a>. In case any of the mentioned functions is called but the associated device is not powered, the error code COM_ERR_DEV_POWER is returned. The current power status of a wireless module can be obtained using the function <a class="el" href="libcom_8h.html#a35c8340ad2d5496d084d3fcac3d952dc">com_PowerModeStatus()</a>.</p>
<p>The implementation also contains a compatibility mode which emulates the automatic power functions known from previous ADKCOM versions. In this mode, the power functions are not required since the ADKCOM will power any necessary devices implicitely. To enable the compatibility mode a user will have to load a special compat-enablement package <em>dl.comcfg-autopwr-1.0.0.tgz</em> into the terminal. The according removal package <em>dl.comcfg-autopwr-remove-1.0.0.tgz</em> will reactivate the new manual powering mode. The standard integration packages include the compatibility package, meaning automatic powering is enabled.</p>
<dl class="section note"><dt>Note</dt><dd>Changes will be applied after terminal reboot</dd></dl>
<p>A user can easily find out which of both modes is currently being used by the installed ADKCOM by checking the state of the flag COM_FEATURE2_DEVICE_NO_AUTOPOWER of device property COM_PROP_SUPPORTED_FEATURES_2 at runtime. The flag will be <b>set</b> when the user must power / unpower the devices manually and <b>unset</b> if in legacy (autopower) mode.</p>
<p>The Com Control Panel aka CCP is also able to operate in both modes. Upon connection attempt, it will automatically power the according wireless module no matter in which operation mode the terminal currently is. But whenever the manual power mode is active it lets a user turn off the power of a previously powered wireless communication module. In autopower mode the modules will be left powered all the time.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_Q_TETHERING"></a>
Appendix Q: Tethering: Information on tethering a network (NAT / Masquerading)</h1>
<p>It is possible to configure an interface to masquerade and forward IP packets. To do this use the com_Tethering* APIs. Tethering will let any network requests, which arrive at one of the interfaces on the device, to be sent through the tethered interface.</p>
<p>To illustrate this consider the following scenario: A P400 is connected to an UX300 via USB. USB Gadget (ECM) is used for communication between the UX300 and P400. The UX300 is connected to the customer network via eth0.</p>
<div class="image">
<object type="image/svg+xml" data="tethering.svg" style="pointer-events: none;"></object>
<div class="caption">
Tethering Setup for UX300 / P400</div></div>
<p>If the UX300 eth0 interface is tethered, the P400 can now send data to the customer network. For the customer network this communication will appear as coming from the UX300. The topology of the UX300 / P400 network will not be visible to the customer network. Therefore no additional configuration of the P400 (DHCP etc.) will be necessary.</p>
<p>Steps to take for this configuration example:</p>
<p>P400:</p><ul>
<li>Configure USB Gadget mode to ECM</li>
<li>Connect to UX300 via USB cable as shown in the diagram</li>
<li>Configure usb0 network to the desired, static configuration</li>
</ul>
<p>Ux300:</p><ul>
<li>Configure eth0 to be configured as whatever is needed to access the customer network</li>
<li>Configure USB Gadget mode to Serial</li>
<li>Make sure P400 is plugged in (if the interface is not there, a reboot may be required)</li>
<li>Configure usbh1 network to the desired, static configuration</li>
<li>Turn on tethering for eth0</li>
</ul>
<p>The P400 can now communicate with the customer network.</p>
<h2><a class="anchor" id="subsec_tethering_usage"></a>
Additional usage information:</h2>
<p>The tethering state is preserved after reboot, meaning the interface does not have to be retethered every time your application starts. Enabling tethering again on the same interface, which is already tethered, will be ignored and no error will be returned. If an interface is currently tethered and another, different interface is requested for tethering, then the currently tethered interface will be untethered. Afterwards the new interface will be tethered.</p>
<h2><a class="anchor" id="subsec_tethering_dns"></a>
DNS:</h2>
<p>DNS queries from devices, which are connected to a tethered device, will be sent to the DNS address configured on the tethered interface. In the previous example this means any DNS queries the P400 does will be sent to the UX300, then rerouted to the DNS server configured for eth0 on the UX300. This also means that the values of the DNS entries on the P400 are irrelevant as only the DNS addresses from the UX300 eth0 interface will be used. However they still need to be configured, as otherwise the DNS resolver libraries will complain, that there is no DNS server present (in resolv.conf for example). A dummy value can be used here, however our recommendation is to use the same address as the gateway/tethering device (UX300). This will first of all make more sense visually but also leave open the possibility of putting something like a DNS server (dnsmasq or similar) on the device, which is doing the tethering.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_R_AUTO_RECONNECT"></a>
Appendix R: Reconnect BT / Mobile networks</h1>
<p>The automatic reconnection feature of the BT PAN and Mobile Networks has been added in ADKCOM versions 2.66 and higher. As with the manual powering this feature can be enabled / disabled by loading special load packages.</p>
<p><em>dl.comcfg-no-rc-1.0.0.tgz</em> disables, <em>dl.comcfg-no-rc-remove-1.0.0.tgz</em> enables the reconnect feature. The standard integration packages include the compatibility package, meaning the reconnect feature is disabled.</p>
<p>A user can discover which of both modes is currently being used by checking the state of the flag COM_FEATURE3_AUTO_RECONNECT of device property COM_PROP_SUPPORTED_FEATURES_3 at runtime.</p>
<p>Both COM_FEATURE3_AUTO_RECONNECT and COM_FEATURE2_DEVICE_NO_AUTOPOWER must be enabled for this feature to be active. Please check the <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_P_POWER_MODE">Power mode</a> appendix for more information on the COM_FEATURE2_DEVICE_NO_AUTOPOWER feature.</p>
<p>Activating this feature will cause the mobile as well as Bluetooth PAN networks to be automatically reconnected.</p>
<h2><a class="anchor" id="subsec_auto_reconnect_bt"></a>
BT PAN Network Reconnect</h2>
<p>If the Bluetooth module is on, the BT PAN interface is configured and there are network capable Bluetooth devices paired, the BT_PAN Interface will be reconnected to a device depending on the BT_ADDR setting written inside the network profile. This means if "any" is set, it will try to connect to any capable, paired device. If the module is off or the interface stopped then no action is taken.</p>
<h2><a class="anchor" id="subsec_auto_reconnect_gprs"></a>
Mobile Network Reconnect</h2>
<p>If the mobile module is on, the SIM-Slot unlocked and the interface configured then the system will try to connect to the currently configured network. If the module is off, the SIM locked or the interface stopped then no action is taken.</p>
<dl class="section note"><dt>Note</dt><dd>Switching the SIM-Slot does not change the currently configured network stored in the system. This means when the network goes down to the switching of the slot the old network profile will be used for the new SIM-Slot. As such it may be prudent to manually turn off the network before you switch SIM-Slots and reattach with the correct network-profile in order to avoid the systemt trying to reconnect with the SIM using the incorrect network information.</dd></dl>
<h1><a class="anchor" id="sec_com_APPENDIX_S_SIM_SLOT_SWITCHING"></a>
Appendix S: Sim Slot Switching</h1>
<p>It is possible to switch the SIM card during operation using ADK property COM_PROP_SELECT_SIM_SLOT. After switching the SIM the application has to re-connect to the network.</p>
<p>Following limitations apply:</p><ul>
<li>switching between already inserted SIM cards involves a switchover handling that can take up to 10 seconds.</li>
<li>It is forbidden to remove the SIM card during operation. This includes, but is not limited to, the v240m. Because of this there is no ADKCOM event when removing the card.</li>
<li>If the SIM <em>is</em> removed during operation, then the only way to recover the system completely is to reboot.</li>
<li>It is not possible to detect the SIM card presence in the SIM card slot when the radio module is off.</li>
<li>It is not possible to detect the SIM card presence in the SIM card slot, which is not selected for use.</li>
</ul>
<p>In addition to that the used SIM card slot for a new connection can be specified within a network profile.</p>
<dl class="section note"><dt>Note</dt><dd>ADKCOM will never auto-select the used SIM slot. This is the responsibility of the calling application.</dd></dl>
<p>In the ADK-COM model, the application is responsible to supervise the network connection state and re-establish the network connection after the NETWORK_DOWN event was received. If an application decides to rely on implicit network setup using connection profiles, an automatic switching of the SIM slot by ADK-COM follows the fallback mechanism specifying different fallback connections in a connection profile. The network connection is established as needed for the connection, and the decision which network will be used is given by the order defined in the connection profile. Either the network can be activated or not, no decision is taken by the signal level. In order to specify the SIM slot for a specific connection, the GPRS and the PPP CSD network profiles as well as the GSM raw data (CSD) connection profile have the network profile parameter SIM_SLOT:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SIM_SLOT </td><td class="markdownTableBodyNone">SIM-Slot to use. 0 = currently active SIM-Slot. 1 = First SIM-Slot. 2 = Second SIM-Slot. Default is 0  </td></tr>
</table>
<p>Example for such a fallback connection profile:</p>
<div class="fragment"><div class="line">&lt;CONNECTION_PROFILE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;<span class="stringliteral">&quot;HOST_A&quot;</span>&lt;/<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;GPRS_PPP_SLOT1.XML&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;10.11.12.13&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;9999&lt;/PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;1000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line">    &lt;CONNECTION&gt;</div>
<div class="line">        &lt;TYPE&gt;TCP&lt;/TYPE&gt;</div>
<div class="line">        &lt;NETWORK&gt;GPRS_PPP_SLOT2.XML&lt;/NETWORK&gt;</div>
<div class="line">        &lt;ADDRESS&gt;10.11.12.13&lt;/ADDRESS&gt;</div>
<div class="line">        &lt;PORT&gt;9999&lt;/PORT&gt;</div>
<div class="line">        &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;1000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;/CONNECTION&gt;</div>
<div class="line"> &lt;/CONNECTION_PROFILE&gt;</div>
</div><!-- fragment --><p>with associated network profiles:</p>
<div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;<span class="stringliteral">&quot;GPRS_PPP_SLOT1&quot;</span>&lt;/<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    ...</div>
<div class="line">    &lt;SIM_SLOT&gt;1&lt;/SIM_SLOT&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;<span class="stringliteral">&quot;GPRS_PPP_SLOT2&quot;</span>&lt;/<a class="code" href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">NAME</a>&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    ...</div>
<div class="line">    &lt;SIM_SLOT&gt;2&lt;/SIM_SLOT&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_T_LIMITED_ANDROID_SUPPORT"></a>
Appendix T: Limited Android support</h1>
<p>On Android platforms all the network configuration is done via configuration dialogs of the operating system. To give the existing application the option to use the well known behavior, the connection related APIs are supported as well as the communication APIs on that connections.</p>
<p>List of supported API on Android:</p><ul>
<li>com_Init</li>
<li>com_Connect</li>
<li>com_ConnectAsync</li>
<li>com_ConnectWait</li>
<li>com_ConnectGetFD</li>
<li>com_ConnectGetSslObj</li>
<li>com_ConnectGetSslFD</li>
<li>com_ConnectClose</li>
<li>com_Receive</li>
<li>com_Send</li>
<li>com_Select</li>
<li>com_SelectInterrupt</li>
<li>com_SelectInterruptReset</li>
<li>com_SendTo</li>
<li>com_ReceiveFrom</li>
<li>com_GetConnectionState</li>
<li>com_GetConnectionType</li>
<li>com_GetProfilePropertyInt</li>
<li>com_GetProfilePropertyString</li>
<li>com_GetProfileNodePropertyInt</li>
<li>com_GetProfileNodePropertyString</li>
<li>com_Destroy</li>
<li>com_SetPassword</li>
<li>com_GetVersion</li>
<li>com_GetSvcVersion</li>
</ul>
<p>There is no support for network profiles on Android. They will be read and printed but aside from this they will be ignored. In order to avoid confusion when the customer or developers look at ADKCOM logs captured on Android, we recommend using a link-local network profile, which will not generate much unnecessary logging. If this is done, please also set the restrict_local parameter in all connection sections to 0, as otherwise connections are restricted to the same host.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_U_SIM_TOOLKIT_USSD"></a>
Appendix U: Information on the SIM Toolkit / USSD</h1>
<p>The SIM toolkit / USSD can be used via the <a class="el" href="libcom3_8h.html">libcom3.h</a> API. Please see <a class="el" href="pg_com_users_guide.html#sec_com_extended_cpp_interface">Extended C++ interface</a> for general information on the <a class="el" href="libcom3_8h.html">libcom3.h</a> interface.</p>
<h2><a class="anchor" id="subsec_com_STK"></a>
STK</h2>
<p>To start the SIM toolkit the following must be done:</p><ul>
<li>First turn on the radio module using the standard <a class="el" href="libcom_8h.html" title="ADK-COM API.">libcom.h</a> APIs.</li>
<li>Register an <a class="el" href="libcom3_8h.html">libcom3.h</a> event pipe with type STK</li>
<li>Create a <a class="el" href="libcom3_8h.html">libcom3.h</a> command pipe</li>
<li>Instruct the command pipe to turn the STK on</li>
<li>Wait for first STK event</li>
<li>Use write command to send ENV / TR commands</li>
<li>Use event pipe to receive further PRO events</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Once your have activated the STK the radio module will reset. Once in the SIM toolkit mode you cannot do any data transfer via packet mobile data such as a GPRS network.</dd></dl>
<h2><a class="anchor" id="subsec_com_STKPRO_Example"></a>
STKPRO Events</h2>
<p>The following STKPRO commands will be received by the application:</p>
<p>05 - Setup <a class="el" href="libevt_8h.html#struct_event">Event</a> List command (Setup <a class="el" href="libevt_8h.html#struct_event">Event</a> List not necessary on Quectel modules)</p>
<p>36 - Select Item</p>
<p>37 - Menu Selection</p>
<p>All events will have the vficom::event::proactive_command Tag. Depending on which event was received more tags can be present. The tags present are seperated by namespaces and can easily be looked up in your IDE. Please note all of the command-specific parameters are inside the parameter object.</p>
<dl class="section note"><dt>Note</dt><dd>You will never receive STKCNF events in your application. All CNF events are handled by the system and are not visible to the application.</dd></dl>
<h2><a class="anchor" id="subsec_com_STK_TRENV"></a>
STKTR/ENV</h2>
<p>You may send STKENV or STKTR commands to the STK by using a libcom3 command pipe. The parameters needed are specified inside vficom::cmdparam::in::stk namespace.</p>
<h2><a class="anchor" id="subsec_com_STK_EXAMPLE"></a>
STK Example</h2>
<p>The following example turns on the STK (GPRS module must be powered beforehand), reads the first STKPRO URC from the module (which will appear in about the first 30 seconds of having activated STK) and prints it. If it is a STKPRO SetupEventList (5) event (only on Gemalto modules) it sends an OK back.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="libcom_8h.html">libcom.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="libcom3_8h.html">libcom3.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ipc_2src_2ipc_2jsobject_8h.html">ipc/jsobject.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define RED &quot;\x1B[31m&quot;</span></div>
<div class="line"><span class="preprocessor">#define GRN &quot;\x1B[32m&quot;</span></div>
<div class="line"><span class="preprocessor">#define YEL &quot;\x1B[33m&quot;</span></div>
<div class="line"><span class="preprocessor">#define BLU &quot;\x1B[34m&quot;</span></div>
<div class="line"><span class="preprocessor">#define MAG &quot;\x1B[35m&quot;</span></div>
<div class="line"><span class="preprocessor">#define CYN &quot;\x1B[36m&quot;</span></div>
<div class="line"><span class="preprocessor">#define WHT &quot;\x1B[1;37m&quot;</span></div>
<div class="line"><span class="preprocessor">#define GRY &quot;\x1B[2;37m&quot;</span></div>
<div class="line"><span class="preprocessor">#define RESET &quot;\x1B[0m&quot;</span></div>
<div class="line"><span class="preprocessor">#define RESETNL &quot;\x1B[0m\n&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> sendCommand(<span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;in)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> out;</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 90000) == <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">            <span class="keywordtype">int</span> err = out(<span class="stringliteral">&quot;error&quot;</span>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(err == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">                printf(CYN <span class="stringliteral">&quot;OK&quot;</span> RESETNL);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                printf(RED <span class="stringliteral">&quot;fail, err %d&quot;</span> RESETNL, err);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>(<a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">        printf(RED <span class="stringliteral">&quot;Exception %s\n&quot;</span> RESETNL, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> gprsSTKOn()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in;</div>
<div class="line"> </div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)         = <a class="code" href="namespacevficom_1_1cmd.html#a9361760ae5960eea59f608300ca3002f">vficom::cmd::stk_on</a>;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_on::timeout</a>) = 60000;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> sendCommand(in);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> gprsSTKOff()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in;</div>
<div class="line"> </div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)          = <a class="code" href="namespacevficom_1_1cmd.html#ab87430479d817a2b0f173db3ab49709c">vficom::cmd::stk_off</a>;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__off.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_off::timeout</a>) = 60000;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> sendCommand(in);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> std::string gprsSTKState()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> out, in;</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line"> </div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)             = <a class="code" href="namespacevficom_1_1cmd.html#a47636d831d5cbc65b7c6915f1701f0a2">vficom::cmd::stk_status</a>;</div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__status.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_status::timeout</a>) = 30000;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 90000) == <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">            <span class="keywordtype">int</span> err = out(<span class="stringliteral">&quot;error&quot;</span>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(err == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">                <span class="keywordflow">return</span> out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">vficom::cmdparam::out::stk_status::status</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#a23bdc20544ca28878b1ffea144ac2730">getString</a>();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                printf(RED <span class="stringliteral">&quot;fail, err %d&quot;</span> RESETNL, err);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>(<a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">        printf(RED <span class="stringliteral">&quot;Exception %s\n&quot;</span> RESETNL, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKProCommand(<span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a78378fa24e0c0249b786249d20122555">proactCmd</a>, <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in;</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> stk;</div>
<div class="line"> </div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#ab32f80509076e8fdd54922a117a14c6c">vficom::cmdparam::in::stk_write::msg::usat_command</a>) = <span class="stringliteral">&quot;STKTR&quot;</span>;</div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a78378fa24e0c0249b786249d20122555">vficom::cmdparam::in::stk_write::msg::proactCmd</a>)    = <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a78378fa24e0c0249b786249d20122555">proactCmd</a>;</div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">vficom::cmdparam::in::stk_write::msg::parameters</a>)   = <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line"> </div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_write::timeout</a>)     = 60000;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)                = <a class="code" href="namespacevficom_1_1cmd.html#a3de5a6fc99b71f79469478abe765738b">vficom::cmd::stk_write</a>;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a59a4060a8f4c471a8a2814ede31645d9">vficom::cmdparam::in::stk_write::message_obj</a>) = stk;</div>
<div class="line"> </div>
<div class="line">    sendCommand(in);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKEnvCommand(<span class="keywordtype">int</span> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#adef2c7a812cfb2e8b8f4c1197d8e97a3">envCmd</a>, <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in;</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> stk;</div>
<div class="line"> </div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#ab32f80509076e8fdd54922a117a14c6c">vficom::cmdparam::in::stk_write::msg::usat_command</a>) = <span class="stringliteral">&quot;STKENV&quot;</span>;</div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#adef2c7a812cfb2e8b8f4c1197d8e97a3">vficom::cmdparam::in::stk_write::msg::envCmd</a>)       = <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#adef2c7a812cfb2e8b8f4c1197d8e97a3">envCmd</a>;</div>
<div class="line">    stk(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">vficom::cmdparam::in::stk_write::msg::parameters</a>)   = <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line"> </div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_write::timeout</a>)     = 60000;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)                = <a class="code" href="namespacevficom_1_1cmd.html#a3de5a6fc99b71f79469478abe765738b">vficom::cmd::stk_write</a>;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a59a4060a8f4c471a8a2814ede31645d9">vficom::cmdparam::in::stk_write::message_obj</a>) = stk;</div>
<div class="line"> </div>
<div class="line">    sendCommand(in);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKTRRefresh() <a class="code" href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a>((unused));</div>
<div class="line">static <span class="keywordtype">void</span> sendSTKTRRefresh()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::refresh::result</a>) = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKProCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5daa0ce25efd0caa8725b776aceb8584bb2">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_REFRESH</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKTRSetupEventListOK()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__event__list.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::setup_event_list::result</a>) = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKProCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da3de966187a2f9d6339188503d787a674">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SETUP_EVENT_LIST</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Note: This is just an example. Replace with the correct data</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKTRSelectItem() <a class="code" href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a>((unused));</div>
<div class="line">static <span class="keywordtype">void</span> sendSTKTRSelectItem()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a279e633341df7c5aa4d6921f2c3fbd70">vficom::cmdparam::in::stk_write::msg::tr::select_item::add_result</a>) = 0;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::cmdparam::in::stk_write::msg::tr::select_item::dcs</a>)        = 0;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a981c8da2d475a8aae111a7e04c059eb1">vficom::cmdparam::in::stk_write::msg::tr::select_item::hex_string</a>) = <span class="stringliteral">&quot;AABBCCDD&quot;</span>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::select_item::result</a>)     = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKProCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da657d0e99bbd4f535e31c71cb691489ed">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SELECT_ITEM</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKTRSetupMenu() <a class="code" href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a>((unused));</div>
<div class="line">static <span class="keywordtype">void</span> sendSTKTRSetupMenu()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__menu.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::setup_menu::result</a>) = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKProCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da94d7ddbc8ab0069214ef7eb64a64fe2d">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SETUP_MENU</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKENVMenuSelect() <a class="code" href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a>((unused));</div>
<div class="line">static <span class="keywordtype">void</span> sendSTKENVMenuSelect()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1menu__select.html#a560864dedcdf3ae04a042845409846f3">vficom::cmdparam::in::stk_write::msg::env::menu_select::item_id</a>) = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKEnvCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a37a60d6078b7db799def050b0df8575ca18c3b5c6924431fbdf0b17510f1bd520">vficom::cmdparam::in::stk_write::msg::STK_ENV_CMD_MENU_SELECT</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sendSTKENVEventDownload() <a class="code" href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a>((unused));</div>
<div class="line">static <span class="keywordtype">void</span> sendSTKENVEventDownload()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>;</div>
<div class="line">    <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">vficom::cmdparam::in::stk_write::msg::env::event_download::event</a>) = 0;</div>
<div class="line"> </div>
<div class="line">    sendSTKEnvCommand(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a37a60d6078b7db799def050b0df8575ca9df31c97c0de893a08eb38b005bdc223">vficom::cmdparam::in::stk_write::msg::STK_ENV_CMD_EVENT_DOWNLOAD</a>, <a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">parameters</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> gprsSTKReadEvent(<a class="code" href="classvficom_1_1_event_pipe.html">vficom::EventPipe</a> &amp;evtPipe)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> out;</div>
<div class="line"> </div>
<div class="line">    printf(YEL <span class="stringliteral">&quot;Wait for 30 secs&quot;</span> RESETNL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(evtPipe.<a class="code" href="classvficom_1_1_event_pipe.html#af780052cc93b5836bc71741f5de5462e">recv</a>(out, 30000) == <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">        <span class="keywordflow">return</span> out;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        printf(RED <span class="stringliteral">&quot;Failed to read event&quot;</span> RESETNL);</div>
<div class="line">        <span class="keywordflow">throw</span> -2;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>STK {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    STK()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span>(!gprsSTKOn()) {</div>
<div class="line">            <span class="keywordflow">throw</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ~STK()</div>
<div class="line">    {</div>
<div class="line">        gprsSTKOff();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> printSelectItem(<a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;params)</div>
<div class="line">{</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Item Text %s&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a2903f0a8f3a8335309eef88135bf0dbf">vficom::event::stk::select_item::item_text</a>).getString().c_str());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Alpha %s&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a249be8d05032634deb42b1e5fea747d8">vficom::event::stk::select_item::alpha</a>).getString().c_str());</div>
<div class="line"> </div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;CMD Qualifier %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a82b164577136a1cd6874a72f73846fce">vficom::event::stk::select_item::cmd_qualifier</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Default item %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#abdb39d55a6be159a1189e7e73c667643">vficom::event::stk::select_item::default_item</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Icon Id %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a9258a8527ab568afa639e6351530ad2c">vficom::event::stk::select_item::icon_id</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Icon Id list elem %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a79c2fe0e201065f97fb20afafb76a7d0">vficom::event::stk::select_item::icon_id_list_elem</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Item ID %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a560864dedcdf3ae04a042845409846f3">vficom::event::stk::select_item::item_id</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Next action %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a1c2eedb6c972148679f8206c23a9b092">vficom::event::stk::select_item::next_action</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Total items %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1select__item.html#afad542aa2df7161acbc7ab01d5dfe664">vficom::event::stk::select_item::total_items</a>).getInt());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> printSetUpEventList(<a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;params)</div>
<div class="line">{</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Item Text %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1set__up__event__list.html#a58b8a56ffbf2ffd58a11ae50b123344e">vficom::event::stk::set_up_event_list::event_list</a>).getInt());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> printMenuSelection(<a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;params)</div>
<div class="line">{</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Item Text %s&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a2903f0a8f3a8335309eef88135bf0dbf">vficom::event::stk::menu_selection::item_text</a>).getString().c_str());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Alpha %s&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a249be8d05032634deb42b1e5fea747d8">vficom::event::stk::menu_selection::alpha</a>).getString().c_str());</div>
<div class="line"> </div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;CMD Qualifier %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a82b164577136a1cd6874a72f73846fce">vficom::event::stk::menu_selection::cmd_qualifier</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Icon Id %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a9258a8527ab568afa639e6351530ad2c">vficom::event::stk::menu_selection::icon_id</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Icon Id list elem %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a79c2fe0e201065f97fb20afafb76a7d0">vficom::event::stk::menu_selection::icon_id_list_elem</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Item ID %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a560864dedcdf3ae04a042845409846f3">vficom::event::stk::menu_selection::item_id</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Next action %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a1c2eedb6c972148679f8206c23a9b092">vficom::event::stk::menu_selection::next_action</a>).getInt());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Total items %ld&quot;</span> RESETNL, params(<a class="code" href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#afad542aa2df7161acbc7ab01d5dfe664">vficom::event::stk::menu_selection::total_items</a>).getInt());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> printEvent(<a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;out)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65c">vficom::event::stk::STKURCProCommand</a> proCommand =</div>
<div class="line">        (<span class="keyword">enum</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65c">vficom::event::stk::STKURCProCommand</a>) out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#abd252468ae3a3e5279e052c25dc799ef">vficom::event::stk::proactive_command</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"> </div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;URC %s&quot;</span> RESETNL, out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#a12f36db82ddc1060e18dd1ff5cfb39b9">vficom::event::stk::urc</a>).getString().c_str());</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;PAC %ld&quot;</span> RESETNL, out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#abd252468ae3a3e5279e052c25dc799ef">vficom::event::stk::proactive_command</a>).getInt());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span>(proCommand) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65cae26875fc20d12429767cd8101f356898">vficom::event::stk::MENU_SELECTION</a>:</div>
<div class="line">            printMenuSelection(out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#a718fb933f922f59d50270984ea93ec91">vficom::event::stk::parameters</a>));</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65ca579e57dd8e1b4d3aeea89024110a8faa">vficom::event::stk::SET_UP_EVENT_LIST</a>:</div>
<div class="line">            printSetUpEventList(out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#a718fb933f922f59d50270984ea93ec91">vficom::event::stk::parameters</a>));</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65caff4dbb9d650bf39f32e93d17f47ed147">vficom::event::stk::SELECT_ITEM</a>:</div>
<div class="line">            printSelectItem(out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#a718fb933f922f59d50270984ea93ec91">vficom::event::stk::parameters</a>));</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            printf(RED <span class="stringliteral">&quot;Not a valid event&quot;</span> RESETNL);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> readAnswerEvent(<a class="code" href="classvficom_1_1_event_pipe.html">vficom::EventPipe</a> &amp;evtPipe)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> out = gprsSTKReadEvent(evtPipe);</div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;Event: %s&quot;</span> RESETNL, out.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>().c_str());</div>
<div class="line">    printEvent(out);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65c">vficom::event::stk::STKURCProCommand</a> proCommand =</div>
<div class="line">        (<span class="keyword">enum</span> <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65c">vficom::event::stk::STKURCProCommand</a>) out(<a class="code" href="namespacevficom_1_1event_1_1stk.html#abd252468ae3a3e5279e052c25dc799ef">vficom::event::stk::proactive_command</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(proCommand == <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65ca579e57dd8e1b4d3aeea89024110a8faa">vficom::event::stk::SET_UP_EVENT_LIST</a>) {</div>
<div class="line">        <span class="comment">// This does not happen on Quectel devices, just send an OK back on Gemalto modules</span></div>
<div class="line">        sendSTKTRSetupEventListOK();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(proCommand == <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65caff4dbb9d650bf39f32e93d17f47ed147">vficom::event::stk::SELECT_ITEM</a>) {</div>
<div class="line">        <span class="comment">// Whatever needs to be done</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(proCommand == <a class="code" href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65cae26875fc20d12429767cd8101f356898">vficom::event::stk::MENU_SELECTION</a>) {</div>
<div class="line">        <span class="comment">// Whatever needs to be done</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> gprsSTKFull()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <a class="code" href="classvficom_1_1_event_pipe.html">vficom::EventPipe</a> evtPipe(<a class="code" href="namespacevficom_1_1event.html#a2628ea8d12e8b2563c32f05dc7fff6faac94a0e44aea9f0a62928152bc2966f02">vficom::event::EVT_URC_STK</a>);</div>
<div class="line">        STK stk;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> std::string state = gprsSTKState();</div>
<div class="line">        printf(CYN <span class="stringliteral">&quot;State %s&quot;</span> RESETNL, state.c_str());</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(state != <span class="stringliteral">&quot;on&quot;</span>) {</div>
<div class="line">            printf(RED <span class="stringliteral">&quot;Incorrect STK State&quot;</span> RESETNL);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        readAnswerEvent(evtPipe);</div>
<div class="line">        readAnswerEvent(evtPipe);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// readAnswerEvent(evtPipe);</span></div>
<div class="line">        <span class="comment">// readAnswerEvent(evtPipe);</span></div>
<div class="line">        <span class="comment">// etc. etc. till transaction is finished</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>(...) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(){</div>
<div class="line">    <span class="comment">//Make sure the module is on beforehand</span></div>
<div class="line"> </div>
<div class="line">    (void) gprsSTKFull();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_com_USSD"></a>
USSD</h2>
<p>USSD Support is activated when the USSD flag is set in feature3 flags. As with STK the USSD commands are available via the libcom3 interface. There is no interactive mode available, meaning replies to the network request need to be sent via USSD commands.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbc">vficom::status::PipeStatus</a> sendCommand(<span class="keyword">const</span> <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;in, <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> &amp;out)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 90000) == <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">            <span class="keywordtype">int</span> err = out(<span class="stringliteral">&quot;error&quot;</span>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(err == <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">                printf(CYN <span class="stringliteral">&quot;OK&quot;</span> RESETNL);</div>
<div class="line">                <span class="keywordflow">return</span> <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                printf(RED <span class="stringliteral">&quot;fail, err %d&quot;</span> RESETNL, err);</div>
<div class="line">                <span class="keywordflow">return</span> <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaecedb56d1405a60c6069f4a0139bdec5">vficom::status::FAILED</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaecedb56d1405a60c6069f4a0139bdec5">vficom::status::FAILED</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>(<a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">        printf(RED <span class="stringliteral">&quot;Exception %s\n&quot;</span> RESETNL, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaecedb56d1405a60c6069f4a0139bdec5">vficom::status::FAILED</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> ussdState()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line"> </div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)             = <a class="code" href="namespacevficom_1_1cmd.html#a63930bb13d90798b7b8b85d480a2e0bf">vficom::cmd::ussd_status</a>;</div>
<div class="line">    in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1stk__status.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_status::timeout</a>) = 60000;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(sendCommand(in, out) == <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">        printf(CYN <span class="stringliteral">&quot;SendCommand OK&quot;</span> RESETNL);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(out.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">vficom::cmdparam::out::stk_status::status</a>)) {</div>
<div class="line">            printf(CYN <span class="stringliteral">&quot;Status %ld\n&quot;</span> RESETNL, out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">vficom::cmdparam::out::stk_status::status</a>).getInt());</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> ussdPrepaid()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classvficom_1_1_event_pipe.html">vficom::EventPipe</a> evtPipe(<a class="code" href="namespacevficom_1_1event.html#a2628ea8d12e8b2563c32f05dc7fff6faa103c761754e574e8fa46d4bc24c3da58">vficom::event::EVT_URC_USSD</a>);</div>
<div class="line">    <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> evt;</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line">    </div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>) = <a class="code" href="namespacevficom_1_1cmd.html#abbf68123b626894e7d1d0ebf1fa5f49c">vficom::cmd::ussd_write</a>;</div>
<div class="line">    </div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ussd_write::timeout</a>) = 60000;</div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">vficom::cmdparam::in::ussd_write::n</a>)       = 1;</div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::cmdparam::in::ussd_write::str</a>)     = <span class="stringliteral">&quot;*100#&quot;</span>;</div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::cmdparam::in::ussd_write::dcs</a>)     = 15;</div>
<div class="line">    </div>
<div class="line">        <span class="keywordflow">if</span>(sendCommand(in, out) != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">            printf(RED <span class="stringliteral">&quot;Failed to send USSD Command!&quot;</span> RESETNL);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }   </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(CYN <span class="stringliteral">&quot;OK -- Try to receive event now&quot;</span> RESETNL);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(evtPipe.<a class="code" href="classvficom_1_1_event_pipe.html#af780052cc93b5836bc71741f5de5462e">recv</a>(evt, 10000) != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">        printf(RED <span class="stringliteral">&quot;No Event received!&quot;</span> RESETNL);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(evt.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::event::ussd::dcs</a>)) {</div>
<div class="line">        printf(WHT <span class="stringliteral">&quot;dcs %ld \n&quot;</span> RESETNL, evt(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::event::ussd::dcs</a>).getInt());</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(evt.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#a348a7029a12a56793a401845e7473af8">vficom::event::ussd::m</a>)) {</div>
<div class="line">        printf(WHT <span class="stringliteral">&quot;m %ld \n&quot;</span> RESETNL, evt(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#a348a7029a12a56793a401845e7473af8">vficom::event::ussd::m</a>).getInt());</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(evt.<a class="code" href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">exists</a>(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::event::ussd::str</a>)) {</div>
<div class="line">        printf(WHT <span class="stringliteral">&quot;str %s \n&quot;</span> RESETNL, evt(<a class="code" href="namespacevficom_1_1event_1_1ussd.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::event::ussd::str</a>).getString().c_str());</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//More commands etc.</span></div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//Cancel</span></div>
<div class="line">        </div>
<div class="line">        <a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line">    </div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>) = <a class="code" href="namespacevficom_1_1cmd.html#abbf68123b626894e7d1d0ebf1fa5f49c">vficom::cmd::ussd_write</a>;</div>
<div class="line">    </div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ussd_write::timeout</a>) = 60000;</div>
<div class="line">        in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">vficom::cmdparam::in::ussd_write::n</a>)       = 2;</div>
<div class="line">    </div>
<div class="line">        <span class="keywordflow">if</span>(sendCommand(in, out) != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">            printf(RED <span class="stringliteral">&quot;Failed to send USSD Command!&quot;</span> RESETNL);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }   </div>
<div class="line">    }   </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_V_Preferred_operator_list"></a>
Appendix V: Mobile Radio: Preferred Operator List</h1>
<p>The preferred operator list of a SIM can be read and modified using ADKCOM property COM_PROP_GSM_PREFERRED_OPERATOR_LIST.</p>
<h2><a class="anchor" id="subsec_read_pol"></a>
Reading the Preferred Operator List</h2>
<p>The currently set preferred operator list can be retrieved by reading the property COM_PROP_GSM_PREFERRED_OPERATOR_LIST. Precondition:</p><ul>
<li>radio module is powered</li>
<li>SIM card is inserted</li>
<li>SIM card is unlocked</li>
</ul>
<p>The operator list on the SIM is stored as a list of operators (MCC+MNC) which are assigned an index beginning with 1.</p>
<p>The returned ADKCOM JSON has following format:</p>
<div class="fragment"><div class="line">{  </div>
<div class="line">    <span class="stringliteral">&quot;preferred_operators&quot;</span>:[</div>
<div class="line">        <span class="stringliteral">&quot;12345&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;23456&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;98765&quot;</span></div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>It is a JSON array named "preferred_operators", first element in the array corresponds to index 1, the 2nd to index 2 and so on. all contained strings are always a MCC+MNC string, representing the operator. It may happen that one index was removed on the SIM card, index gaps may occur. These gaps are returned in the array as just empty strings. In following example index 2 was erased and is no longer stored on the SIM:</p>
<div class="fragment"><div class="line">{  </div>
<div class="line">    <span class="stringliteral">&quot;preferred_operators&quot;</span>:[</div>
<div class="line">        <span class="stringliteral">&quot;12345&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;98765&quot;</span></div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="subsec_mod_pol"></a>
Modifying the Preferred Operator List</h2>
<p>In order to modify the operator list, it's advsiable to read the current list first. Then modify the indexes in the JSON array as needed. After that simply write the property COM_PROP_GSM_PREFERRED_OPERATOR_LIST back. Value content is the mentioned JSON object as string.</p>
<p>If you want to erase a certain index, just enter an empty string at the desired position in the array before writing it back.</p>
<p>Precondition:</p><ul>
<li>radio module is powered</li>
<li>SIM card is inserted</li>
<li>SIM card is unlocked</li>
</ul>
<h2><a class="anchor" id="subsec_reset_pol"></a>
Restore the default Preferred Operator List</h2>
<p>In case you want to restore the default provider defined operator list, simply delete all indexes. To do this, first read the current list using above described reading method. Then clear every string in the JSON array, so it only contains empty strings. After that write it back using COM_PROP_GSM_PREFERRED_OPERATOR_LIST.</p>
<p>Precondition:</p><ul>
<li>radio module is powered</li>
<li>SIM card is inserted</li>
<li>SIM card is unlocked</li>
</ul>
<h2><a class="anchor" id="subsec_clear_pol"></a>
Clear stored POL data</h2>
<p>Typically, the customized list data are volatile in the module. The operating system stores the previously set operator list on the file system to re-inject the data on the next mobile radio module start-up. This file can actively erased by the application by sending an empty preferred operator list JSON data:</p>
<div class="fragment"><div class="line">{  </div>
<div class="line">    <span class="stringliteral">&quot;preferred_operators&quot;</span>:[]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_W_COMDEMO"></a>
Appendix W: COMdemo, the ADK-COM demo application</h1>
<p>COMdemo is a simple application which demonstrates the capabilities of ADK Communication Service. COMdemo is located at <code>doc/com/demo/</code> within the documentation package <code>com-doc-[version].zip</code>. This directory contains both the source code and a pre-built package of the application. The loadable application is located at <code>load/vos2</code> and is divided into two packages, <code>dl.comdemo-[version].tgz</code> and <code>dl.comdemo-config-[version].tgz</code>. Therefore, you do not need to recompile the entire application if you only want to make changes to the configuration files.</p>
<h2><a class="anchor" id="subsec_com_APPENDIX_W_COMDEMO_build"></a>
Package building</h2>
<p>If you want to tinker with the application or just change some parameters in the configuration like the host address, you can build the packages with make. The target <code>config</code> will create the config package only. The target <code>vos2-dist</code> will create both packages.</p>
<h2><a class="anchor" id="subsec_com_APPENDIX_W_COMDEMO_source"></a>
Source code overview</h2>
<p>The application uses a simple GUI, the resource files therefore are in the <code>rsc</code> directory. The more interesting part are the test cases implemented in <code>src/test/test.cpp</code>. If you want to change only some parameters, it is done easily through <code>src/test/comdemo.xml</code>. At runtime the XML file is parsed and the parameters are inserted into the corresponding files in <code>src/test/skeleton</code>. And of course, you can also change the parameters directly in the respective profile file.</p>
<h2><a class="anchor" id="subsec_com_APPENDIX_W_COMDEMO_usage"></a>
Usage of the application</h2>
<p>Use the secure installer from sysmode to install both packages. After that a new application icon will appear on the MAC Desktop.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Screenshot </th><th class="markdownTableHeadLeft">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><div class="image">
<img src="comdemo_mac.png" alt=""/>
</div>
     </td><td class="markdownTableBodyLeft">Application icon on MAC Desktop  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><div class="image">
<img src="comdemo_menu_main.png" alt=""/>
</div>
     </td><td class="markdownTableBodyLeft">After launching the application, the application shows a selection of tests grouped by connection type. <dl class="section note"><dt>Note</dt><dd>At current stage, only one type of examples is included, namely SSL connections using the Ethernet interface (default can be changed by modifying connection profiles).  </dd></dl>
</td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><div class="image">
<img src="comdemo_menu_ssl.png" alt=""/>
</div>
     </td><td class="markdownTableBodyLeft">The tests in the SSL group mostly use XML files for connection profiles, the others that use a database are prefixed with "DB".  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><div class="image">
<img src="comdemo_ssl_dbsingleauth.png" alt=""/>
</div>
     </td><td class="markdownTableBodyLeft">By selecting a test from the list, a further description of the test will be displayed. When you press "Execute", the test will be performed.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><div class="image">
<img src="comdemo_ssl_dbsingleauth_res.png" alt=""/>
</div>
     </td><td class="markdownTableBodyLeft">After some time, the result is displayed. Should an error occur, an explanatory message is displayed.  </td></tr>
</table>
<h1><a class="anchor" id="sec_com_APPENDIX_X_Neighbor_list"></a>
Appendix X: Neighbor Lists: Information about ARP / NDP</h1>
<p>You may query the current neighbors in the local subnets in ARP (ipv4)/ NDP(ipv6) tables via the COM_PROP_NEIGHBOR_TABLE property. An example of the returned json string is as follows:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;eth0&quot;</span>:{</div>
<div class="line">    <span class="stringliteral">&quot;ipv4&quot;</span>:{</div>
<div class="line">        <span class="stringliteral">&quot;192.168.2.255&quot;</span>:<span class="stringliteral">&quot;ff:ff:ff:ff:ff:ff&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;192.168.2.1&quot;</span>:<span class="stringliteral">&quot;01:02:03:01:02:03&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;192.168.2.2&quot;</span>:<span class="stringliteral">&quot;01:02:03:04:05:06&quot;</span></div>
<div class="line">    },</div>
<div class="line">    <span class="stringliteral">&quot;ipv6&quot;</span>:{</div>
<div class="line">        <span class="stringliteral">&quot;2001:16b8:285b:2f00:464e:6dff:fe22:7e84&quot;</span>:<span class="stringliteral">&quot;44:4e:6d:22:7e:84&quot;</span></div>
<div class="line">    }</div>
<div class="line">},</div>
<div class="line"><span class="stringliteral">&quot;wlan0&quot;</span>:{</div>
<div class="line">    <span class="stringliteral">&quot;ipv4&quot;</span>:{</div>
<div class="line">        <span class="stringliteral">&quot;192.168.20.255&quot;</span>:<span class="stringliteral">&quot;ff:ff:ff:ff:ff:ff&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;192.168.20.10&quot;</span>:<span class="stringliteral">&quot;04:05:06:01:02:03&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;192.168.20.11&quot;</span>:<span class="stringliteral">&quot;04:05:06:04:05:06&quot;</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_Y_VOS3"></a>
Appendix Y: VOS3: Information about the new VOS3 Operating System</h1>
<h2><a class="anchor" id="sec_com_APPENDIX_Y_VOS3_api"></a>
API compatibilty</h2>
<p>In general ADKCOM APIs are supported same way as on previous VOS1/VOS2.</p>
<p>Following API deprecations/extensions are applicable for VOS3:</p>
<ul>
<li>not supported API support for STunnel on VOS3 (will return not supported)<ul>
<li><a class="el" href="libcom_8h.html#a3658c67822073afab2c329755aaddd37">com_SetStunnelConfig()</a></li>
</ul>
</li>
<li>new API for iBeacon- recommended to be used with VOS3<ul>
<li><a class="el" href="libcom_8h.html#a2c13209f2854692dc63309551fdc3de1">com_IBeaconGetAdvertisement()</a></li>
<li><a class="el" href="libcom_8h.html#acba33f21f870bf27b8e62a600ec1be17">com_IBeaconSetAdvertisement()</a></li>
<li><a class="el" href="libcom_8h.html#a4808892fb28569f7f949fa14aa103ef6">com_IBeaconStartAdvertisement()</a></li>
<li><a class="el" href="libcom_8h.html#a35633db6e2632562eff1452a5207408d">com_IBeaconStopAdvertisement()</a></li>
</ul>
</li>
<li>new API for Eddystone Beacon - recommended to be used with VOS3<ul>
<li><a class="el" href="libcom_8h.html#a3163590cfa3a4ff5ff6cb5efb708883b">com_EddystoneURLGetAdvertisementExt()</a></li>
<li><a class="el" href="libcom_8h.html#a7eab5f7f7382383034c0b37d63d044ec">com_EddystoneURLSetAdvertisementExt()</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="sec_com_APPENDIX_Y_VOS3_com_netfd"></a>
Communication and Network Descriptors</h2>
<p>VOS3 continues to use the same format and parameters for ADK connection and network profiles.</p>
<h2><a class="anchor" id="sec_com_APPENDIX_Y_VOS3_keys"></a>
Custom Certificate Loading and pre-loaded authentication key</h2>
<ul>
<li>VOS3 will no longer support PKCS#12 / PFX files.</li>
<li>The system now supports secure loading of these certifcates using VRKv2. The loaded certifcates will be stored securely in the system and can be referenced by the SSL_OWN_CERT and SSL_OWN_PKEY parameter with "vault:{keyname}" in the related connection profile for TLS or network profile for Wifi or LAN. The {keyname} needs to match the name of the loaded cerficate / key used in the VRKv2 package.</li>
<li>The preloaded Authentication Key (AuthEx/ AuthN) warrantied key can be referenced using "vault:" as a name for SSL_OWN_CERT and SSL_OWN_PKEY. See also <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A1_AUTHEX_AUTHN">Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</a></li>
</ul>
<h2><a class="anchor" id="sec_com_APPENDIX_Y_VOS3_network_start"></a>
Network Startup and Recovery handling</h2>
<p>Unlike VOS1/VOS2, the VOS3 system always implements an auto start and recovery for configured networks. With this the VOS3 system will always:</p>
<ul>
<li>BT: try to re-estabilish connection via BT-PAN to the previously connected device when coming back in range</li>
<li>Wifi: try to re-estabilish Wifi connection to the previously connected SSID or other configured SSID when coming back in range</li>
<li>Cellular: try to re-estabilish connection to the prevously connected mobile network</li>
<li>LAN: try to re-estabilish connection to the prevously connected LAN network</li>
</ul>
<p>The previous support for manual configuration of recovery handling using load packages is deprecated (previous: dl.comcfg-no-rc-1.0.0.tgz and dl.comcfg-no-rc-remove-1.0.0.tgz packages).</p>
<h1><a class="anchor" id="sec_com_APPENDIX_Z_Radio_Net_Restart"></a>
Appendix Z: Radio Reconfiguration: Information about restarting / connecting to Mobile Networks</h1>
<p>When a network profile is examined and the profile is type GPRS, the tag MOBILE_RECONFIGURATION_LEVEL is examined, if set. Please see the enum com_RadioReconfigurationLevel for possible values. Depending on the reconfiguration level the radio stack is (re-)configured in different ways. When using the value COM_RECONFIGURE_REGISTER the entire radio stack is reset. A full reset includes:</p>
<ul>
<li>stopping PPP (if running),</li>
<li>disabling the PDP context (if active)</li>
<li>detaching from the packet domain (if attached)</li>
<li>deregistering from the operator (if registered)</li>
<li>registering to the operarator</li>
<li>attaching to the packet domain</li>
<li>activating the PDP context</li>
<li>Starting PPP</li>
</ul>
<p>This may not be what is desired in all circumstances, but, due to historical reasons, is the default behaviour.</p>
<div class="image">
<object type="image/svg+xml" data="mobile_restart_values.svg" style="pointer-events: none;"></object>
<div class="caption">
Mobile stack and possible reconfiguration parameters</div></div>
<p>To facilitate a more granular approach to reconfiguration you may change the aforementioned MOBILE_RECONFIGURATION_LEVEL parameter to achieve different results. When setting an level as the MOBILE_RECONFIGURATION_LEVEL parameter, the reconfiguration step will skip the previous layers, if this layers are already configured and running, therefore reducing the time to reset the mobile interface. If no MOBILE_RECONFIGURATION_LEVEL is set (or it is set to -1), the granular API is not used.</p>
<p>Example XML files follow. Restart entire stack:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;120000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;IDLE_TIMEOUT&gt;0&lt;/IDLE_TIMEOUT&gt;</div>
<div class="line">    &lt;APN&gt;internet.t-mobile&lt;/APN&gt;</div>
<div class="line">    &lt;AUTHENTICATION&gt;CHAP_PAP&lt;/AUTHENTICATION&gt;</div>
<div class="line">    &lt;USERNAME&gt;tm&lt;/USERNAME&gt;</div>
<div class="line">    &lt;PASSWORD&gt;tm&lt;/PASSWORD&gt;</div>
<div class="line">    &lt;SIM_SLOT&gt;1&lt;/SIM_SLOT&gt;</div>
<div class="line">    &lt;RESTART_NETWORK_ON_HOST_FAILURE&gt;0&lt;/RESTART_NETWORK_ON_HOST_FAILURE&gt;</div>
<div class="line">    &lt;MOBILE_RECONFIGURATION_LEVEL&gt;0&lt;/MOBILE_RECONFIGURATION_LEVEL&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>Only restart PPP if possible, but restart lower layers if they are not yet configured:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;120000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;IDLE_TIMEOUT&gt;0&lt;/IDLE_TIMEOUT&gt;</div>
<div class="line">    &lt;APN&gt;internet.t-mobile&lt;/APN&gt;</div>
<div class="line">    &lt;AUTHENTICATION&gt;CHAP_PAP&lt;/AUTHENTICATION&gt;</div>
<div class="line">    &lt;USERNAME&gt;tm&lt;/USERNAME&gt;</div>
<div class="line">    &lt;PASSWORD&gt;tm&lt;/PASSWORD&gt;</div>
<div class="line">    &lt;SIM_SLOT&gt;1&lt;/SIM_SLOT&gt;</div>
<div class="line">    &lt;RESTART_NETWORK_ON_HOST_FAILURE&gt;0&lt;/RESTART_NETWORK_ON_HOST_FAILURE&gt;</div>
<div class="line">    &lt;MOBILE_RECONFIGURATION_LEVEL&gt;3&lt;/MOBILE_RECONFIGURATION_LEVEL&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>Only restart PPP and PDP if possible, but restart lower layers if they are not yet configured:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;120000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;IDLE_TIMEOUT&gt;0&lt;/IDLE_TIMEOUT&gt;</div>
<div class="line">    &lt;APN&gt;internet.t-mobile&lt;/APN&gt;</div>
<div class="line">    &lt;AUTHENTICATION&gt;CHAP_PAP&lt;/AUTHENTICATION&gt;</div>
<div class="line">    &lt;USERNAME&gt;tm&lt;/USERNAME&gt;</div>
<div class="line">    &lt;PASSWORD&gt;tm&lt;/PASSWORD&gt;</div>
<div class="line">    &lt;SIM_SLOT&gt;1&lt;/SIM_SLOT&gt;</div>
<div class="line">    &lt;RESTART_NETWORK_ON_HOST_FAILURE&gt;0&lt;/RESTART_NETWORK_ON_HOST_FAILURE&gt;</div>
<div class="line">    &lt;MOBILE_RECONFIGURATION_LEVEL&gt;2&lt;/MOBILE_RECONFIGURATION_LEVEL&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><p>Only restart PPP, PDP and PD attach if possible, but reconnect operator if currently not registered:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;NETWORK_PROFILE&gt;</div>
<div class="line">    &lt;TYPE&gt;GPRS&lt;/TYPE&gt;</div>
<div class="line">    &lt;DEVICE_NAME&gt;GPRS0&lt;/DEVICE_NAME&gt;</div>
<div class="line">    &lt;STARTUP_MODE&gt;ON-DEMAND&lt;/STARTUP_MODE&gt;</div>
<div class="line">    &lt;<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;120000&lt;/<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>&gt;</div>
<div class="line">    &lt;IDLE_TIMEOUT&gt;0&lt;/IDLE_TIMEOUT&gt;</div>
<div class="line">    &lt;APN&gt;internet.t-mobile&lt;/APN&gt;</div>
<div class="line">    &lt;AUTHENTICATION&gt;CHAP_PAP&lt;/AUTHENTICATION&gt;</div>
<div class="line">    &lt;USERNAME&gt;tm&lt;/USERNAME&gt;</div>
<div class="line">    &lt;PASSWORD&gt;tm&lt;/PASSWORD&gt;</div>
<div class="line">    &lt;SIM_SLOT&gt;1&lt;/SIM_SLOT&gt;</div>
<div class="line">    &lt;RESTART_NETWORK_ON_HOST_FAILURE&gt;0&lt;/RESTART_NETWORK_ON_HOST_FAILURE&gt;</div>
<div class="line">    &lt;MOBILE_RECONFIGURATION_LEVEL&gt;1&lt;/MOBILE_RECONFIGURATION_LEVEL&gt;</div>
<div class="line">&lt;/NETWORK_PROFILE&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_A1_AUTHEX_AUTHN"></a>
Appendix A1: Mutual TLS authentication: How to use AuthEx / AuthN / asymmetric customer keys with TLS and EAP (Wi-Fi and LAN)</h1>
<p>The AuthEx (VOS2 only), AuthN (VOS3 only) and VRKv2 loaded customer asymmetric keys (both, VOS2 and VOS3) can be used to authenticate a terminal against a peer. This can be either plain TLS connections or EAP based authentications for LAN and Wi-Fi. AuthEx and AuthN are Verifone preloaded unique keys while customer keys can be loaded at any time and are fully under a customers control.</p>
<p>As storage location and usage under VOS2 and VOS3 slightly differ. Refer to the following subsections to find out more about a particular operating system.</p>
<h2><a class="anchor" id="sec_com_APPENDIX_A1_AUTHEX_AUTHN_VOS2"></a>
VOS2 Specifics</h2>
<p>The name of the pre-loaded terminal specific key for terminal authentication is AuthEx. It is part of the so called Warrantied Keys. The AuthEx key itself is securely stored in the file system encrypted by a secret stored in the Vault. The storage location of the encrypted is typically /mnt/flash/system/rkeys/usr1/key0.der. In the same directory the according public key certificate is stored in plain format: /mnt/flash/system/rkeys/usr1/key0.crt.</p>
<p>Customer loaded asymmetric keys encrypted by a Vault stored secret as it is done for the AuthEx key and are stored under /mnt/flash/system/generickeys/usr1/. The same directory contains the associated public key certificate.</p>
<p>In order to use this Vault secured AuthEx key or customer loaded keys from a SSL/TLS connection profile or an EAP network he following must be specified in the profiles:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">AuthEx KEY </th><th class="markdownTableHeadNone">AuthEx private key </th><th class="markdownTableHeadNone">AuthEx public key certificate  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Storage Type </td><td class="markdownTableBodyNone">regular file encrypted by Vault secret </td><td class="markdownTableBodyNone">regular file  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Storage Location </td><td class="markdownTableBodyNone">/mnt/flash/system/rkeys/usr1/key0.der </td><td class="markdownTableBodyNone">/mnt/flash/system/rkeys/usr1/key0.crt  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TLS connection profile </td><td class="markdownTableBodyNone">SSL_OWN_PKEY="vault:" </td><td class="markdownTableBodyNone">SSL_OWN_CERT="/mnt/flash/system/rkeys/usr1/key0.crt"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP network profile </td><td class="markdownTableBodyNone">EAP_PRIVKEY="vault:" </td><td class="markdownTableBodyNone">EAP_CLIENTCERT="/mnt/flash/system/rkeys/usr1/key0.crt"  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CUSTOMER KEY </th><th class="markdownTableHeadNone">Customer private key </th><th class="markdownTableHeadNone">Customer public key certificate  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Storage Type </td><td class="markdownTableBodyNone">regular file encrypted by Vault secret </td><td class="markdownTableBodyNone">regular file  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Storage Location </td><td class="markdownTableBodyNone">/mnt/flash/system/generickeys/usr1/{customerkeyname}.der </td><td class="markdownTableBodyNone">/mnt/flash/system/generickeys/usr1/{customerkeyname}.crt  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TLS connection profile </td><td class="markdownTableBodyNone">SSL_OWN_PKEY="vault:/mnt/flash/system/generickeys/usr1/{customerkeyname}.der" </td><td class="markdownTableBodyNone">SSL_OWN_CERT="/mnt/flash/system/generickeys/usr1/{customerkeyname}.crt"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAP network profile </td><td class="markdownTableBodyNone">EAP_PRIVKEY="vault:/mnt/flash/system/generickeys/usr1/{customerkeyname}.der" </td><td class="markdownTableBodyNone">EAP_CLIENTCERT="/mnt/flash/system/generickeys/usr1/{customerkeyname}.crt"  </td></tr>
</table>
<h2><a class="anchor" id="sec_com_APPENDIX_A1_AUTHEX_AUTHN_VOS3"></a>
VOS3 Specifics</h2>
<p>The name of the pre-loaded terminal specific key for terminal authentication is AuthN. It is part of the so called Warrantied Keys. The AuthN key and its public key certificate are securely stored in the K81 secure processor and can only be accessed by an OpenSSL engine via SDI.</p>
<p>Customer loaded asymmetric keys and associated certificates are stored in K81 secure processor and are also only accessible through the OpenSSL engine mentioned.</p>
<p>In order to use this Vault secured AuthN key or customer loaded keys from a SSL/TLS connection profile or an EAP network the following must be specified in the profiles:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">AuthN KEY </th><th class="markdownTableHeadNone">AuthN private key </th><th class="markdownTableHeadNone">AuthN public key certificate  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Storage Location </td><td class="markdownTableBodyNone">stored on secure processor </td><td class="markdownTableBodyNone">stored on secure processor  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TLS connection profile </td><td class="markdownTableBodyNone">SSL_OWN_PKEY="vault:VFI_AUTHN_RSA" </td><td class="markdownTableBodyNone">SSL_OWN_CERT="vault:VFI_AUTHN_RSA"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP network profile </td><td class="markdownTableBodyNone">EAP_PRIVKEY="vault:VFI_AUTHN_RSA" </td><td class="markdownTableBodyNone">EAP_CLIENTCERT="vault:VFI_AUTHN_RSA"  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CUSTOMER KEY </th><th class="markdownTableHeadNone">Customer private key </th><th class="markdownTableHeadNone">Customer public key certificate  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Storage Location </td><td class="markdownTableBodyNone">stored on secure processor </td><td class="markdownTableBodyNone">stored on secure processor  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TLS connection profile </td><td class="markdownTableBodyNone">SSL_OWN_PKEY="vault:{customerkeyidentifier}" </td><td class="markdownTableBodyNone">SSL_OWN_CERT="vault:{customerkeyidentifier}"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EAP network profile </td><td class="markdownTableBodyNone">EAP_PRIVKEY="vault:{customerkeyidentifier}" </td><td class="markdownTableBodyNone">EAP_CLIENTCERT="vault:{customerkeyidentifier}"  </td></tr>
</table>
<h1><a class="anchor" id="sec_com_APPENDIX_A2_WAKE_ON_WLAN"></a>
Appendix A2: Wake on WLAN</h1>
<dl class="section warning"><dt>Warning</dt><dd>This chapter applies only for VOS3</dd></dl>
<p>In VOS3, a new method of preconfiguring the WiFi's Wake-on-WLAN settings has been introduced. A special file, called <b>com-wowlan.conf</b>, must be placed inside <b>/mnt/appdata/versioned/globalshare/adk-com</b> directory. This file must contain settings for the two supported forms of waking up the Terminals from a certain WLAN packet - either from a Magic Packet or from any specified Ethernet frame pattern. The format of that file is JSON. It, of course, has to be readable by the comdaemon.</p>
<p><b>com-wowlan.conf</b> file - if present - is read by the comdaemon during power-up sequence of the WLAN module. The contained WoWLAN configuration settings are then imported into the ADK-COM/comdaemon internal settings database. On successful import, the file is deleted from the file system. For the comdaemon process to be able to do that, the directory permissions of <b>/mnt/appdata/versioned/globalshare/adk-com</b> must be set accordingly.</p>
<p>A sample content of a <b>com-wowlan.conf</b> is this:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;version&quot;</span>: 1,</div>
<div class="line">    <span class="stringliteral">&quot;magic_packet&quot;</span>: {</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">true</span></div>
<div class="line">    },</div>
<div class="line">    <span class="stringliteral">&quot;pattern_match&quot;</span>: {</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;patterns&quot;</span>: [</div>
<div class="line">            <span class="stringliteral">&quot;16:08:55555555555555555555555555555555000000000000:00000000003fffff&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;06:01:FFFFFFFFFFFF:FC&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;40:08:00000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555555555555555555555555000000000000:00000000003fffff&quot;</span></div>
<div class="line">        ]</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Description of the different JSON members:</p><ul>
<li>version: The version of the JSON format (currently neither used nor needed to set)</li>
<li>magic_packet: Settings for wake from a magic packet<ul>
<li>enabled: Set to true if magic paket is needed or false otherwise</li>
</ul>
</li>
<li>pattern_match: Settings for wake from either module internal default Ethernet frame patterns or the following defined patterns<ul>
<li>enabled: Set to true if wake from a matching Ethernet frame pattern is needed or false otherwise</li>
<li>patterns: array of pattern strings<ul>
<li>each defining a pattern and a mask for a certain Ethernet frame</li>
<li>optional: pattern array can be left out, so the default Quectel/Qualcomm filter patterns are taken</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>"magic_packet" and "pattern_match" can both be active if needed, so a terminal would wake from the one or the other method.</p>
<p>A pattern string has the following format:</p>
<p><em>[pattern size]:[pattern mask size]:[pattern]:[pattern mask]</em></p>
<ul>
<li>pattern size: Size of pattern string part as hexadecimal ASCII string</li>
<li>pattern mask size: Size of pattern mask string part as hexadecimal ASCII string</li>
<li>pattern: Ethernet-II frame pattern beginning with octet 1 of an Ethernet frame as hexadecimal ASCII string</li>
<li>pattern mask: a bitmask where each bit represents one <b>byte</b> of the <b>pattern</b>. If a bit in the mask is unset, the corresponding Pattern Byte is ignored and the other way around.</li>
</ul>
<p>Then the newly imported or - in case no file was present - previous WoWLAN settings are applied on the WLAN software stack.</p>
<p>Example (taken from Quectel Power Save Mode Wi-Fi User Guide):<br  />
40:08:00000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555555555555555555555555000000000000:00000000003fffff</p>
<p>'40': 40<sub>16</sub> means, the pattern length is 64<sub>10</sub> bytes.<br  />
'08': 08<sub>16</sub> means, the pattern mask length is 08<sub>10</sub> bytes.<br  />
'00000000003fffff' indicates that we don't care about the first 42 bytes in the pattern, i.e. first 42 '00' in the pattern. It means we want to skip the content of Ethernet-II header, IP header, and UDP header.</p>
<p>The pattern payload data consists of a 14-byte Ethernet data header plus a 20-byte IP data frame header and an 8-byte UDP header. That is the corresponding header of 42 bytes plus 22 bytes of data payload information. 00000000003fffff &ndash; each bit of this value corresponds to one byte of a packet. The 8-byte pattern mask corresponds to 64 bytes of pattern payload data. In the pattern mask field, a bit value of 1 indicates that matching filtering is enabled, and a bit value of 0 indicates that we do not care.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_A3_IPV6_CONFIGURATION"></a>
Appendix A3: IPv6 Protocol Configuration</h1>
<dl class="section warning"><dt>Warning</dt><dd>This chapter applies only for VOS2</dd></dl>
<p>VOS2 comes with a default IPv6 protocol configuration which is applied automatically unless a custom value is set through ADK-COM. By setting the property COM_PROP_IPV6_CONFIG_MODE any application can override this value to satify their needs. Any value defined in struct com_IPV6Config can be applied. The value is stored persistantly and re-applied after reboot.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_A4_SIM_ACCESS"></a>
Appendix A4: Restricted SIM Access</h1>
<p>The Restricted SIM Access can be used via the <a class="el" href="libcom3_8h.html">libcom3.h</a> API. Please see <a class="el" href="pg_com_users_guide.html#sec_com_extended_cpp_interface">Extended C++ interface</a> for general information on the <a class="el" href="libcom3_8h.html">libcom3.h</a> interface.</p>
<p>There is one dedicated libcom3 command which is able to wrap the full AT command AT+CRSM (Restricted (U)SIM Access): <a class="el" href="namespacevficom_1_1cmd.html#a1fd1468bac3dd5a05fa3d5acac24bcf8" title="Restricted SIM Access via AT+CRSM.">vficom::cmd::sim_access</a>. The parameters taken by AT+CRSD command need to be transfered via a JSON structure to ADK-COM, are then internally translated to the mentioned AT command and finally sent to the cellular modem for processing. The result of the AT command is tranfered back to the caller also via a dedicated JSON structure.</p>
<dl class="section warning"><dt>Warning</dt><dd>The cellular modem must be powered before use of this command, otherwise the command will fail with the according error code</dd></dl>
<p>The input JSON AT command must contain all the values one would provide to the plain AT command.</p>
<p>The AT command reference specifies the following:</p>
<div class="fragment"><div class="line">AT+CRSM=&lt;<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">command</a>&gt;[,&lt;fileID&gt;[,&lt;<a class="code" href="nfc_8cpp.html#a6c2a9f7efd46f0160f3037869924d6ce">P1</a>&gt;,&lt;<a class="code" href="nfc_8cpp.html#ae00a52dba55d31948c377fa85d385b87">P2</a>&gt;,&lt;P3&gt;[,&lt;data&gt;][,&lt;pathId&gt;]]]</div>
</div><!-- fragment --><p>And to wrap that into JSON, the following JSON members exist:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">JSON member </th><th class="markdownTableHeadNone">JSON value type </th><th class="markdownTableHeadNone">description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">command </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">(U)SIM command number  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">fileID </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">Identifier for an elementary data file on (U)SIM, if used by &lt;command&gt;.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">P1 </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">parameter 1 transfered by the MT to the (U)SIM  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">P2 </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">parameter 2 transfered by the MT to the (U)SIM  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">P3 </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">parameter 3 transfered by the MT to the (U)SIM  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">data </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">Information which shall be written to the (U)SIM (hexadecimal character format). Note that the string may need to be placed inside double quotation marks  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pathID </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">The directory path of an elementary file on a SIM/UICC in hexadecimal format. Note that the string may need to be placed inside double quotation marks  </td></tr>
</table>
<p>Sample JSON input: The AT command AT+CRSM=176,28542,0,0,11 will be wrapped into JSON: </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;command&quot;</span>: 176,</div>
<div class="line">    <span class="stringliteral">&quot;fileID&quot;</span>:  28542,</div>
<div class="line">    <span class="stringliteral">&quot;P1&quot;</span>:      0,</div>
<div class="line">    <span class="stringliteral">&quot;P2&quot;</span>:      0,</div>
<div class="line">    <span class="stringliteral">&quot;P3&quot;</span>:      1</div>
<div class="line">}</div>
</div><!-- fragment --><p>The AT command response looks like this:</p>
<div class="fragment"><div class="line">+CRSM: &lt;sw1&gt;,&lt;sw2&gt;[,&lt;response&gt;]</div>
</div><!-- fragment --><p>It is wrapped by ADK-COM into a JSON structure with following members:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">JSON member </th><th class="markdownTableHeadNone">JSON value type </th><th class="markdownTableHeadNone">description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sw1 </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">Information from the (U)SIM about the execution of the actual command  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sw2 </td><td class="markdownTableBodyNone">number </td><td class="markdownTableBodyNone">Information from the (U)SIM about the execution of the actual command  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">response </td><td class="markdownTableBodyNone">string </td><td class="markdownTableBodyNone">successful or failed execution of the command. Response of a successful completion of the command previously issued (hexadecimal character format; refer to AT+CSCS)  </td></tr>
</table>
<p>Sample JSON response structure: </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;sw1&quot;</span>: 144,</div>
<div class="line">    <span class="stringliteral">&quot;sw2&quot;</span>: 0,</div>
<div class="line">    <span class="stringliteral">&quot;response&quot;</span>: <span class="stringliteral">&quot;A80B7CDB22F210D5BDFF00&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>The following sample source code demonstrates the usage in C++:</p>
<div class="fragment"><div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// send this AT command: AT+CRSM=176,28542,0,0,11</span></div>
<div class="line"><span class="comment">// Reads EFLOCI field (28542 (6F7E  in hex))</span></div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> at_cmd;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;command&quot;</span>) = 176;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;fileID&quot;</span>)  = 28542;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P1&quot;</span>)      = 0;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P2&quot;</span>)      = 0;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P3&quot;</span>)      = 11;</div>
<div class="line"> </div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)              = <a class="code" href="namespacevficom_1_1cmd.html#a1fd1468bac3dd5a05fa3d5acac24bcf8">vficom::cmd::sim_access</a>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::sim_access::timeout</a>)  = 3000;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a462c16af73a1fdeb0621e8971351714a">vficom::cmdparam::in::sim_access::json_cmd</a>) = at_cmd.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>();</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbc">vficom::status::PipeStatus</a> pipestatus(<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaef2863a469df3ea6871d640e3669a2f2">vficom::status::INVALID</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line">    pipestatus = cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 500 + in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::sim_access::timeout</a>).getInt());</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">    pipestatus = ex.<a class="code" href="classvficom_1_1_exception.html#a525b39dd291368956cb3b122d6009de5">getError</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(pipestatus != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> err = <span class="keyword">static_cast&lt;</span><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a><span class="keyword">&gt;</span>(out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out.html#a2d25468a9609684dc26c6ef8afea754d">vficom::cmdparam::out::comerr</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>());</div>
<div class="line"><span class="keywordflow">if</span>(err != <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;An error occured during SIM access: %s\n&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(err));</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>;</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.load(out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">vficom::cmdparam::out::sim_access::json_resp</a>).getString(<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"> </div>
<div class="line">std::string prettyString;</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.prettyDump(prettyString);</div>
<div class="line">printf(<span class="stringliteral">&quot;%s\n&quot;</span>, prettyString.c_str());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// &quot;sw1&quot; and &quot;sw2&quot; are always present while &quot;response&quot; is optional</span></div>
<div class="line"><span class="keywordflow">if</span>(!<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;sw1&quot;</span>) || !<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;sw2&quot;</span>)) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;sw1 or sw2 not present. Format failure\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> sw1(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;sw1&quot;</span>));</div>
<div class="line"><span class="keywordtype">int</span> sw2(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;sw2&quot;</span>));</div>
<div class="line">std::string response(<span class="stringliteral">&quot;&lt;NONE&gt;&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;response&quot;</span>)) {</div>
<div class="line">    response = <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;response&quot;</span>).getString();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">printf(<span class="stringliteral">&quot;sw1: %d\nsw2: %d\nresponse: %s\n&quot;</span>, sw1, sw2, response.c_str());</div>
</div><!-- fragment --><p>And one more...</p>
<div class="fragment"><div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> in, out;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// send this AT command: AT+CRSM=214,28542,0,0,11,&quot;FFFFFFFFFFFFFFFFFFFFFF&quot;</span></div>
<div class="line"><span class="comment">// Clean EFLOCI field (28542 (6F7E  in hex))</span></div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> at_cmd;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;command&quot;</span>) = 214;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;fileID&quot;</span>)  = 28542;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P1&quot;</span>)      = 0;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P2&quot;</span>)      = 0;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;P3&quot;</span>)      = 11;</div>
<div class="line">at_cmd(<span class="stringliteral">&quot;data&quot;</span>)    = <span class="stringliteral">&quot;\&quot;FFFFFFFFFFFFFFFFFFFFFF\&quot;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a>)              = <a class="code" href="namespacevficom_1_1cmd.html#a1fd1468bac3dd5a05fa3d5acac24bcf8">vficom::cmd::sim_access</a>;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::sim_access::timeout</a>)  = 30000;</div>
<div class="line">in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a462c16af73a1fdeb0621e8971351714a">vficom::cmdparam::in::sim_access::json_cmd</a>) = at_cmd.<a class="code" href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">dump</a>();</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbc">vficom::status::PipeStatus</a> pipestatus(<a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaef2863a469df3ea6871d640e3669a2f2">vficom::status::INVALID</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <a class="code" href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a> cmdPipe;</div>
<div class="line">    pipestatus = cmdPipe.<a class="code" href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">sendRecv</a>(in, out, 500 + in(<a class="code" href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::sim_access::timeout</a>).getInt());</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="classvficom_1_1_exception.html">vficom::Exception</a> &amp;ex) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, ex.<a class="code" href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">what</a>());</div>
<div class="line">    pipestatus = ex.<a class="code" href="classvficom_1_1_exception.html#a525b39dd291368956cb3b122d6009de5">getError</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(pipestatus != <a class="code" href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a> err = <span class="keyword">static_cast&lt;</span><a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a><span class="keyword">&gt;</span>(out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out.html#a2d25468a9609684dc26c6ef8afea754d">vficom::cmdparam::out::comerr</a>).<a class="code" href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">getInt</a>());</div>
<div class="line"><span class="keywordflow">if</span>(err != <a class="code" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;An error occured during SIM access: %s\n&quot;</span>, <a class="code" href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a>(err));</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a> <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>;</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.load(out(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">vficom::cmdparam::out::sim_access::json_resp</a>).getString(<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"> </div>
<div class="line">std::string prettyString;</div>
<div class="line"><a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.prettyDump(prettyString);</div>
<div class="line">printf(GRN <span class="stringliteral">&quot;%s\n&quot;</span>, prettyString.c_str());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// &quot;sw1&quot; and &quot;sw2&quot; are always present while &quot;response&quot; is optional</span></div>
<div class="line"><span class="keywordflow">if</span>(!<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;sw1&quot;</span>) || !<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;sw2&quot;</span>)) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;sw1 or sw2 not present. Format failure\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> sw1(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;sw1&quot;</span>));</div>
<div class="line"><span class="keywordtype">int</span> sw2(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;sw2&quot;</span>));</div>
<div class="line">std::string response;</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>.exists(<span class="stringliteral">&quot;response&quot;</span>)) {</div>
<div class="line">    response = <a class="code" href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">json_resp</a>(<span class="stringliteral">&quot;response&quot;</span>).getString();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">printf(GRN <span class="stringliteral">&quot;sw1: %d\nsw2: %d\nresponse: %s\n&quot;</span>, sw1, sw2, response.c_str());</div>
</div><!-- fragment --><h1><a class="anchor" id="sec_com_APPENDIX_A5_ORANGE_DONGLES"></a>
Appendix A5: Orange Dongle Support</h1>
<dl class="section warning"><dt>Warning</dt><dd>Orange Dongles are only supported on VOS2 and VOS3/NEO.</dd></dl>
<p>Many different device configurations with connected Orange Dongles can be found in <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_D_Devices">Appendix D: Devices</a>.</p>
<p>This chapters aims to provide detailed descriptions of all the device properties provided by the ADKCOM API to manage the different dongles from software and to read certain status information if applicable.</p>
<p>The following device properties related to Orange Dongles are available for setting and getting information:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property Name </th><th class="markdownTableHeadNone">Direction </th><th class="markdownTableHeadNone">Dongle Type </th><th class="markdownTableHeadNone">Data Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_DONGLE_INFO </td><td class="markdownTableBodyNone">read-only </td><td class="markdownTableBodyNone">D0, D1, D2, D3 </td><td class="markdownTableBodyNone">String (JSON) </td><td class="markdownTableBodyNone">Get general information about the currently attached Orange Dongle  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_DONGLE_ETHERNET_INFO </td><td class="markdownTableBodyNone">read-only </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">String (JSON) </td><td class="markdownTableBodyNone">Get a list of with Ethernet Port information of all supported Ethernet Switch ports  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_ACTIVATION </td><td class="markdownTableBodyNone">read/write </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">String (JSON) </td><td class="markdownTableBodyNone">Enable or disable certain Ethernet Switch port. A read returns the current activation state of each port.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_STATCOUNT </td><td class="markdownTableBodyNone">read-only </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">String (JSON) </td><td class="markdownTableBodyNone">Retrieve a list of Switch port statistic counters  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D3_USB_A_5V_OUT </td><td class="markdownTableBodyNone">read/write </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Enable or disable 5V power output on USB-A port by writing this property. Current status can be read.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D2_D3_USB_RJ45_5V_OUT </td><td class="markdownTableBodyNone">read/write </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Enable or disable 5V power output on USB-RJ45 port. Current status can be read  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D2_D3_PoUSB_RJ45_12V_IN </td><td class="markdownTableBodyNone">read-only </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Detect 12V power input on USB-RJ45 port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D2_D3_USB_RJ45_DATA </td><td class="markdownTableBodyNone">read/write </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Enable or disable data lines on USB-RJ45 port. Current status can be read  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D3_PoSERIAL_12V_IN </td><td class="markdownTableBodyNone">read-only </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Detect 12V power input on serial port  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM_PROP_ORANGE_D3_SERIAL_DATA </td><td class="markdownTableBodyNone">read/write </td><td class="markdownTableBodyNone">D2, D3 </td><td class="markdownTableBodyNone">Integer (0 or 1) </td><td class="markdownTableBodyNone">Enable or disable the serial port data lines  </td></tr>
</table>
<h2><a class="anchor" id="subsec_A5_ORANGE_COM_PROP_ORANGE_DONGLE_INFO"></a>
COM_PROP_ORANGE_DONGLE_INFO</h2>
<p>This is property to retrieve common information about the currently attached Orange Dongle.</p>
<p>Following JSON structure is returned by reading the property value. This is only an example and the actual values can differ. </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;dongle-type&quot;</span>: <span class="stringliteral">&quot;D0&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;part-number&quot;</span>: <span class="stringliteral">&quot;445-112-01-A&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;serial-number&quot;</span>: <span class="stringliteral">&quot;869E97&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dongle-type </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The Orange Dongle type: either "D0", "D1", "D2" or "D3"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">part-number </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The Orange Dongle Part Number PN  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">serial-number </td><td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">The Orange Dongle Serial Number  </td></tr>
</table>
<p>If no Orange Dongle is connected while this property is read, the error code <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a721b56401790a33a0507c4960800cd2d">COM_ERR_NET_NOT_CONNECTED</a> is returned.</p>
<h2><a class="anchor" id="subsec_A5_ORANGE_COM_PROP_ORANGE_DONGLE_ETHERNET_INFO"></a>
COM_PROP_ORANGE_DONGLE_ETHERNET_INFO</h2>
<p>This property is to retrieve common information about each supported Ethernet Switch port of an Orange Dongle (D2 and D3 only).</p>
<p>Following JSON array structure is returned by reading the property value. This is only an example and the actual values can differ. Also, the array size depends on the used Orange Dongle type and supported Ethernet ports: a D2 dongle will return two array elements while a D3 dongle will return four elements.</p>
<div class="fragment"><div class="line">[</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;duplex_full&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 1,</div>
<div class="line">        <span class="stringliteral">&quot;speed&quot;</span>: 1000</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;duplex_full&quot;</span>: <span class="keyword">false</span>,</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>: <span class="keyword">false</span>,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 2,</div>
<div class="line">        <span class="stringliteral">&quot;speed&quot;</span>: 10</div>
<div class="line">    }</div>
<div class="line">]</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">port </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">number of the Switch port starting at 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">duplex_full </td><td class="markdownTableBodyNone">Boolean </td><td class="markdownTableBodyNone">True if Full Duplex mode, False if Half Duplex  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">enabled </td><td class="markdownTableBodyNone">Boolean </td><td class="markdownTableBodyNone">True if the Switch Port is enabled and accepts RX and TX packets  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">link </td><td class="markdownTableBodyNone">Boolean </td><td class="markdownTableBodyNone">True if a link was detected  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">speed </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">current Ethernet link speed in Mbps  </td></tr>
</table>
<p>If no Orange Dongle is connected while this property is read, the error code <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a721b56401790a33a0507c4960800cd2d">COM_ERR_NET_NOT_CONNECTED</a> is returned.</p>
<h2><a class="anchor" id="subsec_A5_ORANGE_COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_ACTIVATION"></a>
COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_ACTIVATION</h2>
<p>This property is to read and write the activation state (enable/disable) for each supported Ethernet Switch port of an Orange Dongle (D2 and D3 only). 'Disabled' means that the Switch port does not transmit any packets in TX or RX direction. 'Enabled' means full connectivity.</p>
<p>When this property is read, it will always return a full status list of all Ethernet port while write command will accept only a subset (if the activation state only for certain ports shall be changed).</p>
<p>Following JSON array structure is returned by reading the property value. This is only an example and the actual values can differ.</p>
<div class="fragment"><div class="line">[</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 1</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;enabled&quot;</span>: <span class="keyword">false</span>,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 2</div>
<div class="line">    }</div>
<div class="line">]</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">port </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">number of the Switch port starting at 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">enabled </td><td class="markdownTableBodyNone">Boolean </td><td class="markdownTableBodyNone">True if the Switch Port is enabled and accepts RX and TX packets  </td></tr>
</table>
<p>If no Orange Dongle is connected while this property is read or written, the error code <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a721b56401790a33a0507c4960800cd2d">COM_ERR_NET_NOT_CONNECTED</a> is returned.</p>
<h2><a class="anchor" id="subsec_A5_ORANGE_COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_STATCOUNT"></a>
COM_PROP_ORANGE_DONGLE_ETHERNET_PORT_STATCOUNT</h2>
<p>This property is to retrieve statistic counters for each supported Ethernet Switch port of an Orange Dongle (D2 and D3 only).</p>
<dl class="section warning"><dt>Warning</dt><dd>The execution of this command will take approximately 30 seconds to complete</dd></dl>
<p>The return value will always contain a full statistic counter list of all available Ethernet ports formated as JSON array.</p>
<div class="fragment"><div class="line">[</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;nRx1023BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx127BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx255BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx511BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx64BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxAlignErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxBadBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxBroadcastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxFCSErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxFilteredPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodPausePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxMaxBytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxMulticastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxOversizeErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxOversizeGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnderSizeErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnderSizeGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnicastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx1023BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx127BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx255BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx511BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx64BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxAcmDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxBroadcastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxExcessCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxGoodBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxLateCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMaxBytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMultCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMulticastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxPauseCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxSingleCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxUnicastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 1</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">        <span class="stringliteral">&quot;nRx1023BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx127BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx255BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx511BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRx64BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxAlignErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxBadBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxBroadcastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxFCSErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxFilteredPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodPausePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxMaxBytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxMulticastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxOversizeErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxOversizeGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnderSizeErrorPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnderSizeGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nRxUnicastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx1023BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx127BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx255BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx511BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTx64BytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxAcmDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxBroadcastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxDroppedPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxExcessCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxGoodBytes&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxGoodPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxLateCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMaxBytePkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMultCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxMulticastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxPauseCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxSingleCollCount&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;nTxUnicastPkts&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>: 2</div>
<div class="line">    }</div>
<div class="line">]</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key </th><th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">port </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">number of the Switch port starting at 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxGoodPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of received good packets  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxUnicastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Unicast Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxBroadcastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Broadcast Ethernet frames  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxMulticastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Multicast Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxFCSErrorPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received CRC errors  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxUnderSizeGoodPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received good undersized Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxOversizeGoodPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received good oversized Ethernet frames  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxUnderSizeErrorPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received bad undersized Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxGoodPausePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received good Pause Ethernet frames  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxOversizeErrorPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received bad oversized Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxAlignErrorPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames with alignment errors  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxFilteredPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received filtered Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRx64BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of size 64 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRx127BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of size 127 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRx255BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of size 255 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRx511BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of size 511 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRx1023BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of size 1023 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxMaxBytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Received Ethernet frames of maximum size  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxGoodPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of transmitted good packets  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxUnicastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Unicast Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxBroadcastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Broadcast Ethernet frames  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxMulticastPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Multicast Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxSingleCollCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of single collisions during transmission  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxMultCollCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of multiple collisions during transmission  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxLateCollCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of late collisions during transmission  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxExcessCollCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of excess collisions during transmission  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxCollCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Total number of collisions during transmission  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxPauseCount </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of transmitted Pause Ethernet frames  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTx64BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of size 64 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTx127BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of size 127 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTx255BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of size 255 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTx511BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of size 511 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTx1023BytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of size 1023 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxMaxBytePkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Transmitted Ethernet frames of maximum size  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nTxDroppedPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of dropped transmitted packets  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxAcmDroppedPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of ACM dropped transmitted packets  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxDroppedPkts </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Number of dropped received packets  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nRxGoodBytes </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Total number of bytes received  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nRxBadBytes </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Total number of bad bytes received  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nTxGoodBytes </td><td class="markdownTableBodyNone">Number </td><td class="markdownTableBodyNone">Total number of bytes transmitted  </td></tr>
</table>
<p>If no Orange Dongle is connected while this property is read, the error code <a class="el" href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a721b56401790a33a0507c4960800cd2d">COM_ERR_NET_NOT_CONNECTED</a> is returned.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_A6_FAST_ROAMING"></a>
Appendix A6: WiFi Fast Roaming (IEEE 802.11 k/v/r)</h1>
<p>WiFi Fast Roaming (i.e. FT) is supported, except on devices with CYW43340 hardware (V200c, V400c, P200, P400).</p>
<ul>
<li>FT standards IEEE 802.11k and IEEE 802.11r are enabled and the following FT Authentication Key Management (AKM) suites are supported: FT-PSK (WPA2-Personal), FT-EAP (WPA2-Enterprise).</li>
<li>BSS Transition feature defined with IEEE 802.11v is disabled</li>
</ul>
<p>The FT capability is indicated by feature flag COM_FEATURE3_WIFI_FAST_ROAMING_80211R. FT is used on any device that supports the feature, there is no further configuration needed to activate the FT feature.</p>
<h1><a class="anchor" id="sec_com_APPENDIX_A7_ORANGE_UPLINK"></a>
Appendix A7: Orange Dongle Link Events</h1>
<p>Orange Dongles with built in Ethernet switches (D2 and D3) do not report link changes of the external ports on the internal interface. ADK-COM provides API to read link status of each port of the connected Orange Dongle (see <a class="el" href="pg_com_users_guide.html#sec_com_APPENDIX_A5_ORANGE_DONGLES">Orange Dongle Support</a>), however in order to dynamically provide link events and configure or deconfigure the interface, it is unknown beforehand what port the uplink Ethernet cable is attached to.</p>
<p>In order to solve this problem and notify of the link changes the COM_PROP_ORANGE_UPLINK_PORT property was added. Supplying the port number from com_OrangePortNumber to this property configures ADK-COM to monitor and report link events of that port. Providing COM_ORANGE_PORT_NONE disables any port monitoring.</p>
<p>For compatibility reasons, the default uplink port value is set to COM_ORANGE_PORT_NONE, meaning any port monitoring is disabled.</p>
<dl class="section note"><dt>Note</dt><dd>This feature is available only on VOS3 and only for D2 and D3 dongles.</dd></dl>
<hr  />
<p> End of the document </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="alibcom_8h_html_a152866fbf4a044141489d89cef1d8b56"><div class="ttname"><a href="libcom_8h.html#a152866fbf4a044141489d89cef1d8b56">com_NetworkRouteInfo_IPv4::dstAddr</a></div><div class="ttdeci">char dstAddr[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1288</div></div>
<div class="ttc" id="alibcom_8h_html_a75f4fdddee4727f1598d5f4131a38f48"><div class="ttname"><a href="libcom_8h.html#a75f4fdddee4727f1598d5f4131a38f48">com_NetworkInterfaceInfo::HW_Addr</a></div><div class="ttdeci">char HW_Addr[COM_ETH_MAC_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1261</div></div>
<div class="ttc" id="alibcom_8h_html_ad4fe3ddbd316afb8972ba2f2e5a5d5c9"><div class="ttname"><a href="libcom_8h.html#ad4fe3ddbd316afb8972ba2f2e5a5d5c9">com_NetworkRouteInfo_IPv6::dstAddr</a></div><div class="ttdeci">char dstAddr[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1304</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item_html_a981c8da2d475a8aae111a7e04c059eb1"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a981c8da2d475a8aae111a7e04c059eb1">vficom::cmdparam::in::stk_write::msg::tr::select_item::hex_string</a></div><div class="ttdeci">const COM3_DllSpec char hex_string[]</div><div class="ttdoc">string</div></div>
<div class="ttc" id="alibcom_8h_html_a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89"><div class="ttname"><a href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa4f39fa57933e34da3b8ee18daf976e89">COM_PROP_POWER_MANAGEMENT_MODE</a></div><div class="ttdeci">@ COM_PROP_POWER_MANAGEMENT_MODE</div><div class="ttdef"><b>Definition:</b> libcom.h:299</div></div>
<div class="ttc" id="alibcom_8h_html_aec65bb14d18ca83d519299e117f20469"><div class="ttname"><a href="libcom_8h.html#aec65bb14d18ca83d519299e117f20469">com_SetDevicePropertyInt</a></div><div class="ttdeci">DllSpec int com_SetDevicePropertyInt(enum com_DevicePropertyInt intProperty, int value, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_ab32f80509076e8fdd54922a117a14c6c"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#ab32f80509076e8fdd54922a117a14c6c">vficom::cmdparam::in::stk_write::msg::usat_command</a></div><div class="ttdeci">const COM3_DllSpec char usat_command[]</div><div class="ttdoc">string - &quot;STKTR&quot; or &quot;STKENV&quot;</div></div>
<div class="ttc" id="alibcom_8h_html_ad7c2e1cb200073ed64c64285a5f37231"><div class="ttname"><a href="libcom_8h.html#ad7c2e1cb200073ed64c64285a5f37231">DllSpec</a></div><div class="ttdeci">#define DllSpec</div><div class="ttdef"><b>Definition:</b> libcom.h:15</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1ping_html_af8f0e2d098b1678a47d88a4960f4a4ca"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#af8f0e2d098b1678a47d88a4960f4a4ca">vficom::cmdparam::out::ping::rtt_min</a></div><div class="ttdeci">const COM3_DllSpec char rtt_min[]</div><div class="ttdoc">integer - lowest RTT in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58ab6e00250e492bdcaef29ff6a44c54b2a"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ab6e00250e492bdcaef29ff6a44c54b2a">COM_ERR_CON_NOFILE</a></div><div class="ttdeci">@ COM_ERR_CON_NOFILE</div><div class="ttdef"><b>Definition:</b> libcom.h:457</div></div>
<div class="ttc" id="alibcom_8h_html_a8239249db998e4aac1b0477ec2e1b40faf6a88224f3a2b5849158d946dc3090d0"><div class="ttname"><a href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40faf6a88224f3a2b5849158d946dc3090d0">COM_EVENT_CONNECTION_ESTABLISHED</a></div><div class="ttdeci">@ COM_EVENT_CONNECTION_ESTABLISHED</div><div class="ttdef"><b>Definition:</b> libcom.h:55</div></div>
<div class="ttc" id="alibcom_8h_html_a0190dbf359f1d33b75b311ad622b0c6caeb14a16055a82e95e4ba44e2efae0f0b"><div class="ttname"><a href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caeb14a16055a82e95e4ba44e2efae0f0b">COM_ALL_NETWORK_STATUS_ON</a></div><div class="ttdeci">@ COM_ALL_NETWORK_STATUS_ON</div><div class="ttdef"><b>Definition:</b> libcom.h:1326</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a78378fa24e0c0249b786249d20122555"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a78378fa24e0c0249b786249d20122555">vficom::cmdparam::in::stk_write::msg::proactCmd</a></div><div class="ttdeci">const COM3_DllSpec char proactCmd[]</div><div class="ttdoc">integer - STK Cmd (STKTR Command)</div></div>
<div class="ttc" id="alibcom_8h_html_a2c7a3804c13765e22cec60ac8fcc8ca9"><div class="ttname"><a href="libcom_8h.html#a2c7a3804c13765e22cec60ac8fcc8ca9">com_NetworkInterfaceInfo::TX_Bytes</a></div><div class="ttdeci">unsigned int TX_Bytes</div><div class="ttdef"><b>Definition:</b> libcom.h:1259</div></div>
<div class="ttc" id="alibcom_8h_html"><div class="ttname"><a href="libcom_8h.html">libcom.h</a></div><div class="ttdoc">ADK-COM API.</div></div>
<div class="ttc" id="alibcom3_8h_html"><div class="ttname"><a href="libcom3_8h.html">libcom3.h</a></div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_a5dc8013bd6fdf9ccb6104890a00094ab"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#a5dc8013bd6fdf9ccb6104890a00094ab">vfiipc::JSObject::load</a></div><div class="ttdeci">bool load(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> jsobject.h:280</div></div>
<div class="ttc" id="alibcom_8h_html_a749c6c6286ed822ae71541f71655bbdc"><div class="ttname"><a href="libcom_8h.html#a749c6c6286ed822ae71541f71655bbdc">com_ConnectGetFD</a></div><div class="ttdeci">DllSpec int com_ConnectGetFD(struct com_ConnectHandle *handle, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a9a4ed540299159ffaa884ea4df897c2b"><div class="ttname"><a href="libcom_8h.html#a9a4ed540299159ffaa884ea4df897c2b">supported</a></div><div class="ttdeci">DllSpec int for which this was is no longer supported</div><div class="ttdef"><b>Definition:</b> libcom.h:2154</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a1c2eedb6c972148679f8206c23a9b092"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a1c2eedb6c972148679f8206c23a9b092">vficom::event::stk::select_item::next_action</a></div><div class="ttdeci">const COM3_DllSpec char next_action[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item_html_a625b9748e49ec8ee41ab3546a32415c0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::select_item::result</a></div><div class="ttdeci">const COM3_DllSpec char result[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a300e60c2174e268dcf17e2767b0c3a68"><div class="ttname"><a href="libcom_8h.html#a300e60c2174e268dcf17e2767b0c3a68">com_DetachNetworkAsync</a></div><div class="ttdeci">DllSpec com_NetworkHandle * com_DetachNetworkAsync(const char *networkProfile, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a1c2eedb6c972148679f8206c23a9b092"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a1c2eedb6c972148679f8206c23a9b092">vficom::event::stk::menu_selection::next_action</a></div><div class="ttdeci">const COM3_DllSpec char next_action[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a0190dbf359f1d33b75b311ad622b0c6cabef7af2cded3ac921d4067aeccf57721"><div class="ttname"><a href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6cabef7af2cded3ac921d4067aeccf57721">COM_ALL_NETWORK_STATUS_OFF</a></div><div class="ttdeci">@ COM_ALL_NETWORK_STATUS_OFF</div><div class="ttdef"><b>Definition:</b> libcom.h:1327</div></div>
<div class="ttc" id="aclassvficom_1_1_command_pipe_html"><div class="ttname"><a href="classvficom_1_1_command_pipe.html">vficom::CommandPipe</a></div><div class="ttdef"><b>Definition:</b> libcom3.h:334</div></div>
<div class="ttc" id="a_v_h_q__vfisyspm__wrapper_8cpp_html_a70aa738d3c50b0bbed156ee52c84679d"><div class="ttname"><a href="_v_h_q__vfisyspm__wrapper_8cpp.html#a70aa738d3c50b0bbed156ee52c84679d">if</a></div><div class="ttdeci">if(vfisyspm_inited==0)</div><div class="ttdef"><b>Definition:</b> VHQ_vfisyspm_wrapper.cpp:215</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a12f36db82ddc1060e18dd1ff5cfb39b9"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a12f36db82ddc1060e18dd1ff5cfb39b9">vficom::event::stk::urc</a></div><div class="ttdeci">const COM3_DllSpec char urc[]</div><div class="ttdoc">string - &quot;+STKPRO:&quot;</div></div>
<div class="ttc" id="alibcom_8h_html_ac86c6411e3a7f50c61d552f06fda58e9"><div class="ttname"><a href="libcom_8h.html#ac86c6411e3a7f50c61d552f06fda58e9">com_NetworkSetCallback</a></div><div class="ttdeci">DllSpec int com_NetworkSetCallback(comCallbackNetworkType callback, void *priv, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1ping_html_a4babea03335004ab9a21c5588e849af4"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a4babea03335004ab9a21c5588e849af4">vficom::cmdparam::out::ping::rtt_max</a></div><div class="ttdeci">const COM3_DllSpec char rtt_max[]</div><div class="ttdoc">integer - highest RTT in milliseconds</div></div>
<div class="ttc" id="asdiplugin_8h_html_a0e4254a95d52cd9b80405385066fee37"><div class="ttname"><a href="sdiplugin_8h.html#a0e4254a95d52cd9b80405385066fee37">__attribute__</a></div><div class="ttdeci">__attribute__((visibility(&quot;default&quot;))) SDIPlugin *getSDIPlugin()</div><div class="ttdef"><b>Definition:</b> VHQ_vfisyspm_wrapper.cpp:340</div></div>
<div class="ttc" id="alibcom_8h_html_a7864b2fce473630093486b95bbd42d8e"><div class="ttname"><a href="libcom_8h.html#a7864b2fce473630093486b95bbd42d8e">com_EddystoneUIDStopAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneUIDStopAdvertisement(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a234450c2c657a6d5316bb8188dbbcd5da94d7ddbc8ab0069214ef7eb64a64fe2d"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da94d7ddbc8ab0069214ef7eb64a64fe2d">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SETUP_MENU</a></div><div class="ttdeci">@ STK_TR_CMD_SETUP_MENU</div><div class="ttdef"><b>Definition:</b> libcom3.h:64</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1ping_html_afae7571306924c4632e2dae0970b2bd3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#afae7571306924c4632e2dae0970b2bd3">vficom::cmdparam::out::ping::rtt_avg</a></div><div class="ttdeci">const COM3_DllSpec char rtt_avg[]</div><div class="ttdoc">integer - avarage RTT in milliseconds</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a234450c2c657a6d5316bb8188dbbcd5da657d0e99bbd4f535e31c71cb691489ed"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da657d0e99bbd4f535e31c71cb691489ed">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SELECT_ITEM</a></div><div class="ttdeci">@ STK_TR_CMD_SELECT_ITEM</div><div class="ttdef"><b>Definition:</b> libcom3.h:63</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a920892b2ff3fe5a072f035eb2a5920c9"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a920892b2ff3fe5a072f035eb2a5920c9">vficom::cmdparam::in::ping::destination</a></div><div class="ttdeci">const COM3_DllSpec char destination[]</div><div class="ttdoc">string - dns name or ip address</div></div>
<div class="ttc" id="alibcom_8h_html_a5ee98c76f68a71a8f6784f79fd7b2f67"><div class="ttname"><a href="libcom_8h.html#a5ee98c76f68a71a8f6784f79fd7b2f67">com_SetDevicePropertyString</a></div><div class="ttdeci">DllSpec int com_SetDevicePropertyString(enum com_DevicePropertyString stringProperty, const char *buf, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1menu__select_html_a560864dedcdf3ae04a042845409846f3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1menu__select.html#a560864dedcdf3ae04a042845409846f3">vficom::cmdparam::in::stk_write::msg::env::menu_select::item_id</a></div><div class="ttdeci">const COM3_DllSpec char item_id[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a9d0a5913331bf7ad7df0fd094ba5ebaca2ca89c097f12c86a02a582c0fde9a970"><div class="ttname"><a href="libcom_8h.html#a9d0a5913331bf7ad7df0fd094ba5ebaca2ca89c097f12c86a02a582c0fde9a970">COM_AF_INET</a></div><div class="ttdeci">@ COM_AF_INET</div><div class="ttdef"><b>Definition:</b> libcom.h:1317</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_ac45b0e198aed51eba7ed7e5085177d7b"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::cmdparam::in::ussd_write::dcs</a></div><div class="ttdeci">const COM3_DllSpec char dcs[]</div><div class="ttdoc">int, optional</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18a021ae3c4a270d55fcd1fb24e16c5ccdc"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a021ae3c4a270d55fcd1fb24e16c5ccdc">COM_IPV6_SCOPE_SITE_LOCAL</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_SITE_LOCAL</div><div class="ttdef"><b>Definition:</b> libcom.h:1218</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_ad92f7d678ccdce0556cf713e622247df"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#ad92f7d678ccdce0556cf713e622247df">vfiipc::JSObject::getInt</a></div><div class="ttdeci">long getInt() const</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_a9361760ae5960eea59f608300ca3002f"><div class="ttname"><a href="namespacevficom_1_1cmd.html#a9361760ae5960eea59f608300ca3002f">vficom::cmd::stk_on</a></div><div class="ttdeci">const COM3_DllSpec char stk_on[]</div><div class="ttdoc">STK On command value.</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18ab94e9f679f7b707c520a84a091c9274f"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18ab94e9f679f7b707c520a84a091c9274f">COM_IPV6_SCOPE_V4MAPPED</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_V4MAPPED</div><div class="ttdef"><b>Definition:</b> libcom.h:1219</div></div>
<div class="ttc" id="alibcom_8h_html_aa8873f893a11785bf2d04782ca86d4a2"><div class="ttname"><a href="libcom_8h.html#aa8873f893a11785bf2d04782ca86d4a2">com_Ping</a></div><div class="ttdeci">DllSpec int com_Ping(const char *addr, enum com_Interfaces interface, unsigned int count, unsigned int timeout, struct com_PingInfo *result, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ac2683534ca6c20d94d6a871f5f7ea012"><div class="ttname"><a href="libcom_8h.html#ac2683534ca6c20d94d6a871f5f7ea012">com_NetworkInterfaceInfo::MTU_Size</a></div><div class="ttdeci">int MTU_Size</div><div class="ttdef"><b>Definition:</b> libcom.h:1262</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a6c74364b3344ca1f0bda4b87712712e9"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a6c74364b3344ca1f0bda4b87712712e9">COM_EVENT_BT_EXT_FAILED</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_FAILED</div><div class="ttdef"><b>Definition:</b> libcom.h:104</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item_html_ac45b0e198aed51eba7ed7e5085177d7b"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::cmdparam::in::stk_write::msg::tr::select_item::dcs</a></div><div class="ttdeci">const COM3_DllSpec char dcs[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_ad8ed41376d7876324c9101abf3cdd75cab09a9a1f2f9175f89b8b99d91b9e498a"><div class="ttname"><a href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75cab09a9a1f2f9175f89b8b99d91b9e498a">COM_CONNECTION_TYPE_TCP</a></div><div class="ttdeci">@ COM_CONNECTION_TYPE_TCP</div><div class="ttdef"><b>Definition:</b> libcom.h:420</div></div>
<div class="ttc" id="alibcom_8h_html_a22e8fd1a6cfa4bf6a41a8eb38748ce14"><div class="ttname"><a href="libcom_8h.html#a22e8fd1a6cfa4bf6a41a8eb38748ce14">com_NetworkInterfaceInfo::IPV6_Gateway</a></div><div class="ttdeci">char IPV6_Gateway[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1248</div></div>
<div class="ttc" id="alibcom_8h_html_a984ace436d24619b860cb6c44e0a42eb"><div class="ttname"><a href="libcom_8h.html#a984ace436d24619b860cb6c44e0a42eb">com_CloseNetworkHandle</a></div><div class="ttdeci">DllSpec int com_CloseNetworkHandle(com_NetworkHandle *handle, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a75c4854b1be8e9387085859b537e2f52aafe34f7d2f46f5a04603acb29509014c"><div class="ttname"><a href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52aafe34f7d2f46f5a04603acb29509014c">COM_PROP_BT_IBEACON_ON</a></div><div class="ttdeci">@ COM_PROP_BT_IBEACON_ON</div><div class="ttdef"><b>Definition:</b> libcom.h:385</div></div>
<div class="ttc" id="anfc_8cpp_html_a6c2a9f7efd46f0160f3037869924d6ce"><div class="ttname"><a href="nfc_8cpp.html#a6c2a9f7efd46f0160f3037869924d6ce">P1</a></div><div class="ttdeci">#define P1</div><div class="ttdef"><b>Definition:</b> nfc.cpp:36</div></div>
<div class="ttc" id="alibcom_8h_html_af5a039e966328fc65a4de3506050898ea7b596c612d40d9611370b1cbcd242b0b"><div class="ttname"><a href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea7b596c612d40d9611370b1cbcd242b0b">COM_INTERFACE_ANY</a></div><div class="ttdeci">@ COM_INTERFACE_ANY</div><div class="ttdef"><b>Definition:</b> libcom.h:619</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys_html_a0430f507936d95741e834441df04acaf"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a0430f507936d95741e834441df04acaf">vficom::cmdparam::out::wlan_scan::json_keys::proto</a></div><div class="ttdeci">const COM3_DllSpec char proto[]</div><div class="ttdoc">Int, protocol, com_WLANProto.</div></div>
<div class="ttc" id="alibcom_8h_html_abc6f285a899c507b77a94c8ce3b269af"><div class="ttname"><a href="libcom_8h.html#abc6f285a899c507b77a94c8ce3b269af">com_NetworkRouteInfo_IPv4::isDefaultRoute</a></div><div class="ttdeci">int isDefaultRoute</div><div class="ttdef"><b>Definition:</b> libcom.h:1296</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a9258a8527ab568afa639e6351530ad2c"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a9258a8527ab568afa639e6351530ad2c">vficom::event::stk::select_item::icon_id</a></div><div class="ttdeci">const COM3_DllSpec char icon_id[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="a_web_service_wrappers_8c_html_a6e248376c0290338633d8137822eb209"><div class="ttname"><a href="_web_service_wrappers_8c.html#a6e248376c0290338633d8137822eb209">value</a></div><div class="ttdeci">char value(char c)</div><div class="ttdef"><b>Definition:</b> WebServiceWrappers.c:86</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a5c9f20e9dfda7ed7ed70d7a4b3dab65caff4dbb9d650bf39f32e93d17f47ed147"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65caff4dbb9d650bf39f32e93d17f47ed147">vficom::event::stk::SELECT_ITEM</a></div><div class="ttdeci">@ SELECT_ITEM</div><div class="ttdef"><b>Definition:</b> libcom3.h:239</div></div>
<div class="ttc" id="alibcom_8h_html_a4663f02589b264947722ef26848e3e19"><div class="ttname"><a href="libcom_8h.html#a4663f02589b264947722ef26848e3e19">com_NetworkRouteInfo_IPv4::gateWay</a></div><div class="ttdeci">char gateWay[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1290</div></div>
<div class="ttc" id="alibcom_8h_html_a0279909b652b8a01fb4662a5b15d7612"><div class="ttname"><a href="libcom_8h.html#a0279909b652b8a01fb4662a5b15d7612">com_GetConnectionType</a></div><div class="ttdeci">DllSpec enum com_ConnectionType com_GetConnectionType(struct com_ConnectHandle *handle, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_html_a2628ea8d12e8b2563c32f05dc7fff6faa103c761754e574e8fa46d4bc24c3da58"><div class="ttname"><a href="namespacevficom_1_1event.html#a2628ea8d12e8b2563c32f05dc7fff6faa103c761754e574e8fa46d4bc24c3da58">vficom::event::EVT_URC_USSD</a></div><div class="ttdeci">@ EVT_URC_USSD</div><div class="ttdef"><b>Definition:</b> libcom3.h:232</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a234450c2c657a6d5316bb8188dbbcd5da3de966187a2f9d6339188503d787a674"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5da3de966187a2f9d6339188503d787a674">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_SETUP_EVENT_LIST</a></div><div class="ttdeci">@ STK_TR_CMD_SETUP_EVENT_LIST</div><div class="ttdef"><b>Definition:</b> libcom3.h:62</div></div>
<div class="ttc" id="alibcom_8h_html_ac8845f32b5c4bd4a6d63829209074377"><div class="ttname"><a href="libcom_8h.html#ac8845f32b5c4bd4a6d63829209074377">com_NetworkInterfaceInfo::TX_Packets</a></div><div class="ttdeci">unsigned int TX_Packets</div><div class="ttdef"><b>Definition:</b> libcom.h:1257</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_adef2c7a812cfb2e8b8f4c1197d8e97a3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#adef2c7a812cfb2e8b8f4c1197d8e97a3">vficom::cmdparam::in::stk_write::msg::envCmd</a></div><div class="ttdeci">const COM3_DllSpec char envCmd[]</div><div class="ttdoc">integer - STK Cmd (STKENV Command)</div></div>
<div class="ttc" id="alibcom_8h_html_af5a039e966328fc65a4de3506050898ea3eeba6cf57e2e793d47b5b8fc96ecb79"><div class="ttname"><a href="libcom_8h.html#af5a039e966328fc65a4de3506050898ea3eeba6cf57e2e793d47b5b8fc96ecb79">COM_INTERFACE_ETH0</a></div><div class="ttdeci">@ COM_INTERFACE_ETH0</div><div class="ttdef"><b>Definition:</b> libcom.h:540</div></div>
<div class="ttc" id="alibcom_8h_html_a23c4e2ad22ebe7b8a5595e94ff49f969"><div class="ttname"><a href="libcom_8h.html#a23c4e2ad22ebe7b8a5595e94ff49f969">com_IPv6_Data::IPV6_Addr_Prefixlen</a></div><div class="ttdeci">unsigned char IPV6_Addr_Prefixlen</div><div class="ttdef"><b>Definition:</b> libcom.h:1228</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a37a60d6078b7db799def050b0df8575ca9df31c97c0de893a08eb38b005bdc223"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a37a60d6078b7db799def050b0df8575ca9df31c97c0de893a08eb38b005bdc223">vficom::cmdparam::in::stk_write::msg::STK_ENV_CMD_EVENT_DOWNLOAD</a></div><div class="ttdeci">@ STK_ENV_CMD_EVENT_DOWNLOAD</div><div class="ttdef"><b>Definition:</b> libcom3.h:70</div></div>
<div class="ttc" id="anamespacevficom_1_1status_html_ae7ba2f563df916ce3ce6be92a19d2bbcaecedb56d1405a60c6069f4a0139bdec5"><div class="ttname"><a href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaecedb56d1405a60c6069f4a0139bdec5">vficom::status::FAILED</a></div><div class="ttdeci">@ FAILED</div><div class="ttdoc">The action failed.</div><div class="ttdef"><b>Definition:</b> libcom3.h:302</div></div>
<div class="ttc" id="alibcom_8h_html_a349d5a976cc39e5a11c8c6fa43b2f3f4"><div class="ttname"><a href="libcom_8h.html#a349d5a976cc39e5a11c8c6fa43b2f3f4">com_NetworkRouteInfo_IPv6::srcAddr</a></div><div class="ttdeci">char srcAddr[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1305</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_abdb39d55a6be159a1189e7e73c667643"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#abdb39d55a6be159a1189e7e73c667643">vficom::event::stk::select_item::default_item</a></div><div class="ttdeci">const COM3_DllSpec char default_item[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___eddystone_u_r_l"><div class="ttname"><a href="libcom_8h.html#structcom___eddystone_u_r_l">com_EddystoneURL</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1458</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1ping_html_a9e0df6765a477857c7df53d5769c7eca"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#a9e0df6765a477857c7df53d5769c7eca">vficom::cmdparam::out::ping::received</a></div><div class="ttdeci">const COM3_DllSpec char received[]</div><div class="ttdoc">integer - number of received packets</div></div>
<div class="ttc" id="anamespacevficom_1_1status_html_ae7ba2f563df916ce3ce6be92a19d2bbc"><div class="ttname"><a href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbc">vficom::status::PipeStatus</a></div><div class="ttdeci">PipeStatus</div><div class="ttdef"><b>Definition:</b> libcom3.h:297</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download_html_a304112f7ef47146835af811ec803c9b0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1env_1_1event__download.html#a304112f7ef47146835af811ec803c9b0">vficom::cmdparam::in::stk_write::msg::env::event_download::event</a></div><div class="ttdeci">const COM3_DllSpec char event[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a6bf1ed3560b6340028f2c9f29895794a"><div class="ttname"><a href="libcom_8h.html#a6bf1ed3560b6340028f2c9f29895794a">com_EddystoneURLGetAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneURLGetAdvertisement(struct com_EddystoneURL *eddystoneURL, enum com_StartupMode *startupMode, int *isRunning, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_a63930bb13d90798b7b8b85d480a2e0bf"><div class="ttname"><a href="namespacevficom_1_1cmd.html#a63930bb13d90798b7b8b85d480a2e0bf">vficom::cmd::ussd_status</a></div><div class="ttdeci">const COM3_DllSpec char ussd_status[]</div><div class="ttdoc">USSD Status (AT+CUSD?)</div></div>
<div class="ttc" id="alibcom_8h_html_a8239249db998e4aac1b0477ec2e1b40f"><div class="ttname"><a href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40f">com_ConnectionEvent</a></div><div class="ttdeci">com_ConnectionEvent</div><div class="ttdef"><b>Definition:</b> libcom.h:54</div></div>
<div class="ttc" id="aclassvficom_1_1_exception_html"><div class="ttname"><a href="classvficom_1_1_exception.html">vficom::Exception</a></div><div class="ttdoc">Exception type thrown by constructors in classes in this file.</div><div class="ttdef"><b>Definition:</b> libcom3.h:315</div></div>
<div class="ttc" id="alibcom_8h_html_a65333b921ee49dca15e33b9155087ba6"><div class="ttname"><a href="libcom_8h.html#a65333b921ee49dca15e33b9155087ba6">com_EddystoneUIDSetAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneUIDSetAdvertisement(struct com_EddystoneUID eddystoneUID, enum com_StartupMode startupMode, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_html_a2628ea8d12e8b2563c32f05dc7fff6faac94a0e44aea9f0a62928152bc2966f02"><div class="ttname"><a href="namespacevficom_1_1event.html#a2628ea8d12e8b2563c32f05dc7fff6faac94a0e44aea9f0a62928152bc2966f02">vficom::event::EVT_URC_STK</a></div><div class="ttdeci">@ EVT_URC_STK</div><div class="ttdef"><b>Definition:</b> libcom3.h:231</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67aeaba7d1c3e632d358240629062465971"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67aeaba7d1c3e632d358240629062465971">COM_EVENT_NETWORK_INTERFACE_DOWN</a></div><div class="ttdeci">@ COM_EVENT_NETWORK_INTERFACE_DOWN</div><div class="ttdef"><b>Definition:</b> libcom.h:80</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1sim__access_html_a462c16af73a1fdeb0621e8971351714a"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a462c16af73a1fdeb0621e8971351714a">vficom::cmdparam::in::sim_access::json_cmd</a></div><div class="ttdeci">const COM3_DllSpec char json_cmd[]</div><div class="ttdoc">string containing the JSON wrapped AT+CRSM command</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58aa5ebfb6628ed6cb432f26b181b44da1b"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58aa5ebfb6628ed6cb432f26b181b44da1b">COM_ERR_CON_SSL_BUSY</a></div><div class="ttdeci">@ COM_ERR_CON_SSL_BUSY</div><div class="ttdef"><b>Definition:</b> libcom.h:475</div></div>
<div class="ttc" id="alibcom_8h_html_a75c4854b1be8e9387085859b537e2f52a4a33f3ecf8d7199a75352b2646e73fe4"><div class="ttname"><a href="libcom_8h.html#a75c4854b1be8e9387085859b537e2f52a4a33f3ecf8d7199a75352b2646e73fe4">COM_PROP_GSM_SIM_PIN</a></div><div class="ttdeci">@ COM_PROP_GSM_SIM_PIN</div><div class="ttdef"><b>Definition:</b> libcom.h:364</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a5c9f20e9dfda7ed7ed70d7a4b3dab65c"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65c">vficom::event::stk::STKURCProCommand</a></div><div class="ttdeci">STKURCProCommand</div><div class="ttdef"><b>Definition:</b> libcom3.h:237</div></div>
<div class="ttc" id="alibcom_8h_html_a2dd60d34cc1ed4cc66a07ec151f23a6d"><div class="ttname"><a href="libcom_8h.html#a2dd60d34cc1ed4cc66a07ec151f23a6d">com_EddystoneURLSetAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneURLSetAdvertisement(struct com_EddystoneURL eddystoneURL, enum com_StartupMode startupMode, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18a1c91f08d8ee9f085a512b70639fde41a"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a1c91f08d8ee9f085a512b70639fde41a">COM_IPV6_SCOPE_GLOBAL</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_GLOBAL</div><div class="ttdef"><b>Definition:</b> libcom.h:1216</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___i_pv6___data"><div class="ttname"><a href="libcom_8h.html#structcom___i_pv6___data">com_IPv6_Data</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1224</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys_html_a58be0109b1094934766fb07b04083670"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1wlan__scan_1_1json__keys.html#a58be0109b1094934766fb07b04083670">vficom::cmdparam::out::wlan_scan::json_keys::ssid</a></div><div class="ttdeci">const COM3_DllSpec char ssid[]</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a249be8d05032634deb42b1e5fea747d8"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a249be8d05032634deb42b1e5fea747d8">vficom::event::stk::menu_selection::alpha</a></div><div class="ttdeci">const COM3_DllSpec char alpha[]</div><div class="ttdoc">string - Alphanumeric descriptor</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a37a60d6078b7db799def050b0df8575ca18c3b5c6924431fbdf0b17510f1bd520"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a37a60d6078b7db799def050b0df8575ca18c3b5c6924431fbdf0b17510f1bd520">vficom::cmdparam::in::stk_write::msg::STK_ENV_CMD_MENU_SELECT</a></div><div class="ttdeci">@ STK_ENV_CMD_MENU_SELECT</div><div class="ttdef"><b>Definition:</b> libcom3.h:69</div></div>
<div class="ttc" id="alibcom_8h_html_a0c7972227577e361b158a6cc7e95be17"><div class="ttname"><a href="libcom_8h.html#a0c7972227577e361b158a6cc7e95be17">com_EddystoneURLStopAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneURLStopAdvertisement(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___network_interface_info"><div class="ttname"><a href="libcom_8h.html#structcom___network_interface_info">com_NetworkInterfaceInfo</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1233</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a234450c2c657a6d5316bb8188dbbcd5daa0ce25efd0caa8725b776aceb8584bb2"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a234450c2c657a6d5316bb8188dbbcd5daa0ce25efd0caa8725b776aceb8584bb2">vficom::cmdparam::in::stk_write::msg::STK_TR_CMD_REFRESH</a></div><div class="ttdeci">@ STK_TR_CMD_REFRESH</div><div class="ttdef"><b>Definition:</b> libcom3.h:61</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_a47636d831d5cbc65b7c6915f1701f0a2"><div class="ttname"><a href="namespacevficom_1_1cmd.html#a47636d831d5cbc65b7c6915f1701f0a2">vficom::cmd::stk_status</a></div><div class="ttdeci">const COM3_DllSpec char stk_status[]</div><div class="ttdoc">STK Status command value.</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1ussd_html_a348a7029a12a56793a401845e7473af8"><div class="ttname"><a href="namespacevficom_1_1event_1_1ussd.html#a348a7029a12a56793a401845e7473af8">vficom::event::ussd::m</a></div><div class="ttdeci">const COM3_DllSpec char m[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a249be8d05032634deb42b1e5fea747d8"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a249be8d05032634deb42b1e5fea747d8">vficom::event::stk::select_item::alpha</a></div><div class="ttdeci">const COM3_DllSpec char alpha[]</div><div class="ttdoc">string - Alphanumeric descriptor</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1stk__status_html_ab4544ed7ac29b175d220bc3866c13d2c"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1stk__status.html#ab4544ed7ac29b175d220bc3866c13d2c">vficom::cmdparam::out::stk_status::status</a></div><div class="ttdeci">const COM3_DllSpec char status[]</div><div class="ttdoc">string - returns &quot;on&quot; or &quot;off&quot;</div></div>
<div class="ttc" id="alibcom_8h_html_a0190dbf359f1d33b75b311ad622b0c6ca96fb7545a0a4a10adb55d2257c2f7177"><div class="ttname"><a href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6ca96fb7545a0a4a10adb55d2257c2f7177">COM_GPRS_URC_RSSI</a></div><div class="ttdeci">@ COM_GPRS_URC_RSSI</div><div class="ttdef"><b>Definition:</b> libcom.h:1324</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a2903f0a8f3a8335309eef88135bf0dbf"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a2903f0a8f3a8335309eef88135bf0dbf">vficom::event::stk::select_item::item_text</a></div><div class="ttdeci">const COM3_DllSpec char item_text[]</div><div class="ttdoc">string</div></div>
<div class="ttc" id="alibcom_8h_html_a418f09ba474e63c1e96c2e1bc7fce78a"><div class="ttname"><a href="libcom_8h.html#a418f09ba474e63c1e96c2e1bc7fce78a">com_NetworkInterfaceInfo::Link_Speed</a></div><div class="ttdeci">int Link_Speed</div><div class="ttdef"><b>Definition:</b> libcom.h:1263</div></div>
<div class="ttc" id="alibcom_8h_html_a8239249db998e4aac1b0477ec2e1b40fa0fce86b65d98a83d795ba4f8dee4944f"><div class="ttname"><a href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa0fce86b65d98a83d795ba4f8dee4944f">COM_EVENT_CONNECTION_FAILED</a></div><div class="ttdeci">@ COM_EVENT_CONNECTION_FAILED</div><div class="ttdef"><b>Definition:</b> libcom.h:57</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a9baf2a893a551768cd734a9e59bbe897"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a9baf2a893a551768cd734a9e59bbe897">vficom::cmdparam::in::ping::dont_fragment</a></div><div class="ttdeci">const COM3_DllSpec char dont_fragment[]</div><div class="ttdoc">boolean - [optional] set or unset the DF flag in IP header, default (not specified in input command):...</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_a23bdc20544ca28878b1ffea144ac2730"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#a23bdc20544ca28878b1ffea144ac2730">vfiipc::JSObject::getString</a></div><div class="ttdeci">std::string getString() const</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a4f51ec05d10dbe4d0d8e2e17fa76cd03"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a4f51ec05d10dbe4d0d8e2e17fa76cd03">vficom::cmdparam::in::ping::count</a></div><div class="ttdeci">const COM3_DllSpec char count[]</div><div class="ttdoc">integer - stop after &quot;count&quot; ping request</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_html_a718fb933f922f59d50270984ea93ec91"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg.html#a718fb933f922f59d50270984ea93ec91">vficom::cmdparam::in::stk_write::msg::parameters</a></div><div class="ttdeci">const COM3_DllSpec char parameters[]</div><div class="ttdoc">object - Depends on usat_command and proactCmd/envCmd</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1ussd_html_aa2ad567d2728772e7ce46242b9f5e83a"><div class="ttname"><a href="namespacevficom_1_1event_1_1ussd.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::event::ussd::str</a></div><div class="ttdeci">const COM3_DllSpec char str[]</div><div class="ttdoc">string, optional</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1sim__access_html_a9ad1e2800f77e752910c0d4ab873ca03"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1sim__access.html#a9ad1e2800f77e752910c0d4ab873ca03">vficom::cmdparam::out::sim_access::json_resp</a></div><div class="ttdeci">const COM3_DllSpec char json_resp[]</div><div class="ttdoc">string containing the JSON wrapped AT+CRSM command response</div></div>
<div class="ttc" id="alibcom_8h_html_a186a5526e06d21127878661465ff14eb"><div class="ttname"><a href="libcom_8h.html#a186a5526e06d21127878661465ff14eb">com_BTGATTWriteCharacteristic</a></div><div class="ttdeci">DllSpec int com_BTGATTWriteCharacteristic(struct com_BLEAttribute *attribute, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58afcf0ee625b03c6a4b801a701c67cc270"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58afcf0ee625b03c6a4b801a701c67cc270">COM_SYSTEM_ERRNO_BASE</a></div><div class="ttdeci">@ COM_SYSTEM_ERRNO_BASE</div><div class="ttdef"><b>Definition:</b> libcom.h:532</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a2903f0a8f3a8335309eef88135bf0dbf"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a2903f0a8f3a8335309eef88135bf0dbf">vficom::event::stk::menu_selection::item_text</a></div><div class="ttdeci">const COM3_DllSpec char item_text[]</div><div class="ttdoc">string</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18afd18fd85b223ee1b856e44af6c23b138"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18afd18fd85b223ee1b856e44af6c23b138">COM_IPV6_SCOPE_V4COMPAT</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_V4COMPAT</div><div class="ttdef"><b>Definition:</b> libcom.h:1220</div></div>
<div class="ttc" id="alibcom_8h_html_a65804830613e63a444697c3e8c24cca5a8801df5bd20f364db037e6f0be735a3a"><div class="ttname"><a href="libcom_8h.html#a65804830613e63a444697c3e8c24cca5a8801df5bd20f364db037e6f0be735a3a">COM_WIRELESS_TYPE_WLAN</a></div><div class="ttdeci">@ COM_WIRELESS_TYPE_WLAN</div><div class="ttdef"><b>Definition:</b> libcom.h:1349</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58ade0863189d651aec53603e182c236d73">COM_ERR_NONE</a></div><div class="ttdeci">@ COM_ERR_NONE</div><div class="ttdef"><b>Definition:</b> libcom.h:446</div></div>
<div class="ttc" id="alibcom_8h_html_a37a7e61bbc81abb7772ba8498871c6bb"><div class="ttname"><a href="libcom_8h.html#a37a7e61bbc81abb7772ba8498871c6bb">com_IPv6_Data::IPV6_Addr_Scope</a></div><div class="ttdeci">enum com_IPv6_AddrScope IPV6_Addr_Scope</div><div class="ttdef"><b>Definition:</b> libcom.h:1229</div></div>
<div class="ttc" id="alibcom_8h_html_a330addccc1f771e357c7640fda3e6687a55545d6cf3e7c87e5ffe6a2aef6577c9"><div class="ttname"><a href="libcom_8h.html#a330addccc1f771e357c7640fda3e6687a55545d6cf3e7c87e5ffe6a2aef6577c9">COM_PROFILE_PROP_LAST_SOCKET_ERROR</a></div><div class="ttdeci">@ COM_PROFILE_PROP_LAST_SOCKET_ERROR</div><div class="ttdef"><b>Definition:</b> libcom.h:1043</div></div>
<div class="ttc" id="alibcom_8h_html_a0a8cb7d67f69b7514e51ee65ad8c2faf"><div class="ttname"><a href="libcom_8h.html#a0a8cb7d67f69b7514e51ee65ad8c2faf">com_NetworkInterfaceInfo::IPV4_DHCP_Enabled</a></div><div class="ttdeci">int IPV4_DHCP_Enabled</div><div class="ttdef"><b>Definition:</b> libcom.h:1243</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18a60b6f9d1a8ec5af810635d2c2eea67db"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a60b6f9d1a8ec5af810635d2c2eea67db">COM_IPV6_SCOPE_LOOPBACK</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_LOOPBACK</div><div class="ttdef"><b>Definition:</b> libcom.h:1221</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a025a82a94ac67872d1cdbbcfe3d1041b"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a025a82a94ac67872d1cdbbcfe3d1041b">COM_EVENT_BT_EXT_PIN</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_PIN</div><div class="ttdef"><b>Definition:</b> libcom.h:100</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a3646cbdc6723387e5b71fb570e1a865e"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a3646cbdc6723387e5b71fb570e1a865e">COM_EVENT_NETWORK_LINK_UP</a></div><div class="ttdeci">@ COM_EVENT_NETWORK_LINK_UP</div><div class="ttdef"><b>Definition:</b> libcom.h:81</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a8da131bd7b2090ec245661c0d77811c4"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a8da131bd7b2090ec245661c0d77811c4">vficom::cmdparam::in::ping::addr_family</a></div><div class="ttdeci">const COM3_DllSpec char addr_family[]</div><div class="ttdoc">integer - [optional] value of type com_AddressFamily, default COM_AF_UNSPEC</div></div>
<div class="ttc" id="alibcom_8h_html_a0190dbf359f1d33b75b311ad622b0c6caf6e447c00886826b217eddf42f469419"><div class="ttname"><a href="libcom_8h.html#a0190dbf359f1d33b75b311ad622b0c6caf6e447c00886826b217eddf42f469419">COM_GPRS_URC_PACKET_SWITCH</a></div><div class="ttdeci">@ COM_GPRS_URC_PACKET_SWITCH</div><div class="ttdef"><b>Definition:</b> libcom.h:1325</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_a3de5a6fc99b71f79469478abe765738b"><div class="ttname"><a href="namespacevficom_1_1cmd.html#a3de5a6fc99b71f79469478abe765738b">vficom::cmd::stk_write</a></div><div class="ttdeci">const COM3_DllSpec char stk_write[]</div><div class="ttdoc">STK Write command value.</div></div>
<div class="ttc" id="alibcom_8h_html_a8aafe6cd47af9b465fdcee79f8cf5257"><div class="ttname"><a href="libcom_8h.html#a8aafe6cd47af9b465fdcee79f8cf5257">com_NetworkInterfaceInfo::IPV4_DNS1</a></div><div class="ttdeci">char IPV4_DNS1[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1241</div></div>
<div class="ttc" id="asvc__tms_8h_html_a3127ebf018e9da62fa464d348352037d"><div class="ttname"><a href="svc__tms_8h.html#a3127ebf018e9da62fa464d348352037d">tmsReturn::handle</a></div><div class="ttdeci">int handle</div><div class="ttdef"><b>Definition:</b> svc_tms.h:106</div></div>
<div class="ttc" id="alibcom_8h_html_a10cdfc0c9edf6383c69f8ac03d84131e"><div class="ttname"><a href="libcom_8h.html#a10cdfc0c9edf6383c69f8ac03d84131e">com_AttachNetwork</a></div><div class="ttdeci">DllSpec int com_AttachNetwork(const char *networkProfile, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_abbf68123b626894e7d1d0ebf1fa5f49c"><div class="ttname"><a href="namespacevficom_1_1cmd.html#abbf68123b626894e7d1d0ebf1fa5f49c">vficom::cmd::ussd_write</a></div><div class="ttdeci">const COM3_DllSpec char ussd_write[]</div><div class="ttdoc">USSD Write (AT+CUSD=n,str,dcs)</div></div>
<div class="ttc" id="alibcom_8h_html_a6c2d3c2686096cfbaf89bd266109fa3e"><div class="ttname"><a href="libcom_8h.html#a6c2d3c2686096cfbaf89bd266109fa3e">com_EddystoneURLStartAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneURLStartAdvertisement(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a74cce87f701d74146be5852c3e6c9bbfa1462b074421b23a3699dbba52e7514c2"><div class="ttname"><a href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa1462b074421b23a3699dbba52e7514c2">COM_PROP_GSM_SIM_PRESENT</a></div><div class="ttdeci">@ COM_PROP_GSM_SIM_PRESENT</div><div class="ttdef"><b>Definition:</b> libcom.h:288</div></div>
<div class="ttc" id="alibcom_8h_html_a1c2230843310aeb56eccf564c1646967"><div class="ttname"><a href="libcom_8h.html#a1c2230843310aeb56eccf564c1646967">com_EddystoneUIDGetAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneUIDGetAdvertisement(struct com_EddystoneUID *eddystoneUID, enum com_StartupMode *startupMode, int *isRunning, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a855e568119e7590d77d19f779d8573a4"><div class="ttname"><a href="libcom_8h.html#a855e568119e7590d77d19f779d8573a4">com_NetworkRouteInfo_IPv4::next</a></div><div class="ttdeci">struct com_NetworkRouteInfo_IPv4 * next</div><div class="ttdef"><b>Definition:</b> libcom.h:1285</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_aa2ad567d2728772e7ce46242b9f5e83a"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#aa2ad567d2728772e7ce46242b9f5e83a">vficom::cmdparam::in::ussd_write::str</a></div><div class="ttdeci">const COM3_DllSpec char str[]</div><div class="ttdoc">string, optional</div></div>
<div class="ttc" id="alibcom_8h_html_a7cdb798185fb1a08554a3c3eb1a49987aa9a3dbfa7d73e16466752122310951a2"><div class="ttname"><a href="libcom_8h.html#a7cdb798185fb1a08554a3c3eb1a49987aa9a3dbfa7d73e16466752122310951a2">COM_PROFILE_PROP_STRING_NETWORKNAME_FULL</a></div><div class="ttdeci">@ COM_PROFILE_PROP_STRING_NETWORKNAME_FULL</div><div class="ttdef"><b>Definition:</b> libcom.h:1070</div></div>
<div class="ttc" id="alibcom_8h_html_a657bd48e7c3c4e82e6cac4b7d0831d39"><div class="ttname"><a href="libcom_8h.html#a657bd48e7c3c4e82e6cac4b7d0831d39">com_AttachNetworkAsync</a></div><div class="ttdeci">DllSpec com_NetworkHandle * com_AttachNetworkAsync(const char *networkProfile, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ab88f9728460434908b808e34a856b6af"><div class="ttname"><a href="libcom_8h.html#ab88f9728460434908b808e34a856b6af">com_GetVersion</a></div><div class="ttdeci">const DllSpec char * com_GetVersion(void)</div></div>
<div class="ttc" id="alibcom_8h_html_a79044de8cca540f1fa0cba3bd7dc6beb"><div class="ttname"><a href="libcom_8h.html#a79044de8cca540f1fa0cba3bd7dc6beb">com_NetworkInterfaceInfo::TX_Errors</a></div><div class="ttdeci">unsigned int TX_Errors</div><div class="ttdef"><b>Definition:</b> libcom.h:1258</div></div>
<div class="ttc" id="alibcom_8h_html_a01ba5c54ee37743016e33d4b8b6189e4"><div class="ttname"><a href="libcom_8h.html#a01ba5c54ee37743016e33d4b8b6189e4">com_NetworkInterfaceInfo::IPV6_DNS2</a></div><div class="ttdeci">char IPV6_DNS2[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1250</div></div>
<div class="ttc" id="alibcom_8h_html_a814f3a2e74ce0a12bc89cd1a1b1b86f8"><div class="ttname"><a href="libcom_8h.html#a814f3a2e74ce0a12bc89cd1a1b1b86f8">COM_SELECT_READ</a></div><div class="ttdeci">#define COM_SELECT_READ</div><div class="ttdef"><b>Definition:</b> libcom.h:1376</div></div>
<div class="ttc" id="alibcom_8h_html_ab7382762229be4575218e41454e6c7c5"><div class="ttname"><a href="libcom_8h.html#ab7382762229be4575218e41454e6c7c5">com_NetworkInterfaceInfo::IPV4_Broadcast</a></div><div class="ttdeci">char IPV4_Broadcast[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1238</div></div>
<div class="ttc" id="alibcom_8h_html_ae71f8c85f41ae0866a3673565c343de4"><div class="ttname"><a href="libcom_8h.html#ae71f8c85f41ae0866a3673565c343de4">com_NetworkRouteInfo_IPv4::scope</a></div><div class="ttdeci">enum com_NetworkRouteScope scope</div><div class="ttdef"><b>Definition:</b> libcom.h:1294</div></div>
<div class="ttc" id="alibcom_8h_html_a5c6dd61c0918cead8ec430b0ae328111"><div class="ttname"><a href="libcom_8h.html#a5c6dd61c0918cead8ec430b0ae328111">com_NetworkRouteInfo_IPv4::dstPrefixlen</a></div><div class="ttdeci">unsigned char dstPrefixlen</div><div class="ttdef"><b>Definition:</b> libcom.h:1292</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a9258a8527ab568afa639e6351530ad2c"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a9258a8527ab568afa639e6351530ad2c">vficom::event::stk::menu_selection::icon_id</a></div><div class="ttdeci">const COM3_DllSpec char icon_id[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18ad9666206105c4fb2f883679b27a18cf5"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18ad9666206105c4fb2f883679b27a18cf5">COM_IPV6_SCOPE_LINK_LOCAL</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_LINK_LOCAL</div><div class="ttdef"><b>Definition:</b> libcom.h:1217</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a677d21d138df96ee31a74379d6cd56da"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a677d21d138df96ee31a74379d6cd56da">COM_EVENT_BT_EXT_TIMEOUT</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> libcom.h:103</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_a1fd1468bac3dd5a05fa3d5acac24bcf8"><div class="ttname"><a href="namespacevficom_1_1cmd.html#a1fd1468bac3dd5a05fa3d5acac24bcf8">vficom::cmd::sim_access</a></div><div class="ttdeci">const COM3_DllSpec char sim_access[]</div><div class="ttdoc">Restricted SIM Access via AT+CRSM.</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a560864dedcdf3ae04a042845409846f3"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a560864dedcdf3ae04a042845409846f3">vficom::event::stk::menu_selection::item_id</a></div><div class="ttdeci">const COM3_DllSpec char item_id[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a74cce87f701d74146be5852c3e6c9bbfa744078eb681134a75122a764922e6f7f"><div class="ttname"><a href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfa744078eb681134a75122a764922e6f7f">COM_PROP_BT_IBEACON_OFF</a></div><div class="ttdeci">@ COM_PROP_BT_IBEACON_OFF</div><div class="ttdef"><b>Definition:</b> libcom.h:313</div></div>
<div class="ttc" id="alibcom_8h_html_a08da6ce26a387cf4487f4a50dc0f4773"><div class="ttname"><a href="libcom_8h.html#a08da6ce26a387cf4487f4a50dc0f4773">COM_SELECT_WRITE</a></div><div class="ttdeci">#define COM_SELECT_WRITE</div><div class="ttdef"><b>Definition:</b> libcom.h:1378</div></div>
<div class="ttc" id="alibcom_8h_html_ae04c2eda5b1eb746d9859a9bc0e2bc14af9d2097570453c43b6c0aa44eacf74b2"><div class="ttname"><a href="libcom_8h.html#ae04c2eda5b1eb746d9859a9bc0e2bc14af9d2097570453c43b6c0aa44eacf74b2">COM_NETWORK_STATUS_START</a></div><div class="ttdeci">@ COM_NETWORK_STATUS_START</div><div class="ttdef"><b>Definition:</b> libcom.h:33</div></div>
<div class="ttc" id="alibcom_8h_html_ad8ed41376d7876324c9101abf3cdd75c"><div class="ttname"><a href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75c">com_ConnectionType</a></div><div class="ttdeci">com_ConnectionType</div><div class="ttdef"><b>Definition:</b> libcom.h:418</div></div>
<div class="ttc" id="alibcom_8h_html_a64ded2e202ac2485d3406f63a13538e8"><div class="ttname"><a href="libcom_8h.html#a64ded2e202ac2485d3406f63a13538e8">com_GetErrorString</a></div><div class="ttdeci">const DllSpec char * com_GetErrorString(enum com_ErrorCodes com_errno_in)</div></div>
<div class="ttc" id="aclassvficom_1_1_command_pipe_html_a8a411cbbd1b2731cf83b8d5a688e5f9a"><div class="ttname"><a href="classvficom_1_1_command_pipe.html#a8a411cbbd1b2731cf83b8d5a688e5f9a">vficom::CommandPipe::sendRecv</a></div><div class="ttdeci">enum status::PipeStatus sendRecv(const vfiipc::JSObject &amp;in, vfiipc::JSObject &amp;out, Milliseconds millis)</div></div>
<div class="ttc" id="alibcom_8h_html_a947a70004b4fbb64e170d537e3a9ce18"><div class="ttname"><a href="libcom_8h.html#a947a70004b4fbb64e170d537e3a9ce18">com_NetworkRouteInfo_Free</a></div><div class="ttdeci">DllSpec void com_NetworkRouteInfo_Free(struct com_NetworkRouteInfo_IPv4 *rtinfo4, struct com_NetworkRouteInfo_IPv6 *rtinfo6)</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58a9f5ebb44174d8848313ea66fe81fd111"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a9f5ebb44174d8848313ea66fe81fd111">COM_ERR_CON_SOCKET</a></div><div class="ttdeci">@ COM_ERR_CON_SOCKET</div><div class="ttdef"><b>Definition:</b> libcom.h:461</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58">com_ErrorCodes</a></div><div class="ttdeci">com_ErrorCodes</div><div class="ttdef"><b>Definition:</b> libcom.h:445</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__off_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__off.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_off::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a9c42f243213c1bd460f2b1ae0aea067e"><div class="ttname"><a href="libcom_8h.html#a9c42f243213c1bd460f2b1ae0aea067e">com_Destroy</a></div><div class="ttdeci">DllSpec int com_Destroy(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1status_html_ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b"><div class="ttname"><a href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaad9dee005a3d0f9137b2ac1e0869f89b">vficom::status::TIMEOUT</a></div><div class="ttdeci">@ TIMEOUT</div><div class="ttdoc">The action could not be completed in the requested time.</div><div class="ttdef"><b>Definition:</b> libcom3.h:303</div></div>
<div class="ttc" id="alibcom_8h_html_a801f39cf08b0bfa7136393854278e597"><div class="ttname"><a href="libcom_8h.html#a801f39cf08b0bfa7136393854278e597">com_GetDevicePropertyInt</a></div><div class="ttdeci">DllSpec int com_GetDevicePropertyInt(enum com_DevicePropertyInt intProperty, int *value, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a82b164577136a1cd6874a72f73846fce"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a82b164577136a1cd6874a72f73846fce">vficom::event::stk::select_item::cmd_qualifier</a></div><div class="ttdeci">const COM3_DllSpec char cmd_qualifier[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a560864dedcdf3ae04a042845409846f3"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a560864dedcdf3ae04a042845409846f3">vficom::event::stk::select_item::item_id</a></div><div class="ttdeci">const COM3_DllSpec char item_id[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_ab87430479d817a2b0f173db3ab49709c"><div class="ttname"><a href="namespacevficom_1_1cmd.html#ab87430479d817a2b0f173db3ab49709c">vficom::cmd::stk_off</a></div><div class="ttdeci">const COM3_DllSpec char stk_off[]</div><div class="ttdoc">STK Off command value.</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__status_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__status.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_status::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_aa4ea356b09aecedf90ac050e63244569"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#aa4ea356b09aecedf90ac050e63244569">vfiipc::JSObject::exists</a></div><div class="ttdeci">bool exists(const char *elem) const</div></div>
<div class="ttc" id="alibcom_8h_html_af854f7b94462cbd1b7aa272f1113f567"><div class="ttname"><a href="libcom_8h.html#af854f7b94462cbd1b7aa272f1113f567">com_GetNetworkInfo</a></div><div class="ttdeci">DllSpec int com_GetNetworkInfo(const char *networkProfile, struct com_IPConfig *ipconfig, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmd_html_abb2b3f4a4bb598a81dfd1128b0b28f76"><div class="ttname"><a href="namespacevficom_1_1cmd.html#abb2b3f4a4bb598a81dfd1128b0b28f76">vficom::cmd::ping</a></div><div class="ttdeci">const COM3_DllSpec char ping[]</div><div class="ttdoc">PING command value.</div></div>
<div class="ttc" id="alibcom_8h_html_a1782f83ac38bf06e099ac19e4e03511b"><div class="ttname"><a href="libcom_8h.html#a1782f83ac38bf06e099ac19e4e03511b">COM_WLAN_COUNT</a></div><div class="ttdeci">#define COM_WLAN_COUNT</div><div class="ttdef"><b>Definition:</b> libcom.h:1384</div></div>
<div class="ttc" id="alibcom_8h_html_a86944e9a76e84d162fa1f6312696d9f9"><div class="ttname"><a href="libcom_8h.html#a86944e9a76e84d162fa1f6312696d9f9">com_Send</a></div><div class="ttdeci">DllSpec ssize_t com_Send(struct com_ConnectHandle *handle, const void *buffer, size_t size, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html_a535976112a5480b2957b0030cff36b68"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html#a535976112a5480b2957b0030cff36b68">vfiipc::JSObject::dump</a></div><div class="ttdeci">void dump(std::string &amp;s, bool(*filter_cb)(const std::string &amp;key)) const</div></div>
<div class="ttc" id="alibcom_8h_html_afc3e389b26a8fb3c1e864175ddd630fd"><div class="ttname"><a href="libcom_8h.html#afc3e389b26a8fb3c1e864175ddd630fd">com_BLEAttribute::id</a></div><div class="ttdeci">short id</div><div class="ttdef"><b>Definition:</b> libcom.h:1482</div></div>
<div class="ttc" id="alibcom_8h_html_a65f3a6e7059cb1dfa3a924aad3122c90"><div class="ttname"><a href="libcom_8h.html#a65f3a6e7059cb1dfa3a924aad3122c90">com_ConnectAsync</a></div><div class="ttdeci">DllSpec struct com_ConnectHandle * com_ConnectAsync(const char *connectionProfile, comCallbackConnectionType callback, void *priv, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___i_p_config"><div class="ttname"><a href="libcom_8h.html#structcom___i_p_config">com_IPConfig</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1197</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh_html_a625b9748e49ec8ee41ab3546a32415c0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1refresh.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::refresh::result</a></div><div class="ttdeci">const COM3_DllSpec char result[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a4644a3837a0b7bca49190606f42a7900"><div class="ttname"><a href="libcom_8h.html#a4644a3837a0b7bca49190606f42a7900">com_NetworkRouteInfo_IPv4::ifName</a></div><div class="ttdeci">char ifName[16]</div><div class="ttdef"><b>Definition:</b> libcom.h:1287</div></div>
<div class="ttc" id="alibcom_8h_html_a08fce84cac2667183743020a258fe5d0"><div class="ttname"><a href="libcom_8h.html#a08fce84cac2667183743020a258fe5d0">com_NetworkRouteInfo_IPv6::gateWay</a></div><div class="ttdeci">char gateWay[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1306</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a5c9f20e9dfda7ed7ed70d7a4b3dab65ca579e57dd8e1b4d3aeea89024110a8faa"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65ca579e57dd8e1b4d3aeea89024110a8faa">vficom::event::stk::SET_UP_EVENT_LIST</a></div><div class="ttdeci">@ SET_UP_EVENT_LIST</div><div class="ttdef"><b>Definition:</b> libcom3.h:238</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67">com_NetworkEvent</a></div><div class="ttdeci">com_NetworkEvent</div><div class="ttdef"><b>Definition:</b> libcom.h:77</div></div>
<div class="ttc" id="alibcom_8h_html_a3b34259bae0aa09b980e8b3b6a2b4125"><div class="ttname"><a href="libcom_8h.html#a3b34259bae0aa09b980e8b3b6a2b4125">com_NetworkWait</a></div><div class="ttdeci">DllSpec enum com_WaitNetStatus com_NetworkWait(com_NetworkHandle *handle, unsigned int timeout_msec, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___eddystone_u_i_d"><div class="ttname"><a href="libcom_8h.html#structcom___eddystone_u_i_d">com_EddystoneUID</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1451</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a08da058f9e2399639365eccf1f7706d3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a08da058f9e2399639365eccf1f7706d3">vficom::cmdparam::in::ping::waittime</a></div><div class="ttdeci">const COM3_DllSpec char waittime[]</div><div class="ttdoc">integer - [optional] reply wait &quot;waittime&quot; in milliseconds, default 5000 milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a691163ffe05f666dbb61ea9ce810cdf0"><div class="ttname"><a href="libcom_8h.html#a691163ffe05f666dbb61ea9ce810cdf0">com_NetworkInterfaceInfo::IPV6_DHCP_Enabled</a></div><div class="ttdeci">int IPV6_DHCP_Enabled</div><div class="ttdef"><b>Definition:</b> libcom.h:1251</div></div>
<div class="ttc" id="alibcom_8h_html_ae8a2fcfa86cc8570bac8fd005d1be77a"><div class="ttname"><a href="libcom_8h.html#ae8a2fcfa86cc8570bac8fd005d1be77a">com_NetworkInterfaceInfo_Free</a></div><div class="ttdeci">DllSpec void com_NetworkInterfaceInfo_Free(struct com_NetworkInterfaceInfo *netinfo)</div></div>
<div class="ttc" id="alibcom_8h_html_a93110e3419cc76be68ce6f4472150ccd"><div class="ttname"><a href="libcom_8h.html#a93110e3419cc76be68ce6f4472150ccd">com_GetNetworkInterfaceInfo</a></div><div class="ttdeci">DllSpec int com_GetNetworkInterfaceInfo(enum com_Interfaces interface, struct com_NetworkInterfaceInfo **netinfo, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ad8ed41376d7876324c9101abf3cdd75ca709d8e521b4d6235f4a9b9a794386c17"><div class="ttname"><a href="libcom_8h.html#ad8ed41376d7876324c9101abf3cdd75ca709d8e521b4d6235f4a9b9a794386c17">COM_CONNECTION_TYPE_SSL</a></div><div class="ttdeci">@ COM_CONNECTION_TYPE_SSL</div><div class="ttdef"><b>Definition:</b> libcom.h:422</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___b_l_e_attribute"><div class="ttname"><a href="libcom_8h.html#structcom___b_l_e_attribute">com_BLEAttribute</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1481</div></div>
<div class="ttc" id="alibcom_8h_html_afda205165fdc3f98af8715f527fe3027"><div class="ttname"><a href="libcom_8h.html#afda205165fdc3f98af8715f527fe3027">com_WirelessScan</a></div><div class="ttdeci">DllSpec int com_WirelessScan(enum com_WirelessNetworkType type, char *buf, unsigned int len, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a5f0094ca0ed2ec56ee038478984cc729"><div class="ttname"><a href="libcom_8h.html#a5f0094ca0ed2ec56ee038478984cc729">com_NetworkInterfaceInfo::IPV6_Address_List</a></div><div class="ttdeci">struct com_IPv6_Data * IPV6_Address_List</div><div class="ttdef"><b>Definition:</b> libcom.h:1247</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a320046ae08e5dfb46679e8872556c35e"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a320046ae08e5dfb46679e8872556c35e">COM_EVENT_BT_EXT_VISUALIZE</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_VISUALIZE</div><div class="ttdef"><b>Definition:</b> libcom.h:102</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a136879a0c45bd4836dbb2f00a43160e3"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a136879a0c45bd4836dbb2f00a43160e3">COM_EVENT_BT_EXT_SUCCESS</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_SUCCESS</div><div class="ttdef"><b>Definition:</b> libcom.h:105</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1sim__access_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1sim__access.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::sim_access::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a8af493d8b6292c948138db4e4e4af299"><div class="ttname"><a href="libcom_8h.html#a8af493d8b6292c948138db4e4e4af299">com_BLEAttribute::data</a></div><div class="ttdeci">unsigned char data[512]</div><div class="ttdef"><b>Definition:</b> libcom.h:1484</div></div>
<div class="ttc" id="aclassvficom_1_1_exception_html_ad62489809e3df568e973597b928d6d9b"><div class="ttname"><a href="classvficom_1_1_exception.html#ad62489809e3df568e973597b928d6d9b">vficom::Exception::what</a></div><div class="ttdeci">virtual const char * what() const</div><div class="ttdoc">retrieve an error description</div></div>
<div class="ttc" id="asyslogcmd_8h_html_a3634f6fef0c62931e673162e0714d39caaaabad2553753eb2aceaa31ab2ad3d72"><div class="ttname"><a href="syslogcmd_8h.html#a3634f6fef0c62931e673162e0714d39caaaabad2553753eb2aceaa31ab2ad3d72">COM</a></div><div class="ttdeci">@ COM</div><div class="ttdef"><b>Definition:</b> syslogcmd.h:75</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__menu_html_a625b9748e49ec8ee41ab3546a32415c0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__menu.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::setup_menu::result</a></div><div class="ttdeci">const COM3_DllSpec char result[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_aa010b0294abc2af3e3b878c4a1493ab3"><div class="ttname"><a href="libcom_8h.html#aa010b0294abc2af3e3b878c4a1493ab3">com_GetBaseNetworkMode</a></div><div class="ttdeci">DllSpec int com_GetBaseNetworkMode(enum com_BaseNetworkMode *mode, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_a024d40cda59916fb9470299c7338d3e3"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a024d40cda59916fb9470299c7338d3e3">vficom::cmdparam::in::ussd_write::n</a></div><div class="ttdeci">const COM3_DllSpec char n[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_aa8ba2a877f35517bc8cebd9bb5fe56a6"><div class="ttname"><a href="libcom_8h.html#aa8ba2a877f35517bc8cebd9bb5fe56a6">com_GetNetworkRouteInfo</a></div><div class="ttdeci">DllSpec int com_GetNetworkRouteInfo(struct com_NetworkRouteInfo_IPv4 **rtinfo4, struct com_NetworkRouteInfo_IPv6 **rtinfo6, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ac8c39547d8e7fefb66c9e6168da8b35d"><div class="ttname"><a href="libcom_8h.html#ac8c39547d8e7fefb66c9e6168da8b35d">com_Init</a></div><div class="ttdeci">DllSpec int com_Init(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="aclassvficom_1_1_event_pipe_html"><div class="ttname"><a href="classvficom_1_1_event_pipe.html">vficom::EventPipe</a></div><div class="ttdef"><b>Definition:</b> libcom3.h:370</div></div>
<div class="ttc" id="alibcom_8h_html_ab92d9fa3397862c584a94d588e67dc92"><div class="ttname"><a href="libcom_8h.html#ab92d9fa3397862c584a94d588e67dc92">com_NetworkInterfaceInfo::IPV4_DNS2</a></div><div class="ttdeci">char IPV4_DNS2[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1242</div></div>
<div class="ttc" id="alibcom_8h_html_a5812b3ceaf6aa474bccf1845f3c604b0"><div class="ttname"><a href="libcom_8h.html#a5812b3ceaf6aa474bccf1845f3c604b0">com_NetworkInterfaceInfo::IPV4_Addr</a></div><div class="ttdeci">char IPV4_Addr[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1236</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__on_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__on.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_on::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="anamespacevfisdi_html_ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312"><div class="ttname"><a href="namespacevfisdi.html#ac9842112c341daedac40f79bbfdd65a4a67bc2ced260a8e43805d2480a785d312">vfisdi::NAME</a></div><div class="ttdeci">@ NAME</div><div class="ttdef"><b>Definition:</b> sdi_tags.h:45</div></div>
<div class="ttc" id="alibcom_8h_html_a87f752a4097af5bd9510703bcbb9ab48"><div class="ttname"><a href="libcom_8h.html#a87f752a4097af5bd9510703bcbb9ab48">com_NetworkInterfaceInfo::RX_Packets</a></div><div class="ttdeci">unsigned int RX_Packets</div><div class="ttdef"><b>Definition:</b> libcom.h:1253</div></div>
<div class="ttc" id="alibcom_8h_html_ab1290c7bdd7d5f0c21d2dd208bef2989"><div class="ttname"><a href="libcom_8h.html#ab1290c7bdd7d5f0c21d2dd208bef2989">com_NetworkRouteInfo_IPv4::dstNetmask</a></div><div class="ttdeci">char dstNetmask[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1291</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ping::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a67a7b4e8486f83b6ca30f8f86c559b5e"><div class="ttname"><a href="libcom_8h.html#a67a7b4e8486f83b6ca30f8f86c559b5e">com_IPv6_Data::next</a></div><div class="ttdeci">struct com_IPv6_Data * next</div><div class="ttdef"><b>Definition:</b> libcom.h:1225</div></div>
<div class="ttc" id="alibcom_8h_html_aae4a7ca85cf8d521b9e7eadcbd3c53c1"><div class="ttname"><a href="libcom_8h.html#aae4a7ca85cf8d521b9e7eadcbd3c53c1">com_NetworkInterfaceInfo::IPV6_DNS1</a></div><div class="ttdeci">char IPV6_DNS1[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1249</div></div>
<div class="ttc" id="alibcom_8h_html_a4eb5e5841f8bed136745567b470ac75c"><div class="ttname"><a href="libcom_8h.html#a4eb5e5841f8bed136745567b470ac75c">com_NetworkAddCallback</a></div><div class="ttdeci">DllSpec int com_NetworkAddCallback(comCallbackNetworkType callback, enum com_NetworkEvent eventsArr[], size_t count, void *priv, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ad6270f5c1d4a16369395040b6e2d69f6"><div class="ttname"><a href="libcom_8h.html#ad6270f5c1d4a16369395040b6e2d69f6">com_ConnectWait</a></div><div class="ttdeci">DllSpec enum com_WaitStatus com_ConnectWait(struct com_ConnectHandle *handle, unsigned int timeout_msec, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_aec0f538a04656ee7da7fa126128d3047"><div class="ttname"><a href="libcom_8h.html#aec0f538a04656ee7da7fa126128d3047">com_NetworkType</a></div><div class="ttdeci">com_NetworkType</div><div class="ttdef"><b>Definition:</b> libcom.h:433</div></div>
<div class="ttc" id="alibcom_8h_html_ae896b978ab432c98266983f332a92a59"><div class="ttname"><a href="libcom_8h.html#ae896b978ab432c98266983f332a92a59">com_NetworkRouteInfo_IPv4::srcAddr</a></div><div class="ttdeci">char srcAddr[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1289</div></div>
<div class="ttc" id="alibcom_8h_html_a332bd39910a20de262a2321a456e4a58a72f597a173f4df33b978aef78d7066c4"><div class="ttname"><a href="libcom_8h.html#a332bd39910a20de262a2321a456e4a58a72f597a173f4df33b978aef78d7066c4">COM_ERR_NET_DENY</a></div><div class="ttdeci">@ COM_ERR_NET_DENY</div><div class="ttdef"><b>Definition:</b> libcom.h:483</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_a79c2fe0e201065f97fb20afafb76a7d0"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#a79c2fe0e201065f97fb20afafb76a7d0">vficom::event::stk::select_item::icon_id_list_elem</a></div><div class="ttdeci">const COM3_DllSpec char icon_id_list_elem[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a6410f90915118e2ac0ae7b543ef7c289a60e3574de888a60ff5fd65a6d125114a"><div class="ttname"><a href="libcom_8h.html#a6410f90915118e2ac0ae7b543ef7c289a60e3574de888a60ff5fd65a6d125114a">COM_LINK_ETHERNET</a></div><div class="ttdeci">@ COM_LINK_ETHERNET</div><div class="ttdef"><b>Definition:</b> libcom.h:1208</div></div>
<div class="ttc" id="alibcom_8h_html_a4f5b7422b274b52c5946963ea7c789fa"><div class="ttname"><a href="libcom_8h.html#a4f5b7422b274b52c5946963ea7c789fa">com_NetworkInterfaceInfo::IPV4_Destination</a></div><div class="ttdeci">char IPV4_Destination[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1239</div></div>
<div class="ttc" id="aclassvfiipc_1_1_j_s_object_html"><div class="ttname"><a href="classvfiipc_1_1_j_s_object.html">vfiipc::JSObject</a></div><div class="ttdef"><b>Definition:</b> jsobject.h:28</div></div>
<div class="ttc" id="aipc_2src_2ipc_2jsobject_8h_html"><div class="ttname"><a href="ipc_2src_2ipc_2jsobject_8h.html">jsobject.h</a></div></div>
<div class="ttc" id="anamespacevficom_1_1status_html_ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59"><div class="ttname"><a href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbca2bc49ec37d6a5715dd23e85f1ff5bb59">vficom::status::OK</a></div><div class="ttdeci">@ OK</div><div class="ttdoc">No Error.</div><div class="ttdef"><b>Definition:</b> libcom3.h:298</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__event__list_html_a625b9748e49ec8ee41ab3546a32415c0"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1setup__event__list.html#a625b9748e49ec8ee41ab3546a32415c0">vficom::cmdparam::in::stk_write::msg::tr::setup_event_list::result</a></div><div class="ttdeci">const COM3_DllSpec char result[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_aa16a425c030afc1b8f4cd83616098096"><div class="ttname"><a href="libcom_8h.html#aa16a425c030afc1b8f4cd83616098096">com_SetBaseNetworkMode</a></div><div class="ttdeci">DllSpec int com_SetBaseNetworkMode(const enum com_BaseNetworkMode mode, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_acf7b51faba3c0f68c41aced22e8feac8"><div class="ttname"><a href="libcom_8h.html#acf7b51faba3c0f68c41aced22e8feac8">com_IPv6_Data::IPV6_Addr</a></div><div class="ttdeci">char IPV6_Addr[COM_IPV6_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1227</div></div>
<div class="ttc" id="alibcom_8h_html_a19c50d06994f4123bfdd643fdb2f26de"><div class="ttname"><a href="libcom_8h.html#a19c50d06994f4123bfdd643fdb2f26de">com_Select</a></div><div class="ttdeci">DllSpec int com_Select(struct com_ConnectHandle *handle, unsigned int flags_in, int timeout, unsigned int *flags_out, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1ussd_html_ac45b0e198aed51eba7ed7e5085177d7b"><div class="ttname"><a href="namespacevficom_1_1event_1_1ussd.html#ac45b0e198aed51eba7ed7e5085177d7b">vficom::event::ussd::dcs</a></div><div class="ttdeci">const COM3_DllSpec char dcs[]</div><div class="ttdoc">integer, optional. Must be present if str is set</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a2a1d0b5edb4eebde7e6d5bbc84c02730"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a2a1d0b5edb4eebde7e6d5bbc84c02730">vficom::cmdparam::in::ping::interface</a></div><div class="ttdeci">const COM3_DllSpec char interface[]</div><div class="ttdoc">integer - [optional] value of type 'enum com_Interface', default COM_INTERFACE_ANY</div></div>
<div class="ttc" id="alibcom_8h_html_a04d16ad0cb213bed97df0c2ef0fb6f4e"><div class="ttname"><a href="libcom_8h.html#a04d16ad0cb213bed97df0c2ef0fb6f4e">com_StartupMode</a></div><div class="ttdeci">com_StartupMode</div><div class="ttdef"><b>Definition:</b> libcom.h:827</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_a98835b95b5bab834959434cf556f73da"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#a98835b95b5bab834959434cf556f73da">vficom::cmdparam::in::ping::interval</a></div><div class="ttdeci">const COM3_DllSpec char interval[]</div><div class="ttdoc">integer - [optional] milliseconds between sending each packet, default: 1000</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_afad542aa2df7161acbc7ab01d5dfe664"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#afad542aa2df7161acbc7ab01d5dfe664">vficom::event::stk::menu_selection::total_items</a></div><div class="ttdeci">const COM3_DllSpec char total_items[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a61643cc4c9047a8cd528f10846e3ec17"><div class="ttname"><a href="libcom_8h.html#a61643cc4c9047a8cd528f10846e3ec17">com_Receive</a></div><div class="ttdeci">DllSpec ssize_t com_Receive(struct com_ConnectHandle *handle, void *buffer, size_t size, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a744eedee50fdd2228d733cdc238f5891"><div class="ttname"><a href="libcom_8h.html#a744eedee50fdd2228d733cdc238f5891">com_NetworkRouteInfo_IPv4::protocol</a></div><div class="ttdeci">enum com_NetworkRouteProtocol protocol</div><div class="ttdef"><b>Definition:</b> libcom.h:1295</div></div>
<div class="ttc" id="alibcom_8h_html_a9c3e27fc0f94996248a792614a3d96df"><div class="ttname"><a href="libcom_8h.html#a9c3e27fc0f94996248a792614a3d96df">com_NetworkInterfaceInfo::Link_Type</a></div><div class="ttdeci">enum com_LinkType Link_Type</div><div class="ttdef"><b>Definition:</b> libcom.h:1264</div></div>
<div class="ttc" id="alibcom_8h_html_a256e125f12ac7cda21afa82e25b6229d"><div class="ttname"><a href="libcom_8h.html#a256e125f12ac7cda21afa82e25b6229d">com_GetProfilePropertyInt</a></div><div class="ttdeci">DllSpec int com_GetProfilePropertyInt(const void *data, enum com_ConnectionType type, enum com_ProfilePropertyInt intProperty, int *result, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_ad86d6b728cc4898a972a585fa28e1ece"><div class="ttname"><a href="libcom_8h.html#ad86d6b728cc4898a972a585fa28e1ece">com_WLANKeyMgmt</a></div><div class="ttdeci">com_WLANKeyMgmt</div><div class="ttdef"><b>Definition:</b> libcom.h:670</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_1_1ping_html_ab3f37340f5eeeabadac4fca46e9877c9"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out_1_1ping.html#ab3f37340f5eeeabadac4fca46e9877c9">vficom::cmdparam::out::ping::transmitted</a></div><div class="ttdeci">const COM3_DllSpec char transmitted[]</div><div class="ttdoc">integer - number of transmitted packets</div></div>
<div class="ttc" id="alibcom_8h_html_a8bca756375d8e08dcfdb9884f2226623"><div class="ttname"><a href="libcom_8h.html#a8bca756375d8e08dcfdb9884f2226623">com_ConnectClose</a></div><div class="ttdeci">DllSpec int com_ConnectClose(struct com_ConnectHandle *handle, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1select__item_html_afad542aa2df7161acbc7ab01d5dfe664"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1select__item.html#afad542aa2df7161acbc7ab01d5dfe664">vficom::event::stk::select_item::total_items</a></div><div class="ttdeci">const COM3_DllSpec char total_items[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a073773bac534ee574f7c3a7580ed162b"><div class="ttname"><a href="libcom_8h.html#a073773bac534ee574f7c3a7580ed162b">com_NetworkInterfaceInfo::IPV4_Gateway</a></div><div class="ttdeci">char IPV4_Gateway[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1240</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_abd252468ae3a3e5279e052c25dc799ef"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#abd252468ae3a3e5279e052c25dc799ef">vficom::event::stk::proactive_command</a></div><div class="ttdeci">const COM3_DllSpec char proactive_command[]</div><div class="ttdoc">integer (enum STKURCProCommand) - Type of command, for example 5 (SET UP EVENT LIST)</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a69049ca20e2420d3b011774fd81bb2d7"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a69049ca20e2420d3b011774fd81bb2d7">COM_EVENT_NETWORK_LINK_DOWN</a></div><div class="ttdeci">@ COM_EVENT_NETWORK_LINK_DOWN</div><div class="ttdef"><b>Definition:</b> libcom.h:82</div></div>
<div class="ttc" id="alibcom_8h_html_accd81dfb7ff0fe1bdf0e1265be6ee4bd"><div class="ttname"><a href="libcom_8h.html#accd81dfb7ff0fe1bdf0e1265be6ee4bd">com_NetworkInterfaceInfo::IPV4_Netmask</a></div><div class="ttdeci">char IPV4_Netmask[COM_IPV4_ADDR_LENGTH]</div><div class="ttdef"><b>Definition:</b> libcom.h:1237</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___network_route_info___i_pv4"><div class="ttname"><a href="libcom_8h.html#structcom___network_route_info___i_pv4">com_NetworkRouteInfo_IPv4</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1284</div></div>
<div class="ttc" id="alibcom_8h_html_structcom___network_route_info___i_pv6"><div class="ttname"><a href="libcom_8h.html#structcom___network_route_info___i_pv6">com_NetworkRouteInfo_IPv6</a></div><div class="ttdef"><b>Definition:</b> libcom.h:1300</div></div>
<div class="ttc" id="alibcom_8h_html_ad6cd965bf5bb6572c4e996201f7abcb6"><div class="ttname"><a href="libcom_8h.html#ad6cd965bf5bb6572c4e996201f7abcb6">com_BaseNetworkMode</a></div><div class="ttdeci">com_BaseNetworkMode</div><div class="ttdef"><b>Definition:</b> libcom.h:1516</div></div>
<div class="ttc" id="aclassvficom_1_1_event_pipe_html_af780052cc93b5836bc71741f5de5462e"><div class="ttname"><a href="classvficom_1_1_event_pipe.html#af780052cc93b5836bc71741f5de5462e">vficom::EventPipe::recv</a></div><div class="ttdeci">enum status::PipeStatus recv(vfiipc::JSObject &amp;out, Milliseconds millis)</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1out_html_a2d25468a9609684dc26c6ef8afea754d"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1out.html#a2d25468a9609684dc26c6ef8afea754d">vficom::cmdparam::out::comerr</a></div><div class="ttdeci">const COM3_DllSpec char comerr[]</div><div class="ttdoc">contains the status of the command execution: one of com_ErrorCodes</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a718fb933f922f59d50270984ea93ec91"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a718fb933f922f59d50270984ea93ec91">vficom::event::stk::parameters</a></div><div class="ttdeci">const COM3_DllSpec char parameters[]</div><div class="ttdoc">object - contains parameters depending on proactive command</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ussd__write_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ussd__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::ussd_write::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_a5c35ed9103da7b49c849ee11097029b7"><div class="ttname"><a href="libcom_8h.html#a5c35ed9103da7b49c849ee11097029b7">com_BTGATTReadCharacteristic</a></div><div class="ttdeci">DllSpec int com_BTGATTReadCharacteristic(struct com_BLEAttribute *attribute, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a0520a40e12b3f4231eebc6bb08848cb9"><div class="ttname"><a href="libcom_8h.html#a0520a40e12b3f4231eebc6bb08848cb9">com_NetworkInterfaceInfo::IPV6_Supported</a></div><div class="ttdeci">int IPV6_Supported</div><div class="ttdef"><b>Definition:</b> libcom.h:1245</div></div>
<div class="ttc" id="alibcom_8h_html_a38b33fccc951bc546fbaee4ea832ef13"><div class="ttname"><a href="libcom_8h.html#a38b33fccc951bc546fbaee4ea832ef13">com_Connect</a></div><div class="ttdeci">DllSpec struct com_ConnectHandle * com_Connect(const char *connectionProfile, comCallbackConnectionType callback, void *priv, int timeout_msec, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="anamespacevficom_1_1status_html_ae7ba2f563df916ce3ce6be92a19d2bbcaef2863a469df3ea6871d640e3669a2f2"><div class="ttname"><a href="namespacevficom_1_1status.html#ae7ba2f563df916ce3ce6be92a19d2bbcaef2863a469df3ea6871d640e3669a2f2">vficom::status::INVALID</a></div><div class="ttdeci">@ INVALID</div><div class="ttdoc">Invalid request. This indicates an application programming error.</div><div class="ttdef"><b>Definition:</b> libcom3.h:299</div></div>
<div class="ttc" id="alibcom_8h_html_a8239249db998e4aac1b0477ec2e1b40fa6d8216bd52bb2d6dd8934962d43bfe13"><div class="ttname"><a href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa6d8216bd52bb2d6dd8934962d43bfe13">COM_EVENT_CONNECTION_NEXT</a></div><div class="ttdeci">@ COM_EVENT_CONNECTION_NEXT</div><div class="ttdef"><b>Definition:</b> libcom.h:56</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1set__up__event__list_html_a58b8a56ffbf2ffd58a11ae50b123344e"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1set__up__event__list.html#a58b8a56ffbf2ffd58a11ae50b123344e">vficom::event::stk::set_up_event_list::event_list</a></div><div class="ttdeci">const COM3_DllSpec char event_list[]</div><div class="ttdoc">integer - EventList, for example 22</div></div>
<div class="ttc" id="alibcom_8h_html_a94a1d6d004f668479644ad82ea1445e3"><div class="ttname"><a href="libcom_8h.html#a94a1d6d004f668479644ad82ea1445e3">com_NetworkRouteInfo_IPv6::next</a></div><div class="ttdeci">struct com_NetworkRouteInfo_IPv6 * next</div><div class="ttdef"><b>Definition:</b> libcom.h:1301</div></div>
<div class="ttc" id="alibcom_8h_html_a221d4da9cbfccf59bedb74e4fb8bd8a9"><div class="ttname"><a href="libcom_8h.html#a221d4da9cbfccf59bedb74e4fb8bd8a9">com_NetworkInterfaceInfo::IPV6_Enabled</a></div><div class="ttdeci">int IPV6_Enabled</div><div class="ttdef"><b>Definition:</b> libcom.h:1246</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_html_a15b1cdaa09166038d605a69c5d558977"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in.html#a15b1cdaa09166038d605a69c5d558977">vficom::cmdparam::in::command</a></div><div class="ttdeci">const COM3_DllSpec char command[]</div><div class="ttdoc">string - JSON member holding one of the command string values defined in vficom::cmd namespace</div></div>
<div class="ttc" id="alibcom_8h_html_a8239249db998e4aac1b0477ec2e1b40fa7ba08d06fab43ae5774d8eccbbd8ab65"><div class="ttname"><a href="libcom_8h.html#a8239249db998e4aac1b0477ec2e1b40fa7ba08d06fab43ae5774d8eccbbd8ab65">COM_EVENT_PROFILE_FAILED</a></div><div class="ttdeci">@ COM_EVENT_PROFILE_FAILED</div><div class="ttdef"><b>Definition:</b> libcom.h:58</div></div>
<div class="ttc" id="alibcom_8h_html_aacde29b5fc4cac0c97745a39668d725d"><div class="ttname"><a href="libcom_8h.html#aacde29b5fc4cac0c97745a39668d725d">com_NetworkInterfaceInfo::status</a></div><div class="ttdeci">enum com_NetworkStatus status</div><div class="ttdef"><b>Definition:</b> libcom.h:1234</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item_html_a279e633341df7c5aa4d6921f2c3fbd70"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write_1_1msg_1_1tr_1_1select__item.html#a279e633341df7c5aa4d6921f2c3fbd70">vficom::cmdparam::in::stk_write::msg::tr::select_item::add_result</a></div><div class="ttdeci">const COM3_DllSpec char add_result[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_html_a2b4a0dc4f4178cae0b1a5abb7d0122de"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a2b4a0dc4f4178cae0b1a5abb7d0122de">vficom::cmdparam::in::stk_write::timeout</a></div><div class="ttdeci">const COM3_DllSpec char timeout[]</div><div class="ttdoc">integer - Overall timeout in milliseconds</div></div>
<div class="ttc" id="alibcom_8h_html_aede6b17a3932173738f7c5c0abfb138a"><div class="ttname"><a href="libcom_8h.html#aede6b17a3932173738f7c5c0abfb138a">com_NetworkInterfaceInfo::RX_Bytes</a></div><div class="ttdeci">unsigned int RX_Bytes</div><div class="ttdef"><b>Definition:</b> libcom.h:1255</div></div>
<div class="ttc" id="anfc_8cpp_html_ae00a52dba55d31948c377fa85d385b87"><div class="ttname"><a href="nfc_8cpp.html#ae00a52dba55d31948c377fa85d385b87">P2</a></div><div class="ttdeci">#define P2</div><div class="ttdef"><b>Definition:</b> nfc.cpp:37</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_html_a5c9f20e9dfda7ed7ed70d7a4b3dab65cae26875fc20d12429767cd8101f356898"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk.html#a5c9f20e9dfda7ed7ed70d7a4b3dab65cae26875fc20d12429767cd8101f356898">vficom::event::stk::MENU_SELECTION</a></div><div class="ttdeci">@ MENU_SELECTION</div><div class="ttdef"><b>Definition:</b> libcom3.h:240</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1ping_html_ae0d180616fe53dddd61f70c62526b0db"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1ping.html#ae0d180616fe53dddd61f70c62526b0db">vficom::cmdparam::in::ping::size</a></div><div class="ttdeci">const COM3_DllSpec char size[]</div><div class="ttdoc">integer - [optional] use &quot;size&quot; as number of data bytes to be sent, default 56</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67a9f1d25590dfdff3e02aabbdc2deed381"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67a9f1d25590dfdff3e02aabbdc2deed381">COM_EVENT_BT_EXT_CONFIRM</a></div><div class="ttdeci">@ COM_EVENT_BT_EXT_CONFIRM</div><div class="ttdef"><b>Definition:</b> libcom.h:101</div></div>
<div class="ttc" id="aclassvficom_1_1_exception_html_a525b39dd291368956cb3b122d6009de5"><div class="ttname"><a href="classvficom_1_1_exception.html#a525b39dd291368956cb3b122d6009de5">vficom::Exception::getError</a></div><div class="ttdeci">status::PipeStatus getError() const</div><div class="ttdoc">retrieve status code</div></div>
<div class="ttc" id="alibcom_8h_html_a6444d090d66016553d731555a9c68a18a50ecef5eb0009cb46d25646ed7c84e6a"><div class="ttname"><a href="libcom_8h.html#a6444d090d66016553d731555a9c68a18a50ecef5eb0009cb46d25646ed7c84e6a">COM_IPV6_SCOPE_UNSPECIFIED</a></div><div class="ttdeci">@ COM_IPV6_SCOPE_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> libcom.h:1215</div></div>
<div class="ttc" id="alibcom_8h_html_ab3efbbdefd73b05f6028b54236b243a5"><div class="ttname"><a href="libcom_8h.html#ab3efbbdefd73b05f6028b54236b243a5">com_NetworkInterfaceInfo::RX_Errors</a></div><div class="ttdeci">unsigned int RX_Errors</div><div class="ttdef"><b>Definition:</b> libcom.h:1254</div></div>
<div class="ttc" id="alibcom_8h_html_a8629e7051f4be75c131b23de2f461591"><div class="ttname"><a href="libcom_8h.html#a8629e7051f4be75c131b23de2f461591">com_GetProfilePropertyString</a></div><div class="ttdeci">DllSpec int com_GetProfilePropertyString(const void *data, enum com_ConnectionType type, enum com_ProfilePropertyString stringProperty, const char **result, enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a02ed137c38a7f529440af3d68d17a740ad3f448426bd402fcb46e5a869958703a"><div class="ttname"><a href="libcom_8h.html#a02ed137c38a7f529440af3d68d17a740ad3f448426bd402fcb46e5a869958703a">COM_CONNECTION_STATUS_CONNECT</a></div><div class="ttdeci">@ COM_CONNECTION_STATUS_CONNECT</div><div class="ttdef"><b>Definition:</b> libcom.h:39</div></div>
<div class="ttc" id="alibcom_8h_html_a6c5ac78b70ebdac3c33833deff67d074"><div class="ttname"><a href="libcom_8h.html#a6c5ac78b70ebdac3c33833deff67d074">com_WLANProto</a></div><div class="ttdeci">com_WLANProto</div><div class="ttdef"><b>Definition:</b> libcom.h:649</div></div>
<div class="ttc" id="amain_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> main.cpp:1237</div></div>
<div class="ttc" id="alibcom_8h_html_a74cce87f701d74146be5852c3e6c9bbfadb2a3b19d3a46d0556ff4b4c2e0fdb7b"><div class="ttname"><a href="libcom_8h.html#a74cce87f701d74146be5852c3e6c9bbfadb2a3b19d3a46d0556ff4b4c2e0fdb7b">COM_PROP_BT_IBEACON_STATUS</a></div><div class="ttdeci">@ COM_PROP_BT_IBEACON_STATUS</div><div class="ttdef"><b>Definition:</b> libcom.h:312</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a82b164577136a1cd6874a72f73846fce"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a82b164577136a1cd6874a72f73846fce">vficom::event::stk::menu_selection::cmd_qualifier</a></div><div class="ttdeci">const COM3_DllSpec char cmd_qualifier[]</div><div class="ttdoc">integer</div></div>
<div class="ttc" id="alibcom_8h_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="libcom_8h.html#a854352f53b148adc24983a58a1866d66">com_BLEAttribute::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> libcom.h:1483</div></div>
<div class="ttc" id="alibcom_8h_html_ab7d6229fc4c241f5fd9ac94ec4c3be12"><div class="ttname"><a href="libcom_8h.html#ab7d6229fc4c241f5fd9ac94ec4c3be12">com_EddystoneUIDStartAdvertisement</a></div><div class="ttdeci">DllSpec int com_EddystoneUIDStartAdvertisement(enum com_ErrorCodes *com_errno)</div></div>
<div class="ttc" id="alibcom_8h_html_a0496cb54a878b5e873baabcb337f3b67ad2a8194f7a0a2154d394403790f79c1b"><div class="ttname"><a href="libcom_8h.html#a0496cb54a878b5e873baabcb337f3b67ad2a8194f7a0a2154d394403790f79c1b">COM_EVENT_NETWORK_INTERFACE_UP</a></div><div class="ttdeci">@ COM_EVENT_NETWORK_INTERFACE_UP</div><div class="ttdef"><b>Definition:</b> libcom.h:79</div></div>
<div class="ttc" id="anamespacevficom_1_1cmdparam_1_1in_1_1stk__write_html_a59a4060a8f4c471a8a2814ede31645d9"><div class="ttname"><a href="namespacevficom_1_1cmdparam_1_1in_1_1stk__write.html#a59a4060a8f4c471a8a2814ede31645d9">vficom::cmdparam::in::stk_write::message_obj</a></div><div class="ttdeci">const COM3_DllSpec char message_obj[]</div><div class="ttdoc">Object - Parameters depending on STK.</div></div>
<div class="ttc" id="alibcom_8h_html_a0fa9ee525de984dfdb924e450ba8fbd3ad179702710159b7c1bf09ab748a23c29"><div class="ttname"><a href="libcom_8h.html#a0fa9ee525de984dfdb924e450ba8fbd3ad179702710159b7c1bf09ab748a23c29">COM_NET_STATUS_OK</a></div><div class="ttdeci">@ COM_NET_STATUS_OK</div><div class="ttdef"><b>Definition:</b> libcom.h:47</div></div>
<div class="ttc" id="anamespacevficom_1_1event_1_1stk_1_1menu__selection_html_a79c2fe0e201065f97fb20afafb76a7d0"><div class="ttname"><a href="namespacevficom_1_1event_1_1stk_1_1menu__selection.html#a79c2fe0e201065f97fb20afafb76a7d0">vficom::event::stk::menu_selection::icon_id_list_elem</a></div><div class="ttdeci">const COM3_DllSpec char icon_id_list_elem[]</div><div class="ttdoc">integer</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Application Development Kit (ADK)</a></li><li class="navelem"><a class="el" href="system_overview.html">System Overview</a></li><li class="navelem"><a class="el" href="pg_all_components.html">ADK Components</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:04:01 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
