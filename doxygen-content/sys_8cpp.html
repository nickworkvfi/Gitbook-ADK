<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: sdi/src/sys.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sys_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sys.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;<a class="el" href="gui_8h_source.html">html/gui.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mac_8h_source.html">sysinfo/mac.h</a>&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;pwd.h&gt;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &lt;<a class="el" href="libsecins_8h_source.html">libsecins.h</a>&gt;</code><br />
<code>#include &lt;svcmgr/svc_utility.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sec_8h_source.html">sec.h</a>&quot;</code><br />
<code>#include &quot;csd.h&quot;</code><br />
<code>#include &quot;csd-version.h&quot;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &quot;epp/counterTop.h&quot;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;svcsec.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sysinfo_8h_source.html">sysinfo/sysinfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vfisyspm_8h_source.html">sysinfo/vfisyspm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys_8h_source.html">sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2ped_8h_source.html">ped.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t___interface_8h_source.html">emv/EMV_CT_Interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t___ser_interface_8h_source.html">emv/EMV_CT_SerInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e2_e___e_m_v___c_t___serialize_8h_source.html">emv/E2E_EMV_CT_Serialize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t_l_s___interface_8h_source.html">emv/EMV_CTLS_Interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_m_v___c_t_l_s___ser_interface_8h_source.html">emv/EMV_CTLS_SerInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e2_e___e_m_v___c_t_l_s___serialize_8h_source.html">emv/E2E_EMV_CTLS_Serialize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btlv__helper_8h_source.html">btlv_helper.h</a>&quot;</code><br />
<code>#include &quot;emv.h&quot;</code><br />
<code>#include &quot;emv_ctls.h&quot;</code><br />
<code>#include &quot;version.h&quot;</code><br />
<code>#include &quot;<a class="el" href="__logf_8h_source.html">_logf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disp_8h_source.html">disp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="msr_8h_source.html">msr.h</a>&quot;</code><br />
<code>#include &quot;msr/msr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libsec_8h_source.html">sec/libsec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;config/sdi_sysconfig.h&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2sdi__tags_8h_source.html">sdi_tags.h</a>&quot;</code><br />
<code>#include &quot;data.h&quot;</code><br />
<code>#include &quot;<a class="el" href="crypt_8h_source.html">crypt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="loadplugin_8h_source.html">loadplugin.h</a>&quot;</code><br />
<code>#include &quot;common/respVal.h&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="madk__pp__protocol_8h_source.html">madk_pp_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pthreadutil_8h_source.html">pthreadutil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filesystem_8h_source.html">filesystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pathutil_8h_source.html">pathutil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2hexutil_8h_source.html">hexutil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi_2src_2util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdikeyservice_8h_source.html">sdikeyservice.h</a>&quot;</code><br />
<code>#include &quot;cardranges.h&quot;</code><br />
<code>#include &quot;filterconfig.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi__timer_8h_source.html">sdi_timer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sdi__lang_8h_source.html">sdi_lang.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_update_context.html">UpdateContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab48015210e330ca6e3f894cb7ac8b35c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#ab48015210e330ca6e3f894cb7ac8b35c">SECINS_FORCE_INSTALL</a>&#160;&#160;&#160;<a class="el" href="libsecins_8h.html#a8785304d958ff2afa1a1558426060af6">SECINS_BIT</a>(0)</td></tr>
<tr class="separator:ab48015210e330ca6e3f894cb7ac8b35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5afd70f762155ff1036a0a8efde184"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a7f5afd70f762155ff1036a0a8efde184">SECINS_FORCE_REBOOT</a>&#160;&#160;&#160;<a class="el" href="libsecins_8h.html#a8785304d958ff2afa1a1558426060af6">SECINS_BIT</a>(2)</td></tr>
<tr class="separator:a7f5afd70f762155ff1036a0a8efde184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27eea42be89a6e50555732afafcfb8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#ae27eea42be89a6e50555732afafcfb8f">SET_RESULT</a>(sw1,  sw2)&#160;&#160;&#160;{ rsp[0] = sw1; rsp[1] = sw2; *rspSize = 2; }</td></tr>
<tr class="separator:ae27eea42be89a6e50555732afafcfb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6168c25344a05918f9e55756eac5522e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a6168c25344a05918f9e55756eac5522e">MAX_UPLOAD_FILE_SIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:a6168c25344a05918f9e55756eac5522e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2b1e62cbba20fe441f74365bab09c22c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a2b1e62cbba20fe441f74365bab09c22c">setSW1SW2</a> (int result, unsigned char *rsp)</td></tr>
<tr class="separator:a2b1e62cbba20fe441f74365bab09c22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914eb0ad5b455073caeed46e742f3cd2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a914eb0ad5b455073caeed46e742f3cd2">sys_internal_android</a> ()</td></tr>
<tr class="separator:a914eb0ad5b455073caeed46e742f3cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7109ff8195a9046828f8120509022d76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a7109ff8195a9046828f8120509022d76">vos_sys8</a> ()</td></tr>
<tr class="separator:a7109ff8195a9046828f8120509022d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbe3a6553fce242b52a2655173897fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#aadbe3a6553fce242b52a2655173897fe">isHwModelName</a> (const char *targetHwModelName)</td></tr>
<tr class="separator:aadbe3a6553fce242b52a2655173897fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aeb676c0c19ca74396503eb1267f979"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a3aeb676c0c19ca74396503eb1267f979">checkBundleInstalled</a> (const char *bdlname)</td></tr>
<tr class="separator:a3aeb676c0c19ca74396503eb1267f979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8ab8c8d592d69c0b6d074f03081d3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#afe8ab8c8d592d69c0b6d074f03081d3e">handleSystemCmd</a> (unsigned long msgBufSize, unsigned char *msg, unsigned long msgSize, unsigned short rspBufSize, unsigned char *rsp, unsigned short *rspSize)</td></tr>
<tr class="separator:afe8ab8c8d592d69c0b6d074f03081d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ff9f4a2125f866eda540eaf867197b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#af8ff9f4a2125f866eda540eaf867197b">check4Interrupt</a> (void)</td></tr>
<tr class="separator:af8ff9f4a2125f866eda540eaf867197b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236d1705a845df2853614cbf8052583b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a236d1705a845df2853614cbf8052583b">setInterrupt</a> (enum <a class="el" href="sys_8h.html#a0ee277aec4317de742cf8b2bd40af3a9">ExtserverResult</a> r)</td></tr>
<tr class="separator:a236d1705a845df2853614cbf8052583b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43801947261b861981e5f2c52e878fa0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a43801947261b861981e5f2c52e878fa0">isCardRemoved</a> (void)</td></tr>
<tr class="separator:a43801947261b861981e5f2c52e878fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05a33a2f7e55688d36a0692fc795ffe"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#ae05a33a2f7e55688d36a0692fc795ffe">errText</a> (int err)</td></tr>
<tr class="separator:ae05a33a2f7e55688d36a0692fc795ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28a8edfbaded7c71c0e249ae70aba3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#ac28a8edfbaded7c71c0e249ae70aba3b">setDevice2Idle</a> (void)</td></tr>
<tr class="separator:ac28a8edfbaded7c71c0e249ae70aba3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968e55dee8f3b0ee8226f93667bb2a53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a968e55dee8f3b0ee8226f93667bb2a53">sysDisplayIdleScreen</a> (unsigned mode, const char *idletext)</td></tr>
<tr class="separator:a968e55dee8f3b0ee8226f93667bb2a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ab2d39fc437b5924aed122a8adb57e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a02ab2d39fc437b5924aed122a8adb57e">sysSetIdleScreenFinished</a> (unsigned long id)</td></tr>
<tr class="separator:a02ab2d39fc437b5924aed122a8adb57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85581548b99a07d923feb33e0297b5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#af85581548b99a07d923feb33e0297b5c">sysSetIdleScreenAdminMenu</a> (bool on)</td></tr>
<tr class="separator:af85581548b99a07d923feb33e0297b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc512dc0654bb4a1b9a113c6cdc9224"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a9dc512dc0654bb4a1b9a113c6cdc9224">sysSetIdleScreenLocked</a> (bool lock, bool update_screen)</td></tr>
<tr class="separator:a9dc512dc0654bb4a1b9a113c6cdc9224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af826b34d72f2718baf08d472448063bd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="sys_8h.html#acbca865bf1cc550151c765b4bb11dc7e">IdleLockType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#af826b34d72f2718baf08d472448063bd">sysGetIdleScreenLocked</a> ()</td></tr>
<tr class="separator:af826b34d72f2718baf08d472448063bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6777013b116ca3f41fc511143671ef8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_8cpp.html#a6777013b116ca3f41fc511143671ef8e">sysResetUpdateContext</a> (void *handle)</td></tr>
<tr class="separator:a6777013b116ca3f41fc511143671ef8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6168c25344a05918f9e55756eac5522e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6168c25344a05918f9e55756eac5522e">&#9670;&nbsp;</a></span>MAX_UPLOAD_FILE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_UPLOAD_FILE_SIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab48015210e330ca6e3f894cb7ac8b35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48015210e330ca6e3f894cb7ac8b35c">&#9670;&nbsp;</a></span>SECINS_FORCE_INSTALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECINS_FORCE_INSTALL&#160;&#160;&#160;<a class="el" href="libsecins_8h.html#a8785304d958ff2afa1a1558426060af6">SECINS_BIT</a>(0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ignore critical section and proceed with the install after killing the user apps. </p>

</div>
</div>
<a id="a7f5afd70f762155ff1036a0a8efde184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5afd70f762155ff1036a0a8efde184">&#9670;&nbsp;</a></span>SECINS_FORCE_REBOOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECINS_FORCE_REBOOT&#160;&#160;&#160;<a class="el" href="libsecins_8h.html#a8785304d958ff2afa1a1558426060af6">SECINS_BIT</a>(2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Directive from caller to reboot system. This directive is ignored in case of errors. </p>

</div>
</div>
<a id="ae27eea42be89a6e50555732afafcfb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae27eea42be89a6e50555732afafcfb8f">&#9670;&nbsp;</a></span>SET_RESULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_RESULT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sw1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sw2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{ rsp[0] = sw1; rsp[1] = sw2; *rspSize = 2; }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af8ff9f4a2125f866eda540eaf867197b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ff9f4a2125f866eda540eaf867197b">&#9670;&nbsp;</a></span>check4Interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check4Interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a SysAbort command is received or a Link interruption occurred </p><dl class="section return"><dt>Returns</dt><dd>RESULT_MOBILE_ABORT if a SysAbort is received, RESULT_NO_LINK in case of link interrupt, else RESULT_OK </dd></dl>

</div>
</div>
<a id="a3aeb676c0c19ca74396503eb1267f979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aeb676c0c19ca74396503eb1267f979">&#9670;&nbsp;</a></span>checkBundleInstalled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkBundleInstalled </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bdlname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>check for installed bundle with name <code>bdlname</code>. String <code>bdlname</code> can be a regular expression. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bdlname</td><td>name of the bundle (or regex) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the bundle is installed, false in case that <code>bdlname</code> does not match an installed bundle </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function works for VOS/VOS2 only. If invoked on other platforms it returns always false. </dd></dl>

</div>
</div>
<a id="ae05a33a2f7e55688d36a0692fc795ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae05a33a2f7e55688d36a0692fc795ffe">&#9670;&nbsp;</a></span>errText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* errText </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return C-String of error ExtserverResult </p><dl class="section return"><dt>Returns</dt><dd>C-String with error name, "UNKNOWN" for unknown error codes </dd></dl>

</div>
</div>
<a id="afe8ab8c8d592d69c0b6d074f03081d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe8ab8c8d592d69c0b6d074f03081d3e">&#9670;&nbsp;</a></span>handleSystemCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handleSystemCmd </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>msgBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>msgSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>rspBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>rsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>rspSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dispatch function to handle different system commands </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgBufSize</td><td>size of the input message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>pointer to the input message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgSize</td><td>size of the input message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rspBufSize</td><td>maximum size of the response buffer </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsp</td><td>pointer to the response buffer </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rspSize</td><td>pointer to the response message size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was executed and rsp contains a response, false in case invocation is not allowed by a side command. </dd></dl>

</div>
</div>
<a id="a43801947261b861981e5f2c52e878fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43801947261b861981e5f2c52e878fa0">&#9670;&nbsp;</a></span>isCardRemoved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isCardRemoved </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a Chip Card is removed </p><dl class="section return"><dt>Returns</dt><dd>0 = Card inserted, 1 = Card removed </dd></dl>

</div>
</div>
<a id="aadbe3a6553fce242b52a2655173897fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbe3a6553fce242b52a2655173897fe">&#9670;&nbsp;</a></span>isHwModelName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isHwModelName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>targetHwModelName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check the Hardware Model Name of the device </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetHwModelName</td><td>target Hardware Model Name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the Hardware Model Name matches, false if the Hardware Model Name doesn't match </dd></dl>

</div>
</div>
<a id="ac28a8edfbaded7c71c0e249ae70aba3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28a8edfbaded7c71c0e249ae70aba3b">&#9670;&nbsp;</a></span>setDevice2Idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setDevice2Idle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the device into idle mode </p>

</div>
</div>
<a id="a236d1705a845df2853614cbf8052583b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236d1705a845df2853614cbf8052583b">&#9670;&nbsp;</a></span>setInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setInterrupt </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="sys_8h.html#a0ee277aec4317de742cf8b2bd40af3a9">ExtserverResult</a>&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make the check4Interrupt return not RESULT_OK once. </p>

</div>
</div>
<a id="a2b1e62cbba20fe441f74365bab09c22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1e62cbba20fe441f74365bab09c22c">&#9670;&nbsp;</a></span>setSW1SW2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSW1SW2 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>rsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map result to SW1/SW2 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>SDI result code </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsp</td><td>pointer to the response buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a914eb0ad5b455073caeed46e742f3cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914eb0ad5b455073caeed46e742f3cd2">&#9670;&nbsp;</a></span>sys_internal_android()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sys_internal_android </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>checks for device types, which run SDI server on Engage and the payment application on the internal Android device. A special internal network is used to connect both devices. Recently these are CM5, M440 and M424. Others like X10 or X8 shall not match, since payment application runs on Engage here. </p><dl class="section return"><dt>Returns</dt><dd>true for internal android with payment application </dd></dl>

</div>
</div>
<a id="a968e55dee8f3b0ee8226f93667bb2a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968e55dee8f3b0ee8226f93667bb2a53">&#9670;&nbsp;</a></span>sysDisplayIdleScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysDisplayIdleScreen </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em> = <code><a class="el" href="sys_8h.html#acdffce6b62c4db2a50dd9cdae6caba78abe85fe1a66041bcdd883413a79606363">Idle_Normal</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>idletext</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display idle screen </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>idle screen mode bit mask, see enum IdleScreenMode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idletext</td><td>optional text used in favor of standard or customer text </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af826b34d72f2718baf08d472448063bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af826b34d72f2718baf08d472448063bd">&#9670;&nbsp;</a></span>sysGetIdleScreenLocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="sys_8h.html#acbca865bf1cc550151c765b4bb11dc7e">IdleLockType</a> sysGetIdleScreenLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true, if idle screen was locked either by <a class="el" href="sys_8h.html#af0f2a2ccba88c6c9f0ee759172febaa0">sysSetIdleScreenLocked()</a> or admin mode w/o admin menu was turned on by <a class="el" href="sys_8h.html#af85581548b99a07d923feb33e0297b5c">sysSetIdleScreenAdminMenu()</a> </p><dl class="section return"><dt>Returns</dt><dd>true, if idle screen is locked, else false </dd></dl>

</div>
</div>
<a id="a6777013b116ca3f41fc511143671ef8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6777013b116ca3f41fc511143671ef8e">&#9670;&nbsp;</a></span>sysResetUpdateContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysResetUpdateContext </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset update context allocated for SW update with 20-14, 20-15, 20-16. The function is invoked by a thread at connection termination to abort a pending update which was started by command 20-14, but not completed with 20-15 and 20-16. SDI server supports multiple connections, which can use the update interface. With a started update with command 20-14 on one connection, the interface is locked for other connections. If a connection terminates, which obtains the update context (lock), the interface would be unaccessable for other connections. Therfore, this function will abort the started update and unlock the update interface, if the connection disturbes so that it can be used by other connection again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>handle of the terminating connection </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af85581548b99a07d923feb33e0297b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85581548b99a07d923feb33e0297b5c">&#9670;&nbsp;</a></span>sysSetIdleScreenAdminMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysSetIdleScreenAdminMenu </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turn on the admin menu, if this was locked by admin mode (enabled by config). Next call of <a class="el" href="sys_8h.html#ad2bc24707c477aa4c2cb1c4fb92855df">sysDisplayIdleScreen()</a> with mode Idle_MenuEnabled then will display idle screen with menu/info softkey/keyhelpers. </p><dl class="section note"><dt>Note</dt><dd>This function has no effect, if admin mode is disabled (not enabled by config). </dd></dl>

</div>
</div>
<a id="a02ab2d39fc437b5924aed122a8adb57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ab2d39fc437b5924aed122a8adb57e">&#9670;&nbsp;</a></span>sysSetIdleScreenFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysSetIdleScreenFinished </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function called by idlescreen callback to signal the return of idlescreen </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>idlescreen ID forwarded by idlescreen callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if the last idle screen has display the admin menu, (for active admin mode) else false is returned. </dd></dl>

</div>
</div>
<a id="a9dc512dc0654bb4a1b9a113c6cdc9224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc512dc0654bb4a1b9a113c6cdc9224">&#9670;&nbsp;</a></span>sysSetIdleScreenLocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysSetIdleScreenLocked </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lock</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_screen</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock/Unlock the idle screen and disable/enable softkeys/keyhelpers to access the menu. If locked, further subsequent calls of <code><a class="el" href="sys_8h.html#ad2bc24707c477aa4c2cb1c4fb92855df">sysDisplayIdleScreen()</a></code> with mode <code>Idle_MenuEnabled</code> are suppressed and idle screen is displayed without softkeys/keyhelpers. Parameter <code>update_screen</code> (set to true) will replace an existing idle screen by a default idle screen by invoking function <a class="el" href="sys_8h.html#ad2bc24707c477aa4c2cb1c4fb92855df">sysDisplayIdleScreen()</a> with or without option Idle_MenuEnabled depending on the new lock state <code>lock</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>new lock state: true/false to lock/unlock the idle screen </td></tr>
    <tr><td class="paramname">update_screen</td><td>update an existing idle screen and enable/disable menu according new lock state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>old lock state (before this function was called): true, if the idlescreen was already locked false, if the idlescreen was already unlocked </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does nothing, if SDI admin mode was enabled by configuration. The admin mode defines another behavior for locking the idle screen (e.g. it must be always unlocked by key combination or touch. Thus, internal calls of this function, will be ignored </dd></dl>

</div>
</div>
<a id="a7109ff8195a9046828f8120509022d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7109ff8195a9046828f8120509022d76">&#9670;&nbsp;</a></span>vos_sys8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vos_sys8 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns true, if SDI server runs on V/OS as system user sys8 </p><dl class="section return"><dt>Returns</dt><dd>true if running as sys8 user </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_44d926a17fc606d3c25449ba60427c63.html">sdi</a></li><li class="navelem"><a class="el" href="dir_048f823fee1bfb22502a8732b9a001aa.html">src</a></li><li class="navelem"><a class="el" href="sys_8cpp.html">sys.cpp</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:57 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
