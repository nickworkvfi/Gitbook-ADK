<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADK-Programmers-Guides: tec/export/tec/tec.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="verifone.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="verifonelogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADK-Programmers-Guides
   &#160;<span id="projectnumber">5.0.3-CD1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tec_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tec.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="tec__common_8h_source.html">tec/tec_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tec.h:</div>
<div class="dyncontent">
<div class="center"><img src="tec_8h__incl.png" border="0" usemap="#tec_2export_2tec_2tec_8h" alt=""/></div>
<map name="tec_2export_2tec_2tec_8h" id="tec_2export_2tec_2tec_8h">
<area shape="rect" title=" " alt="" coords="5,5,153,32"/>
<area shape="rect" href="tec__common_8h.html" title=" " alt="" coords="8,80,151,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tec_8h__dep__incl.png" border="0" usemap="#tec_2export_2tec_2tec_8hdep" alt=""/></div>
<map name="tec_2export_2tec_2tec_8hdep" id="tec_2export_2tec_2tec_8hdep">
<area shape="rect" title=" " alt="" coords="67,5,215,32"/>
<area shape="rect" href="main_8cpp.html" title=" " alt="" coords="5,80,133,107"/>
<area shape="rect" href="nfc_8cpp.html" title=" " alt="" coords="157,80,272,107"/>
</map>
</div>
</div>
<p><a href="tec_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga131e9251b6b4f9c9c7a187c07f12820a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_c___n_o_t_i_f_i_c_a_t_i_o_n___c_b_k___t_y_p_e.html#ga131e9251b6b4f9c9c7a187c07f12820a">CTS_NOTIFICATION_CBK_TYPE_UX_CARD_INSERTED</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:ga131e9251b6b4f9c9c7a187c07f12820a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adbb62b791d8135bcd7edca85fcef33a5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a>) (void *data)</td></tr>
<tr class="separator:adbb62b791d8135bcd7edca85fcef33a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa237be1f0249503d0b959d3800f1ee34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#aa237be1f0249503d0b959d3800f1ee34">cts_SetOptions</a> (const unsigned char *options, unsigned char options_len)</td></tr>
<tr class="separator:aa237be1f0249503d0b959d3800f1ee34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6699fe32fc23e90713eb617e9ff25e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection</a> (unsigned char supportedTechnologies, unsigned short timeout_sec, <a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a> cbf, void *cb_data, unsigned char *options, unsigned char options_len)</td></tr>
<tr class="separator:ac6699fe32fc23e90713eb617e9ff25e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf2d75d1b584ae97ff9ee4da47cee38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#acaf2d75d1b584ae97ff9ee4da47cee38">cts_StopSelection</a> (void)</td></tr>
<tr class="separator:acaf2d75d1b584ae97ff9ee4da47cee38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5b104d8ad6e85feddb685379cdbf0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection</a> (unsigned char *usedTechnology, unsigned char *dataBuffer, unsigned short *dataBufferLength, unsigned short timeout_msec)</td></tr>
<tr class="separator:aee5b104d8ad6e85feddb685379cdbf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8569782d27f43e5d88cef3575a5d12c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#a8569782d27f43e5d88cef3575a5d12c6">cts_RemoveTechnologies</a> (unsigned char technologies)</td></tr>
<tr class="separator:a8569782d27f43e5d88cef3575a5d12c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60922ab5b40a033ac85a36e8022cafa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#aa60922ab5b40a033ac85a36e8022cafa">cts_AddTechnologies</a> (unsigned char technologies, unsigned char *options, unsigned char options_len)</td></tr>
<tr class="separator:aa60922ab5b40a033ac85a36e8022cafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db288b6803c1fba534d94a99f1b646b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#a8db288b6803c1fba534d94a99f1b646b">cts_WaitCardRemoval</a> (<a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a> cbf, void *cb_data)</td></tr>
<tr class="separator:a8db288b6803c1fba534d94a99f1b646b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ab7780df1f8150c6d8a9b3ab3163bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#a92ab7780df1f8150c6d8a9b3ab3163bf">cts_WaitCardRemoval2</a> (unsigned short timeout_sec)</td></tr>
<tr class="separator:a92ab7780df1f8150c6d8a9b3ab3163bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada083dc0f484d99ab24df79ed5f145c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec_8h.html#ada083dc0f484d99ab24df79ed5f145c9">cts_SetNotificationCallback</a> (int type, <a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a> cbf, void *cb_data)</td></tr>
<tr class="separator:ada083dc0f484d99ab24df79ed5f145c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface definitions for libtec. This file defines the API for the technology selection library. </p><dl class="section author"><dt>Author</dt><dd>Thomas Buening, GSS </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="adbb62b791d8135bcd7edca85fcef33a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb62b791d8135bcd7edca85fcef33a5">&#9670;&nbsp;</a></span>cts_Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cts_Callback) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type of function that is called after technology selection has been finished (see <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a>) or removed (see <a class="el" href="tec_8h.html#a8db288b6803c1fba534d94a99f1b646b">cts_WaitCardRemoval()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>: Data pointer provided by the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa60922ab5b40a033ac85a36e8022cafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60922ab5b40a033ac85a36e8022cafa">&#9670;&nbsp;</a></span>cts_AddTechnologies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_AddTechnologies </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>technologies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>options_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function adds technologies to currently running technology selection. <br  />
This can be useful to adapt to an interface with separated "enable" functions for each technology. <br  />
Restrictions: </p><ul>
<li>Adding <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#ga56e64c2a97c61e8cb043de2852986a3a">CTS_CTLS</a> is not allowed in case one of these options set: <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaeff0a0e1b335597ea1ec0781f15edb08">CTS_PURE_CARD_DETECTION</a>, <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaafe9099680a56edd52a1258a797efa07">CTS_NFC_ENABLE</a>, <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga4678a7752f0337b236971dcd370edf93">CTS_VAS_ENABLE</a> </li>
<li>No support for Contact synchronous cards (<a class="el" href="group___t_e_c___o_p_t_i_o_n___t_a_g_s.html#ga10f9930ac821ef5f612690b2201f94e3">CTS_OPTION_TAG_SYNC_CARD_TYPE</a>)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">technologies</td><td>: technologies to add to running technology selection: combination of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a>, any additional bits are reserved for future use and are currently ignored. Supplying none of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a> is allowed. In this case this function does actually nothing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>: data pointer for future use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options_len</td><td>: length of options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Adding technologies is successfully requested.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gad672622165e6bdf597675c829606bb62">CTS_NOT_STARTED</a> : Technology selection is not running.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga3e498393b2a0ebf740bb6f1e903270a0">CTS_PARAM</a> : <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#ga56e64c2a97c61e8cb043de2852986a3a">CTS_CTLS</a> requested but not supported option is active </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8569782d27f43e5d88cef3575a5d12c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8569782d27f43e5d88cef3575a5d12c6">&#9670;&nbsp;</a></span>cts_RemoveTechnologies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_RemoveTechnologies </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>technologies</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function removes technologies from currently running technology selection. This can be useful to remove contact and magstripe technologies after the application was informed by EMV-ADK that a ctls retap scenario is running. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">technologies</td><td>: technologies to remove from running technology selection: combination of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a>, any additional bits are reserved for future use and are currently ignored. Supplying none of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a> is allowed. In this case this function does actually nothing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Removing technologies is successfully requested.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gad672622165e6bdf597675c829606bb62">CTS_NOT_STARTED</a> : Technology selection is not running.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ada083dc0f484d99ab24df79ed5f145c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada083dc0f484d99ab24df79ed5f145c9">&#9670;&nbsp;</a></span>cts_SetNotificationCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cts_SetNotificationCallback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a>&#160;</td>
          <td class="paramname"><em>cbf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set notification callback function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>: one of <a class="el" href="group___t_e_c___n_o_t_i_f_i_c_a_t_i_o_n___c_b_k___t_y_p_e.html">Notification callback types</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbf</td><td>: Callback function, may be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_data</td><td>: Data pointer that is passed on to the callback function cbf, may be NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa237be1f0249503d0b959d3800f1ee34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa237be1f0249503d0b959d3800f1ee34">&#9670;&nbsp;</a></span>cts_SetOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_SetOptions </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>options_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set additional options. This function must not be called while technology selection is running. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>: data pointer, TLV format, see <a class="el" href="group___t_e_c___o_p_t_i_o_n___t_a_g_s.html">TEC option tags</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options_len</td><td>: length of options </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : No error</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga3e498393b2a0ebf740bb6f1e903270a0">CTS_PARAM</a> : options == NULL or options_len == 0 or TLV error</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gac7ce1e8ae224edcd06cbd17046a9f9de">CTS_ERROR</a> : technology selection is currently running. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac6699fe32fc23e90713eb617e9ff25e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6699fe32fc23e90713eb617e9ff25e7">&#9670;&nbsp;</a></span>cts_StartSelection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_StartSelection </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>supportedTechnologies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>timeout_sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a>&#160;</td>
          <td class="paramname"><em>cbf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>options_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function starts an asynchronous card reader monitoring. The monitoring ends if</p><ul>
<li>magstripe card is swiped or inserted</li>
<li>or chip card is inserted</li>
<li>or contactless card is tapped</li>
<li>or the timeout occurs</li>
<li>or <a class="el" href="tec_8h.html#acaf2d75d1b584ae97ff9ee4da47cee38">cts_StopSelection()</a> is called</li>
<li>or error occurred.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">supportedTechnologies</td><td>: supported technologies: combination of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a>, any additional bits are reserved for future use and are currently ignored. Supplying none of <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a> is allowed. In this case <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> will never return <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> or <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga058dc7a7d6d6562dac8171ca86f5b5c0">CTS_NO_CHIP</a> of course. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_sec</td><td>: main timeout in seconds to wait for card insertion/swipe/tap, min=0 (makes no sense), max=65535s, infinite timeout not possible; if this timeout expires while a timeout defined in options[6..7] or options[8..9] is running, latter timeouts have higher priority, they are not aborted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbf</td><td>: callback function that is called when technology selection has been finished, that means a (positive or negative) result != <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> can be obtained with <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a>, may be NULL. <br  />
 The following APIs are not allowed to be called while the callback function is still in progress: <br  />
<ul>
<li><a class="el" href="tec__common_8h.html#a90770d44c55c14fa472396c74fec6052">cts_SetTraceCallback()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#aa237be1f0249503d0b959d3800f1ee34">cts_SetOptions()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#a8569782d27f43e5d88cef3575a5d12c6">cts_RemoveTechnologies()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#a8db288b6803c1fba534d94a99f1b646b">cts_WaitCardRemoval()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#a92ab7780df1f8150c6d8a9b3ab3163bf">cts_WaitCardRemoval2()</a> <br  />
</li>
<li><a class="el" href="tec_8h.html#acaf2d75d1b584ae97ff9ee4da47cee38">cts_StopSelection()</a> <br  />
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_data</td><td>: data pointer that is passed on to the callback function, may be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>: data pointer:<br  />
<ul>
<li><b>options[0..1]</b>: see <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html">TEC start options</a> <br  />
</li>
<li><b>options[2..3]</b>: reserved.<br  />
</li>
<li><b>options[4]</b>: <em>CT ICC options</em><br  />
 Passed as <code>options</code> to <a class="el" href="group___f_u_n_c___i_c_c.html#ga62577d8d938685a65dd2b326cb03522d" title="Detect if chip card is inserted in card reader (in readable position)">EMV_CT_SmartDetect()</a> and <a class="el" href="group___f_u_n_c___i_c_c.html#gaa63515431ea6f33b113fa7af5562db11" title="Detect if chip card is inserted in card reader (read ATR)">EMV_CT_SmartReset()</a><br  />
</li>
<li><b>options[5]</b>: <em>CTLS ICC options</em><br  />
 Passed as <code>options</code> to <a class="el" href="group___f_u_n_c___i_c_c.html#gae2c93f30f24ceb94c930a7cae2b36116" title="Detect if card is present in the RF field (read ATR)">EMV_CTLS_SmartReset()</a><br  />
</li>
<li><b>options[6..7]</b>: <em>MSR after CTLS timeout</em><br  />
 2-byte binary parameter in big-endian format. min = 0x0000, max = 0xFFFF = 65535ms. <br  />
 Time in milliseconds to wait for MSR-Data after CTLS has been detected. <br  />
 "0x0000" means "do not wait for MSR after CTLS detection". <br  />
 If <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga16b2beeb43cad695a24390db9bee5c15">CTS_MSR_AFTER_CTLS_FAIL</a> set: wait for MSR after CTLS transaction only if that failed. <br  />
</li>
<li><b>options[8..9]</b>: <em>UX30x only: MSR timeout after card insertion</em><br  />
 2-byte binary parameter in big-endian format. min = 0x0000, max = 0xFFFF = 65535ms.<br  />
 For hints about UX hybrid reader handling see <a class="el" href="pg_tec_programmers_guide.html#subsubsec_tec_special_ux_handling">Special behavior on hybrid readers (UX30x)</a> .<br  />
 Two different meanings depending if <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#gadbc63cc59da76fff7974cd5631f56662">CTS_CHIP</a> is set in <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a> :<br  />
<ol type="1">
<li><a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#gadbc63cc59da76fff7974cd5631f56662">CTS_CHIP</a> is set.<br  />
 Time in milliseconds to wait for MSR-Data after a card without chip or with broken chip was inserted.<br  />
 "0x0000" means "do not wait for MSR-Data after card insertion and report <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga058dc7a7d6d6562dac8171ca86f5b5c0">CTS_NO_CHIP</a> immediately".<br  />
</li>
<li><a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#gadbc63cc59da76fff7974cd5631f56662">CTS_CHIP</a> is disabled.<br  />
 Time window in milliseconds for reading MSR-Data after card was inserted.<br  />
 "0x0000" means wait for MSR-Data after card insertion until technology selection finishes.<br  />
 If MSR-Data is not read during this time window:<ul>
<li><a class="el" href="msr_8h.html#aac28b2c3771f8221fc26a35f0fd6d0f8">MSR_Deactivate()</a> shall be called,</li>
<li>technology selection shall be terminated and</li>
<li><a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> shall return the value <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gadf0a2a2d0df56c222253a27bfeefdbb7">CTS_UX_MSRDATA_NOT_AVAILABLE_TIMEOUT</a> <br  />
</li>
</ul>
</li>
</ol>
</li>
<li><b>options[10..11]</b>: <em>CTLS timeout after VAS</em><br  />
 Only relevant if <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga4678a7752f0337b236971dcd370edf93">CTS_VAS_ENABLE</a> and <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaa9ca286b38f42e300648c3d445c90eb3">CTS_EMV_CTLS_TIMEOUT_AFTER_VAS</a> are set.<br  />
 Permissible time window in milliseconds to perform an EMV contactless payment after either VAS_DO_PAY or VAS_DO_PAY_DECRYPT_REQ has been detected.<br  />
 2-byte binary parameter in big-endian format, min = 0x0000 = default value, max = 0xFFFF = 65535ms<br  />
 "0x0000" means "wait for a contactless payment until the main timeout 'timeout_sec' expires".<br  />
 If value is non-zero and a contactless-payment-medium is not detected during this time window:<ul>
<li>technology selection shall be terminated and</li>
<li><a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> shall return the value <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1279a0bd837c7c80b23c747bfe40310f">CTS_CTLS_EMV_NO_CARD</a>.</li>
</ul>
</li>
<li><b>options[12..15]</b>: <em>NFC technologies</em><br  />
 Passed to <a class="el" href="titusstubs_8cpp.html#ac692591d9c1287d0d4b6131a03b2e977">NFC_PT_PollingFull()</a> parameter <a class="el" href="titusstubs_8cpp.html#a70a9cc8408fa9490cd3efde3462f0a88">pollReq.tech_bitmap</a>, 4 byte binary, big-endian, only relevant if <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaafe9099680a56edd52a1258a797efa07">CTS_NFC_ENABLE</a> is set, may be NULL (default = {0}).<br  />
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options_len</td><td>: length of options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Success.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> : Monitoring is already active. Call <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> until it returns != <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> first.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga3e498393b2a0ebf740bb6f1e903270a0">CTS_PARAM</a> : both <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaafe9099680a56edd52a1258a797efa07">CTS_NFC_ENABLE</a> and <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga4678a7752f0337b236971dcd370edf93">CTS_VAS_ENABLE</a> are set.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga631b3ac8f6e41ecfa2aefc97296e0f75">CTS_ERR_LOAD</a> : <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaafe9099680a56edd52a1258a797efa07">CTS_NFC_ENABLE</a> or <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga4678a7752f0337b236971dcd370edf93">CTS_VAS_ENABLE</a> are set but NFC client library could not be loaded.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gac7ce1e8ae224edcd06cbd17046a9f9de">CTS_ERROR</a> : Failure. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="acaf2d75d1b584ae97ff9ee4da47cee38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf2d75d1b584ae97ff9ee4da47cee38">&#9670;&nbsp;</a></span>cts_StopSelection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_StopSelection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function stops a technology selection started via <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a>. It will be called by application if waiting for a card is canceled by user or ECR break. Keep in mind that the technology selection may not be stopped immediately. Call <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> to wait for termination of technology selection. After <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> returns != <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a>, it is safe to call <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> again. </p><dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Stopping technology selection is successfully requested</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gad672622165e6bdf597675c829606bb62">CTS_NOT_STARTED</a> : Technology selection is not running</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8db288b6803c1fba534d94a99f1b646b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db288b6803c1fba534d94a99f1b646b">&#9670;&nbsp;</a></span>cts_WaitCardRemoval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_WaitCardRemoval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tec_8h.html#adbb62b791d8135bcd7edca85fcef33a5">cts_Callback</a>&#160;</td>
          <td class="paramname"><em>cbf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function registers callback for card removal. The function returns immediately with one of the return values stated below. The callback is invoked as soon as the inserted card is removed or immediately if no card is inserted. Keep in mind that the callback is only invoked once. If you want to be informed about the next card removal as well, call this function again, even from within the callback function. Attention: Do not call this function as long as other TEC/EMV functions are running and do not call other TEC/EMV functions until the callback has been invoked! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cbf</td><td>: callback function that is called when a card has been removed, must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_data</td><td>: data pointer that is passed on to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Success.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> : Waiting for card removal is already active.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga3e498393b2a0ebf740bb6f1e903270a0">CTS_PARAM</a> : Missing parameter.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gac7ce1e8ae224edcd06cbd17046a9f9de">CTS_ERROR</a> : Internal error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a92ab7780df1f8150c6d8a9b3ab3163bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ab7780df1f8150c6d8a9b3ab3163bf">&#9670;&nbsp;</a></span>cts_WaitCardRemoval2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_WaitCardRemoval2 </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>timeout_sec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for card removal. The function does not return until card has been removed or timeout has occurred. Attention: Do not call this function as long as other TEC/EMV functions are running and do not call other TEC/EMV functions until the function has returned! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_sec</td><td>: timeout in seconds to wait for card removal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Card has been removed.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gae1d5a1303c3edd9aa78e9ed9b8c3207a">CTS_TIMEOUT</a> : Timeout occurred.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7dd3d4f95380f5b689a4e20aec5a33f7">CTS_API_NOT_ALLOWED</a> : API not allowed because TEC-callback is still in progress.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gac7ce1e8ae224edcd06cbd17046a9f9de">CTS_ERROR</a> : Internal error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aee5b104d8ad6e85feddb685379cdbf0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5b104d8ad6e85feddb685379cdbf0c">&#9670;&nbsp;</a></span>cts_WaitSelection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cts_WaitSelection </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>usedTechnology</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>dataBufferLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>timeout_msec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for technology selection to finish. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">usedTechnology</td><td>: technology that has been selected, only set if <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> is returned. See <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html">TEC technology code</a> . If <a class="el" href="tec__common_8h.html#a56386219739d173835a83194608fedea">CTS_DATA_TLV</a> is set dataBuffer is in TLV format (this is the case if NFC or VAS was detected). In certain circumstances ('MSR after CTLS timeout' is set; UX MSR enhancements not enabled) it is possible that usedTechnology contains more than one technology at once, see documentation. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dataBuffer</td><td>: reference to buffer for output data, only filled if <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> is returned. <br  />
 Recommended allocation size: 11264 bytes if NFC/VAS is used, else 256 bytes <br  />
 a) <a class="el" href="tec__common_8h.html#a56386219739d173835a83194608fedea">CTS_DATA_TLV</a> is set in usedTechnology: <br  />
 contains tags, see <a class="el" href="group___t_e_c___d_a_t_a___t_a_g_s.html">TEC result data tags</a>. <br  />
 b) <a class="el" href="tec__common_8h.html#a56386219739d173835a83194608fedea">CTS_DATA_TLV</a> is not set in usedTechnology: <br  />
 If *usedTechnology &amp; <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#gadbc63cc59da76fff7974cd5631f56662">CTS_CHIP</a> : contains ATR. <br  />
 If *usedTechnology &amp; <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#ga56e64c2a97c61e8cb043de2852986a3a">CTS_CTLS</a> and <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaeff0a0e1b335597ea1ec0781f15edb08">CTS_PURE_CARD_DETECTION</a> was set as option to <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> : contains card info delivered by <a class="el" href="group___f_u_n_c___i_c_c.html#gae2c93f30f24ceb94c930a7cae2b36116" title="Detect if card is present in the RF field (read ATR)">EMV_CTLS_SmartReset()</a>. <br  />
 If *usedTechnology &amp; <a class="el" href="group___t_e_c___t_e_c_h_n_o_l_o_g_i_e_s.html#ga56e64c2a97c61e8cb043de2852986a3a">CTS_CTLS</a> and <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#gaeff0a0e1b335597ea1ec0781f15edb08">CTS_PURE_CARD_DETECTION</a> was not set : contains return value of <a class="el" href="group___f_u_n_c___f_l_o_w.html#gaf23f6f87fe90619810470fad7d11f321" title="CTLS EMV transaction (offline part ... including 1st cryptogram, depends on CTLS scheme)">EMV_CTLS_ContinueOffline()</a>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dataBufferLength</td><td>: buffer size for output data, return data length; if the size of dataBuffer is too small to hold the whole output data, no special error code is returned, the return code is as usual, but the output buffer will be empty, dataBufferLength is set to 0. If return value is != <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a>, dataBufferLength is set to 0 to indicate that there is no data written in dataBuffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_msec</td><td>: timeout in milliseconds to wait for technology selection to finish, min=0, max=65535ms. If technology selection is not finished after this timeout has expired, <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> is returned. In this case <a class="el" href="tec_8h.html#aee5b104d8ad6e85feddb685379cdbf0c">cts_WaitSelection()</a> has to be called again. If a callback function is supplied to <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a>, setting a timeout != 0 is not allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1952f713ce2bbfa1d8b54142ca52ecc4">CTS_OK</a> : Successful completion, card was detected. Not possible if <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga1073825ee49c63471bef39392d6df7e6">CTS_NO_POWERON</a> is set.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga058dc7a7d6d6562dac8171ca86f5b5c0">CTS_NO_CHIP</a> : Card without chip or with broken chip is inserted or card is inserted and <a class="el" href="group___t_e_c___s_t_a_r_t___o_p_t_i_o_n_s.html#ga1073825ee49c63471bef39392d6df7e6">CTS_NO_POWERON</a> is set.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> : Technology selection not completed. Another call of <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> will return <a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7ee2b62641a168354503adbb06508deb">CTS_IN_PROGRESS</a> in this case.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gae1d5a1303c3edd9aa78e9ed9b8c3207a">CTS_TIMEOUT</a> : Timeout occurred, no card detected.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga3e498393b2a0ebf740bb6f1e903270a0">CTS_PARAM</a> : - usedTechnology is NULL pointer; - callback function supplied to <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> and timeout != 0.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gad672622165e6bdf597675c829606bb62">CTS_NOT_STARTED</a> : <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a> was not called previously.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga7cc5cc3d019136c0a8942e62c558b69c">CTS_STOPPED</a> : Technology selection was aborted by <a class="el" href="tec_8h.html#acaf2d75d1b584ae97ff9ee4da47cee38">cts_StopSelection()</a>.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1827cb909b31c770a7af3c5521253ceb">CTS_CTLS_INIT</a> : Contactless transaction was not set up correctly.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gac7ce1e8ae224edcd06cbd17046a9f9de">CTS_ERROR</a> : Internal error occurred.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gaf0431ada300a75873e555d8ec68484c6">CTS_CTLS_NOT_ALLOWED</a> : VFI-Reader has not yet finished previous transaction, e.g. still waiting for ContinueOnline.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#ga1279a0bd837c7c80b23c747bfe40310f">CTS_CTLS_EMV_NO_CARD</a> : ADK-EMV has detected no medium to perform a contactless payment.</li>
<li><a class="el" href="group___t_e_c___r_e_t_u_r_n___c_o_d_e_s.html#gadf0a2a2d0df56c222253a27bfeefdbb7">CTS_UX_MSRDATA_NOT_AVAILABLE_TIMEOUT</a> : Technology selection has been terminated because MSR-Data was not read during the time window set in the input parameter options[8..9] of the function <a class="el" href="tec_8h.html#ac6699fe32fc23e90713eb617e9ff25e7">cts_StartSelection()</a>. This return code is relevant and possible for UX-Devices only. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c2b6fb90cbe225a4c7f5c562006e9b78.html">tec</a></li><li class="navelem"><a class="el" href="dir_797c2eec9d33c0e51d543580c2b239ca.html">export</a></li><li class="navelem"><a class="el" href="dir_fa87c044aa590573d847d8ba2d3b48c1.html">tec</a></li><li class="navelem"><a class="el" href="tec_8h.html">tec.h</a></li>
    <li class="footer">Generated on Mon Jun 16 2025 16:03:57 for ADK-Programmers-Guides by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
